var qk=Object.defineProperty,Gk=Object.defineProperties;var Wk=Object.getOwnPropertyDescriptors;var xD=Object.getOwnPropertySymbols,Kk=Object.getPrototypeOf,Qk=Object.prototype.hasOwnProperty,Yk=Object.prototype.propertyIsEnumerable,Zk=Reflect.get;var kD=(n,e,t)=>e in n?qk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})Qk.call(e,t)&&kD(n,t,e[t]);if(xD)for(var t of xD(e))Yk.call(e,t)&&kD(n,t,e[t]);return n},ee=(n,e)=>Gk(n,Wk(e));var Vr=(n,e,t)=>Zk(Kk(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Ag;function Rg(){return Ag}function ir(n){let e=Ag;return Ag=n,e}var Jk=Symbol("NotFound"),_l=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function qo(n){return n===Jk||n?.name==="\u0275NotFound"}function Dl(n,e){return Object.is(n,e)}var ze=null,El=!1,Ng=1,Xk=null,ft=Symbol("SIGNAL");function oe(n){let e=ze;return ze=n,e}function bl(){return ze}var ki={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Go(n){if(El)throw new Error("");if(ze===null)return;ze.consumerOnSignalRead(n);let e=ze.nextProducerIndex++;if(Rl(ze),e<ze.producerNode.length&&ze.producerNode[e]!==n&&Wa(ze)){let t=ze.producerNode[e];Al(t,ze.producerIndexOfThis[e])}ze.producerNode[e]!==n&&(ze.producerNode[e]=n,ze.producerIndexOfThis[e]=Wa(ze)?FD(n,ze,e):0),ze.producerLastReadVersion[e]=n.version}function OD(){Ng++}function Cl(n){if(!(Wa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ng)){if(!n.producerMustRecompute(n)&&!Ka(n)){Tl(n);return}n.producerRecomputeValue(n),Tl(n)}}function Mg(n){if(n.liveConsumerNode===void 0)return;let e=El;El=!0;try{for(let t of n.liveConsumerNode)t.dirty||eO(t)}finally{El=e}}function Pg(){return ze?.consumerAllowSignalWrites!==!1}function eO(n){n.dirty=!0,Mg(n),n.consumerMarkedDirty?.(n)}function Tl(n){n.dirty=!1,n.lastCleanEpoch=Ng}function Oi(n){return n&&(n.nextProducerIndex=0),oe(n)}function Wo(n,e){if(oe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Wa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Al(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ka(n){Rl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Cl(t),r!==t.version))return!0}return!1}function Sl(n){if(Rl(n),Wa(n))for(let e=0;e<n.producerNode.length;e++)Al(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function FD(n,e,t){if(LD(n),n.liveConsumerNode.length===0&&VD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=FD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Al(n,e){if(LD(n),n.liveConsumerNode.length===1&&VD(n))for(let r=0;r<n.producerNode.length;r++)Al(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Rl(i),i.producerIndexOfThis[r]=e}}function Wa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Rl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function LD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function VD(n){return n.producerNode!==void 0}function Nl(n){Xk?.(n)}function Ml(n,e){let t=Object.create(tO);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Cl(t),Go(t),t.value===Ga)throw t.error;return t.value};return r[ft]=t,Nl(t),r}var Il=Symbol("UNSET"),wl=Symbol("COMPUTING"),Ga=Symbol("ERRORED"),tO=ee(k({},ki),{value:Il,dirty:!0,error:null,equal:Dl,kind:"computed",producerMustRecompute(n){return n.value===Il||n.value===wl},producerRecomputeValue(n){if(n.value===wl)throw new Error("");let e=n.value;n.value=wl;let t=Oi(n),r,i=!1;try{r=n.computation(),oe(null),i=e!==Il&&e!==Ga&&r!==Ga&&n.equal(e,r)}catch(o){r=Ga,n.error=o}finally{Wo(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function nO(){throw new Error}var jD=nO;function UD(n){jD(n)}function xg(n){jD=n}var rO=null;function kg(n,e){let t=Object.create(Pl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>BD(t);return r[ft]=t,Nl(t),[r,s=>Ko(t,s),s=>Og(t,s)]}function BD(n){return Go(n),n.value}function Ko(n,e){Pg()||UD(n),n.equal(n.value,e)||(n.value=e,iO(n))}function Og(n,e){Pg()||UD(n),Ko(n,e(n.value))}var Pl=ee(k({},ki),{equal:Dl,value:void 0,kind:"signal"});function iO(n){n.version++,OD(),Mg(n),rO?.(n)}function te(n){return typeof n=="function"}function Qo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var xl=Qo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Fi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Re=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof xl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$D(o)}catch(s){e=e??[],s instanceof xl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new xl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$D(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Fi(t,e)}remove(e){let{_finalizers:t}=this;t&&Fi(t,e),e instanceof n&&e._removeParent(this)}};Re.EMPTY=(()=>{let n=new Re;return n.closed=!0,n})();var Fg=Re.EMPTY;function kl(n){return n instanceof Re||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function $D(n){te(n)?n():n.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yo={setTimeout(n,e,...t){let{delegate:r}=Yo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Yo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ol(n){Yo.setTimeout(()=>{let{onUnhandledError:e}=cn;if(e)e(n);else throw n})}function Qa(){}var HD=Lg("C",void 0,void 0);function zD(n){return Lg("E",void 0,n)}function qD(n){return Lg("N",n,void 0)}function Lg(n,e,t){return{kind:n,value:e,error:t}}var Li=null;function Zo(n){if(cn.useDeprecatedSynchronousErrorHandling){let e=!Li;if(e&&(Li={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Li;if(Li=null,t)throw r}}else n()}function GD(n){cn.useDeprecatedSynchronousErrorHandling&&Li&&(Li.errorThrown=!0,Li.error=n)}var Vi=class extends Re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kl(e)&&e.add(this)):this.destination=aO}static create(e,t,r){return new Jo(e,t,r)}next(e){this.isStopped?jg(qD(e),this):this._next(e)}error(e){this.isStopped?jg(zD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jg(HD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oO=Function.prototype.bind;function Vg(n,e){return oO.call(n,e)}var Ug=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Fl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Fl(r)}else Fl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Fl(t)}}},Jo=class extends Vi{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vg(e.next,o),error:e.error&&Vg(e.error,o),complete:e.complete&&Vg(e.complete,o)}):i=e}this.destination=new Ug(i)}};function Fl(n){cn.useDeprecatedSynchronousErrorHandling?GD(n):Ol(n)}function sO(n){throw n}function jg(n,e){let{onStoppedNotification:t}=cn;t&&Yo.setTimeout(()=>t(n,e))}var aO={closed:!0,next:Qa,error:sO,complete:Qa};var Xo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(n){return n}function Ll(...n){return Bg(n)}function Bg(n){return n.length===0?Ft:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=uO(t)?t:new Jo(t,r,i);return Zo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=WD(r),new r((i,o)=>{let s=new Jo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Xo](){return this}pipe(...t){return Bg(t)(this)}toPromise(t){return t=WD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function WD(n){var e;return(e=n??cn.Promise)!==null&&e!==void 0?e:Promise}function cO(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function uO(n){return n&&n instanceof Vi||cO(n)&&kl(n)}function $g(n){return te(n?.lift)}function he(n){return e=>{if($g(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,e,t,r,i){return new Hg(n,e,t,r,i)}var Hg=class extends Vi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function es(){return he((n,e)=>{let t=null;n._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ts=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,$g(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Re;let t=this.getSubject();e.add(this.source.subscribe(ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Re.EMPTY)}return e}refCount(){return es()(this)}};var KD=Qo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Vl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new KD}next(t){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Fg:(this.currentObservers=null,o.push(t),new Re(()=>{this.currentObservers=null,Fi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new Vl(e,t),n})(),Vl=class extends Fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Fg}};var qe=class extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zg={now(){return(zg.delegate||Date).now()},delegate:void 0};var jl=class extends Re{constructor(e,t){super()}schedule(e,t=0){return this}};var Ya={setInterval(n,e,...t){let{delegate:r}=Ya;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ya;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ns=class extends jl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ya.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ya.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Fi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var rs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};rs.now=zg.now;var is=class extends rs{constructor(e,t=rs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var qg=new is(ns);var Ul=class extends ns{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Bl=class extends is{};var Gg=new Bl(Ul);var St=new J(n=>n.complete());function QD(n){return n&&te(n.schedule)}function YD(n){return n[n.length-1]}function $l(n){return te(YD(n))?n.pop():void 0}function jr(n){return QD(YD(n))?n.pop():void 0}function Wg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function JD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function ZD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ji(n){return this instanceof ji?(this.v=n,this):new ji(n)}function XD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,O){o.push([y,N,R,O])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){g(o[0][3],N)}}function l(y){y.value instanceof ji?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function eb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ZD=="function"?ZD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Hl=n=>n&&typeof n.length=="number"&&typeof n!="function";function zl(n){return te(n?.then)}function ql(n){return te(n[Xo])}function Gl(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function Wl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kl=lO();function Ql(n){return te(n?.[Kl])}function Yl(n){return XD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ji(t.read());if(i)return yield ji(void 0);yield yield ji(r)}}finally{t.releaseLock()}})}function Zl(n){return te(n?.getReader)}function Ue(n){if(n instanceof J)return n;if(n!=null){if(ql(n))return dO(n);if(Hl(n))return hO(n);if(zl(n))return fO(n);if(Gl(n))return tb(n);if(Ql(n))return pO(n);if(Zl(n))return gO(n)}throw Wl(n)}function dO(n){return new J(e=>{let t=n[Xo]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hO(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function fO(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ol)})}function pO(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function tb(n){return new J(e=>{mO(n,e).catch(t=>e.error(t))})}function gO(n){return tb(Yl(n))}function mO(n,e){var t,r,i,o;return JD(this,void 0,void 0,function*(){try{for(t=eb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function At(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ur(n,e=0){return he((t,r)=>{t.subscribe(ue(r,i=>At(r,n,()=>r.next(i),e),()=>At(r,n,()=>r.complete(),e),i=>At(r,n,()=>r.error(i),e)))})}function Br(n,e=0){return he((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function nb(n,e){return Ue(n).pipe(Br(e),Ur(e))}function rb(n,e){return Ue(n).pipe(Br(e),Ur(e))}function ib(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ob(n,e){return new J(t=>{let r;return At(t,e,()=>{r=n[Kl](),At(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Jl(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{At(t,e,()=>{let r=n[Symbol.asyncIterator]();At(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function sb(n,e){return Jl(Yl(n),e)}function ab(n,e){if(n!=null){if(ql(n))return nb(n,e);if(Hl(n))return ib(n,e);if(zl(n))return rb(n,e);if(Gl(n))return Jl(n,e);if(Ql(n))return ob(n,e);if(Zl(n))return sb(n,e)}throw Wl(n)}function Ie(n,e){return e?ab(n,e):Ue(n)}function q(...n){let e=jr(n);return Ie(n,e)}function os(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}function Kg(n){return!!n&&(n instanceof J||te(n.lift)&&te(n.subscribe))}var or=Qo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(n,e){return he((t,r)=>{let i=0;t.subscribe(ue(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:yO}=Array;function vO(n,e){return yO(e)?n(...e):n(e)}function Xl(n){return Y(e=>vO(n,e))}var{isArray:_O}=Array,{getPrototypeOf:EO,prototype:IO,keys:wO}=Object;function ed(n){if(n.length===1){let e=n[0];if(_O(e))return{args:e,keys:null};if(TO(e)){let t=wO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function TO(n){return n&&typeof n=="object"&&EO(n)===IO}function td(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Za(...n){let e=jr(n),t=$l(n),{args:r,keys:i}=ed(n);if(r.length===0)return Ie([],e);let o=new J(DO(r,e,i?s=>td(i,s):Ft));return t?o.pipe(Xl(t)):o}function DO(n,e,t=Ft){return r=>{cb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)cb(e,()=>{let l=Ie(n[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function cb(n,e,t){n?At(t,n,e):e()}function ub(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let R=!1;Ue(t(N,h++)).subscribe(ue(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?At(e,s,()=>C(O)):C(O)}g()}catch(O){e.error(O)}}))};return n.subscribe(ue(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Le(n,e,t=1/0){return te(e)?Le((r,i)=>Y((o,s)=>e(r,o,i,s))(Ue(n(r,i))),t):(typeof e=="number"&&(t=e),he((r,i)=>ub(r,i,n,t)))}function $r(n=1/0){return Le(Ft,n)}function lb(){return $r(1)}function ss(...n){return lb()(Ie(n,jr(n)))}function Ja(n){return new J(e=>{Ue(n()).subscribe(e)})}function Qg(...n){let e=$l(n),{args:t,keys:r}=ed(n),i=new J(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ue(t[h]).subscribe(ue(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?td(r,a):a),o.complete())}))}});return e?i.pipe(Xl(e)):i}function it(n,e){return he((t,r)=>{let i=0;t.subscribe(ue(r,o=>n.call(e,o,i++)&&r.next(o)))})}function sr(n){return he((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ue(t,void 0,void 0,s=>{o=Ue(n(s,sr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function db(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function An(n,e){return te(e)?Le(n,e,1):Le(n,1)}function Hr(n){return he((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ar(n){return n<=0?()=>St:he((e,t)=>{let r=0;e.subscribe(ue(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function nd(n=bO){return he((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function bO(){return new or}function zr(n){return he((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function cr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?it((i,o)=>n(i,o,r)):Ft,ar(1),t?Hr(e):nd(()=>new or))}function as(n){return n<=0?()=>St:he((e,t)=>{let r=[];e.subscribe(ue(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Yg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?it((i,o)=>n(i,o,r)):Ft,as(1),t?Hr(e):nd(()=>new or))}function rd(n,e){return he(db(n,e,arguments.length>=2,!0))}function id(...n){let e=jr(n);return he((t,r)=>{(e?ss(n,t,e):ss(n,t)).subscribe(r)})}function _t(n,e){return he((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=o++;Ue(n(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function od(n){return he((e,t)=>{Ue(n).subscribe(ue(t,()=>t.complete(),Qa)),!t.closed&&e.subscribe(t)})}function Qe(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ft}function hb(n){let e=oe(null);try{return n()}finally{oe(e)}}var ld="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(nc(e,t)),this.code=e}};function CO(n){return`NG0${Math.abs(n)}`}function nc(n,e){return`${CO(n)}${e?": "+e:""}`}var rc=globalThis;function De(n){for(let e in n)if(n[e]===De)return e;throw Error("")}function mb(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Rt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Rt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function um(n,e){return n?e?`${n} ${e}`:n:e||""}var SO=De({__forward_ref__:De});function ln(n){return n.__forward_ref__=ln,n.toString=function(){return Rt(this())},n}function ot(n){return lm(n)?n():n}function lm(n){return typeof n=="function"&&n.hasOwnProperty(SO)&&n.__forward_ref__===ln}function yb(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ic(n){return AO(n,dd)}function dm(n){return ic(n)!==null}function AO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function RO(n){let e=n?.[dd]??null;return e||null}function Jg(n){return n&&n.hasOwnProperty(ad)?n[ad]:null}var dd=De({\u0275prov:De}),ad=De({\u0275inj:De}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hm(n){return n&&!!n.\u0275providers}var fm=De({\u0275cmp:De}),pm=De({\u0275dir:De}),gm=De({\u0275pipe:De}),mm=De({\u0275mod:De}),ec=De({\u0275fac:De}),zi=De({__NG_ELEMENT_ID__:De}),fb=De({__NG_ENV_ID__:De});function us(n){return typeof n=="string"?n:n==null?"":String(n)}function vb(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():us(n)}function ym(n,e){throw new V(-200,n)}function hd(n,e){throw new V(-201,!1)}var Xg;function _b(){return Xg}function Et(n){let e=Xg;return Xg=n,e}function vm(n,e,t){let r=ic(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;hd(n,"Injector")}var NO={},Ui=NO,em="__NG_DI_FLAG__",tm=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Bi(t)||0;try{return this.injector.get(e,r&8?null:Ui,r)}catch(i){if(qo(i))return i;throw i}}},cd="ngTempTokenPath",MO="ngTokenPath",PO=/\n/gm,xO="\u0275",pb="__source";function kO(n,e=0){let t=Rg();if(t===void 0)throw new V(-203,!1);if(t===null)return vm(n,void 0,e);{let r=OO(e),i=t.retrieve(n,r);if(qo(i)){if(r.optional)return null;throw i}return i}}function $(n,e=0){return(_b()||kO)(ot(n),e)}function M(n,e){return $(n,Bi(e))}function Bi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function OO(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function nm(n){let e=[];for(let t=0;t<n.length;t++){let r=ot(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=FO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push($(i,o))}else e.push($(r))}return e}function _m(n,e){return n[em]=e,n.prototype[em]=e,n}function FO(n){return n[em]}function LO(n,e,t,r){let i=n[cd];throw e[pb]&&i.unshift(e[pb]),n.message=VO(`
`+n.message,i,t,r),n[MO]=i,n[cd]=null,n}function VO(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==xO?n.slice(2):n;let i=Rt(e);if(Array.isArray(e))i=e.map(Rt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Rt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(PO,`
  `)}`}function qr(n,e){let t=n.hasOwnProperty(ec);return t?n[ec]:null}function Eb(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Ib(n){return n.flat(Number.POSITIVE_INFINITY)}function fd(n,e){n.forEach(t=>Array.isArray(t)?fd(t,e):e(t))}function Em(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function oc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function wb(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Tb(n,e,t){let r=ls(n,e);return r>=0?n[r|1]=t:(r=~r,wb(n,r,e,t)),r}function pd(n,e){let t=ls(n,e);if(t>=0)return n[t|1]}function ls(n,e){return jO(n,e,1)}function jO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Wr={},Lt=[],Kr=new L(""),Im=new L("",-1),wm=new L(""),tc=class{get(e,t=Ui){if(t===Ui)throw new _l(`NullInjectorError: No provider for ${Rt(e)}!`);return t}};function Tm(n){return n[mm]||null}function dr(n){return n[fm]||null}function Dm(n){return n[pm]||null}function Db(n){return n[gm]||null}function Vt(n){return{\u0275providers:n}}function bb(...n){return{\u0275providers:bm(!0,n),\u0275fromNgModule:!0}}function bm(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return fd(e,s=>{let a=s;ud(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Cb(i,o),t}function Cb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Cm(i,o=>{e(o,r)})}}function ud(n,e,t,r){if(n=ot(n),!n)return!1;let i=null,o=Jg(n),s=!o&&dr(n);if(!o&&!s){let u=n.ngModule;if(o=Jg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)ud(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fd(o.imports,h=>{ud(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Cb(l,e)}if(!a){let l=qr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Lt},i),e({provide:wm,useValue:i,multi:!0},i),e({provide:Kr,useValue:()=>$(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Cm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Cm(n,e){for(let t of n)hm(t)&&(t=t.\u0275providers),Array.isArray(t)?Cm(t,e):e(t)}var UO=De({provide:String,useValue:De});function Sb(n){return n!==null&&typeof n=="object"&&UO in n}function BO(n){return!!(n&&n.useExisting)}function $O(n){return!!(n&&n.useFactory)}function $i(n){return typeof n=="function"}function Ab(n){return!!n.useClass}var sc=new L(""),sd={},gb={},Zg;function ac(){return Zg===void 0&&(Zg=new tc),Zg}var Ce=class{},Hi=class extends Ce{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,im(e,s=>this.processProvider(s)),this.records.set(Im,cs(void 0,this)),i.has("environment")&&this.records.set(Ce,cs(void 0,this));let o=this.records.get(sc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wm,Lt,{self:!0}))}retrieve(e,t){let r=Bi(t)||0;try{return this.get(e,Ui,r)}catch(i){if(qo(i))return i;throw i}}destroy(){Xa(this),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return Xa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Xa(this);let t=ir(this),r=Et(void 0),i;try{return e()}finally{ir(t),Et(r)}}get(e,t=Ui,r){if(Xa(this),e.hasOwnProperty(fb))return e[fb](this);let i=Bi(r),o,s=ir(this),a=Et(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=WO(e)&&ic(e);h&&this.injectableDefInScope(h)?l=cs(rm(e),sd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?ac():this.parent;return t=i&8&&t===Ui?null:t,u.get(e,t)}catch(u){if(qo(u)){if((u[cd]=u[cd]||[]).unshift(Rt(e)),s)throw u;return LO(u,e,"R3InjectorError",this.source)}else throw u}finally{Et(a),ir(s)}}resolveInjectorInitializers(){let e=oe(null),t=ir(this),r=Et(void 0),i;try{let o=this.get(Kr,Lt,{self:!0});for(let s of o)s()}finally{ir(t),Et(r),oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Rt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ot(e);let t=$i(e)?e:ot(e&&e.provide),r=zO(e);if(!$i(e)&&e.multi===!0){let i=this.records.get(t);i||(i=cs(void 0,sd,!0),i.factory=()=>nm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=oe(null);try{return t.value===gb?ym(Rt(e)):t.value===sd&&(t.value=gb,t.value=t.factory()),typeof t.value=="object"&&t.value&&GO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ot(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function rm(n){let e=ic(n),t=e!==null?e.factory:qr(n);if(t!==null)return t;if(n instanceof L)throw new V(204,!1);if(n instanceof Function)return HO(n);throw new V(204,!1)}function HO(n){if(n.length>0)throw new V(204,!1);let t=RO(n);return t!==null?()=>t.factory(n):()=>new n}function zO(n){if(Sb(n))return cs(void 0,n.useValue);{let e=Sm(n);return cs(e,sd)}}function Sm(n,e,t){let r;if($i(n)){let i=ot(n);return qr(i)||rm(i)}else if(Sb(n))r=()=>ot(n.useValue);else if($O(n))r=()=>n.useFactory(...nm(n.deps||[]));else if(BO(n))r=()=>$(ot(n.useExisting));else{let i=ot(n&&(n.useClass||n.provide));if(qO(n))r=()=>new i(...nm(n.deps));else return qr(i)||rm(i)}return r}function Xa(n){if(n.destroyed)throw new V(205,!1)}function cs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qO(n){return!!n.deps}function GO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function WO(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function im(n,e){for(let t of n)Array.isArray(t)?im(t,e):t&&hm(t)?im(t.\u0275providers,e):e(t)}function Be(n,e){let t;n instanceof Hi?(Xa(n),t=n):t=new tm(n);let r,i=ir(t),o=Et(void 0);try{return e()}finally{ir(i),Et(o)}}function Am(){return _b()!==void 0||Rg()!=null}function Rm(n){if(!Am())throw new V(-203,!1)}var dn=0,re=1,Z=2,Ye=3,Qt=4,Yt=5,cc=6,ds=7,pt=8,qi=9,Rn=10,Ve=11,hs=12,Nm=13,Gi=14,Zt=15,Qr=16,Wi=17,Nn=18,uc=19,Mm=20,ur=21,gd=22,lc=23,jt=24,Ki=25,Ut=26,Rb=1;var Yr=7,dc=8,Qi=9,It=10;function Mn(n){return Array.isArray(n)&&typeof n[Rb]=="object"}function hn(n){return Array.isArray(n)&&n[Rb]===!0}function Pm(n){return(n.flags&4)!==0}function Zr(n){return n.componentOffset>-1}function md(n){return(n.flags&1)===1}function Pn(n){return!!n.template}function fs(n){return(n[Z]&512)!==0}function Yi(n){return(n[Z]&256)===256}var Nb="svg",Mb="math";function Jt(n){for(;Array.isArray(n);)n=n[dn];return n}function xm(n,e){return Jt(e[n])}function fn(n,e){return Jt(e[n.index])}function yd(n,e){return n.data[e]}function Pb(n,e){return n[e]}function km(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Xt(n,e){let t=e[n];return Mn(t)?t:t[dn]}function xb(n){return(n[Z]&4)===4}function vd(n){return(n[Z]&128)===128}function kb(n){return hn(n[Ye])}function hc(n,e){return e==null?null:n[e]}function Om(n){n[Wi]=0}function Fm(n){n[Z]&1024||(n[Z]|=1024,vd(n)&&ps(n))}function Ob(n,e){for(;n>0;)e=e[Gi],n--;return e}function fc(n){return!!(n[Z]&9216||n[jt]?.dirty)}function _d(n){n[Rn].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),fc(n)&&ps(n)}function ps(n){n[Rn].changeDetectionScheduler?.notify(0);let e=Gr(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!vd(e)));)e=Gr(e)}function Lm(n,e){if(Yi(n))throw new V(911,!1);n[ur]===null&&(n[ur]=[]),n[ur].push(e)}function Fb(n,e){if(n[ur]===null)return;let t=n[ur].indexOf(e);t!==-1&&n[ur].splice(t,1)}function Gr(n){let e=n[Ye];return hn(e)?e[Ye]:e}function Vm(n){return n[ds]??=[]}function jm(n){return n.cleanup??=[]}function Lb(n,e,t,r){let i=Vm(e);i.push(t),n.firstCreatePass&&jm(n).push(r,i.length-1)}var ae={lFrame:Xb(null),bindingsEnabled:!0,skipHydrationRootTNode:null},pc=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(pc||{}),KO=0,om=!1;function Vb(){return ae.lFrame.elementDepthCount}function jb(){ae.lFrame.elementDepthCount++}function Ub(){ae.lFrame.elementDepthCount--}function Um(){return ae.bindingsEnabled}function Bb(){return ae.skipHydrationRootTNode!==null}function $b(n){return ae.skipHydrationRootTNode===n}function Hb(){ae.skipHydrationRootTNode=null}function de(){return ae.lFrame.lView}function st(){return ae.lFrame.tView}function Ed(n){return ae.lFrame.contextLView=n,n[pt]}function Id(n){return ae.lFrame.contextLView=null,n}function at(){let n=Bm();for(;n!==null&&n.type===64;)n=n.parent;return n}function Bm(){return ae.lFrame.currentTNode}function zb(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function gs(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function $m(){return ae.lFrame.isParent}function qb(){ae.lFrame.isParent=!1}function Hm(n){yb("Must never be called in production mode"),KO=n}function zm(){return om}function qm(n){let e=om;return om=n,e}function wd(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Gb(n){return ae.lFrame.bindingIndex=n}function ms(){return ae.lFrame.bindingIndex++}function Wb(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Kb(){return ae.lFrame.inI18n}function Qb(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,Td(e)}function Yb(){return ae.lFrame.currentDirectiveIndex}function Td(n){ae.lFrame.currentDirectiveIndex=n}function Zb(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Gm(){return ae.lFrame.currentQueryIndex}function Dd(n){ae.lFrame.currentQueryIndex=n}function QO(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[Yt]:null}function Wm(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=QO(o),i===null||(o=o[Gi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=Jb();return r.currentTNode=e,r.lView=n,!0}function bd(n){let e=Jb(),t=n[re];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Jb(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?Xb(n):e}function Xb(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function eC(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Km=eC;function Cd(){let n=eC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tC(n){return(ae.lFrame.contextLView=Ob(n,ae.lFrame.contextLView))[pt]}function Zi(){return ae.lFrame.selectedIndex}function Jr(n){ae.lFrame.selectedIndex=n}function Sd(){let n=ae.lFrame;return yd(n.tView,n.selectedIndex)}function nC(){return ae.lFrame.currentNamespace}var rC=!0;function Ad(){return rC}function Rd(n){rC=n}function sm(n,e=null,t=null,r){let i=Qm(n,e,t,r);return i.resolveInjectorInitializers(),i}function Qm(n,e=null,t=null,r,i=new Set){let o=[t||Lt,bb(n)];return r=r||(typeof n=="object"?void 0:Rt(n)),new Hi(o,e||ac(),r||null,i)}var Ne=class n{static THROW_IF_NOT_FOUND=Ui;static NULL=new tc;static create(e,t){if(Array.isArray(e))return sm({name:""},t,e,"");{let r=e.name??"";return sm({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>$(Im)});static __NG_ELEMENT_ID__=-1},Me=new L(""),hr=(()=>{class n{static __NG_ELEMENT_ID__=YO;static __NG_ENV_ID__=t=>t}return n})(),am=class extends hr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Yi(this._lView)}onDestroy(e){let t=this._lView;return Lm(t,e),()=>Fb(t,e)}};function YO(){return new am(de())}var un=class{_console=console;handleError(e){this._console.error("ERROR",e)}},wt=new L("",{providedIn:"root",factory:()=>{let n=M(Ce),e;return t=>{e??=n.get(un),e.handleError(t)}}}),iC={provide:Kr,useValue:()=>void M(un),multi:!0};function Ym(n){return typeof n=="function"&&n[ft]!==void 0}function xn(n,e){let[t,r,i]=kg(n,e?.equal),o=t,s=o[ft];return o.set=r,o.update=i,o.asReadonly=oC.bind(o),o}function oC(){let n=this[ft];if(n.readonlyFn===void 0){let e=()=>this();e[ft]=n,n.readonlyFn=e}return n.readonlyFn}function Zm(n){return Ym(n)&&typeof n.set=="function"}var lr=class{},Nd=new L("",{providedIn:"root",factory:()=>!1});var Jm=new L(""),Xm=new L("");var Md=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=ZO}return n})();function ZO(){return new Md(de(),at())}var fr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new qe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new J(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),pr=(()=>{class n{internalPendingTasks=M(fr);scheduler=M(lr);errorHandler=M(wt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})();function gc(...n){}var ey=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new cm})}return n})(),cm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Es(n){return{toString:n}.toString()}var Pd="__parameters__";function o1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function FC(n,e,t){return Es(()=>{let r=o1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Pd)?u[Pd]:Object.defineProperty(u,Pd,{value:[]})[Pd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Mt=_m(FC("Optional"),8);var LC=_m(FC("SkipSelf"),4);function s1(n){return typeof n=="function"}var jd=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function VC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var gn=(()=>{let n=()=>jC;return n.ngInherit=!0,n})();function jC(n){return n.type.prototype.ngOnChanges&&(n.setInput=c1),a1}function a1(){let n=BC(this),e=n?.current;if(e){let t=n.previous;if(t===Wr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function c1(n,e,t,r,i){let o=this.declaredInputs[r],s=BC(n)||u1(n,{previous:Wr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new jd(l&&l.currentValue,t,u===Wr),VC(n,e,i,t)}var UC="__ngSimpleChanges__";function BC(n){return n[UC]||null}function u1(n,e){return n[UC]=e}var sC=[];var Ee=function(n,e=null,t){for(let r=0;r<sC.length;r++){let i=sC[r];i(n,e,t)}};function l1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=jC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function $C(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Od(n,e,t){HC(n,e,3,t)}function Fd(n,e,t,r){(n[Z]&3)===t&&HC(n,e,t,r)}function ty(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function HC(n,e,t,r){let i=r!==void 0?n[Wi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Wi]+=65536),(a<o||o==-1)&&(d1(n,t,e,u),n[Wi]=(n[Wi]&4294901760)+u+2),u++}function aC(n,e){Ee(4,n,e);let t=oe(null);try{e.call(n)}finally{oe(t),Ee(5,n,e)}}function d1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Z]>>14<n[Wi]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,aC(a,o)):aC(a,o)}var vs=-1,Xi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function h1(n){return(n.flags&8)!==0}function f1(n){return(n.flags&16)!==0}function p1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];g1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function zC(n){return n===3||n===4||n===6}function g1(n){return n.charCodeAt(0)===64}function vc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?cC(n,t,i,null,e[++r]):cC(n,t,i,null,null))}}return n}function cC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function qC(n){return n!==vs}function Ud(n){return n&32767}function m1(n){return n>>16}function Bd(n,e){let t=m1(n),r=e;for(;t>0;)r=r[Gi],t--;return r}var dy=!0;function $d(n){let e=dy;return dy=n,e}var y1=256,GC=y1-1,WC=5,v1=0,kn={};function _1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(zi)&&(r=t[zi]),r==null&&(r=t[zi]=v1++);let i=r&GC,o=1<<i;e.data[n+(i>>WC)]|=o}function Hd(n,e){let t=KC(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,ny(r.data,n),ny(e,null),ny(r.blueprint,null));let i=Fy(n,e),o=n.injectorIndex;if(qC(i)){let s=Ud(i),a=Bd(i,e),u=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ny(n,e){n.push(0,0,0,0,0,0,0,0,e)}function KC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Fy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=XC(i),r===null)return vs;if(t++,i=i[Gi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return vs}function hy(n,e,t){_1(n,e,t)}function E1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(zC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function QC(n,e,t){if(t&8||n!==void 0)return n;hd(e,"NodeInjector")}function YC(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[qi],o=Et(void 0);try{return i?i.get(e,r,t&8):vm(e,r,t&8)}finally{Et(o)}}return QC(r,e,t)}function ZC(n,e,t,r=0,i){if(n!==null){if(e[Z]&2048&&!(r&2)){let s=D1(n,e,t,r,kn);if(s!==kn)return s}let o=JC(n,e,t,r,kn);if(o!==kn)return o}return YC(e,t,r,i)}function JC(n,e,t,r,i){let o=w1(t);if(typeof o=="function"){if(!Wm(e,n,r))return r&1?QC(i,t,r):YC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))hd(t);else return s}finally{Km()}}else if(typeof o=="number"){let s=null,a=KC(n,e),u=vs,l=r&1?e[Zt][Yt]:null;for((a===-1||r&4)&&(u=a===-1?Fy(n,e):e[a+8],u===vs||!lC(r,!1)?a=-1:(s=e[re],a=Ud(u),e=Bd(u,e)));a!==-1;){let h=e[re];if(uC(o,a,h.data)){let p=I1(a,e,t,s,r,l);if(p!==kn)return p}u=e[a+8],u!==vs&&lC(r,e[re].data[a+8]===l)&&uC(o,a,e)?(s=h,a=Ud(u),e=Bd(u,e)):a=-1}}return i}function I1(n,e,t,r,i,o){let s=e[re],a=s.data[n+8],u=r==null?Zr(a)&&dy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Ld(a,s,t,u,l);return h!==null?_c(e,s,h,a):kn}function Ld(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let C=s[y];if(y<u&&t===C||y>=u&&C.type===t)return y}if(i){let y=s[u];if(y&&Pn(y)&&y.type===t)return u}return null}function _c(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Xi){let s=i;s.resolving&&ym(vb(o[t]));let a=$d(s.canSeeViewProviders);s.resolving=!0;let u=o[t].type||o[t],l,h=s.injectImpl?Et(s.injectImpl):null,p=Wm(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&l1(t,o[t],e)}finally{h!==null&&Et(h),$d(a),s.resolving=!1,Km()}}return i}function w1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(zi)?n[zi]:void 0;return typeof e=="number"?e>=0?e&GC:T1:e}function uC(n,e,t){let r=1<<n;return!!(t[e+(n>>WC)]&r)}function lC(n,e){return!(n&2)&&!(n&1&&e)}var Ji=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ZC(this._tNode,this._lView,e,Bi(r),t)}};function T1(){return new Ji(at(),de())}function ti(n){return Es(()=>{let e=n.prototype.constructor,t=e[ec]||fy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ec]||fy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fy(n){return lm(n)?()=>{let e=fy(ot(n));return e&&e()}:qr(n)}function D1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!fs(s);){let a=JC(o,s,t,r|2,kn);if(a!==kn)return a;let u=o.parent;if(!u){let l=s[Mm];if(l){let h=l.get(t,kn,r);if(h!==kn)return h}u=XC(s),s=s[Gi]}o=u}return i}function XC(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[Yt]:null}function Tc(n){return E1(at(),n)}function b1(){return Is(at(),de())}function Is(n,e){return new Tt(fn(n,e))}var Tt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=b1}return n})();function C1(n){return n instanceof Tt?n.nativeElement:n}function S1(){return this._results[Symbol.iterator]()}var zd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Fe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=Ib(e);(this._changesDetected=!Eb(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=S1};function eS(n){return(n.flags&128)===128}var Ly=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ly||{}),tS=new Map,A1=0;function R1(){return A1++}function N1(n){tS.set(n[uc],n)}function py(n){tS.delete(n[uc])}var dC="__ngContext__";function Dc(n,e){Mn(e)?(n[dC]=e[uc],N1(e)):n[dC]=e}function nS(n){return iS(n[hs])}function rS(n){return iS(n[Qt])}function iS(n){for(;n!==null&&!hn(n);)n=n[Qt];return n}var gy;function Vy(n){gy=n}function oS(){if(gy!==void 0)return gy;if(typeof document<"u")return document;throw new V(210,!1)}var nh=new L("",{providedIn:"root",factory:()=>M1}),M1="ng",rh=new L(""),ni=new L("",{providedIn:"platform",factory:()=>"unknown"});var ih=new L("",{providedIn:"root",factory:()=>oS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var P1="h",x1="b";var sS=!1,aS=new L("",{providedIn:"root",factory:()=>sS});var k1=(n,e,t,r)=>{};function O1(n,e,t,r){k1(n,e,t,r)}var F1=()=>null;function cS(n,e,t=!1){return F1(n,e,t)}function uS(n,e){let t=n.contentQueries;if(t!==null){let r=oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Dd(o),a.contentQueries(2,e[s],s)}}}finally{oe(r)}}}function my(n,e,t){Dd(0);let r=oe(null);try{e(n,t)}finally{oe(r)}}function lS(n,e,t){if(Pm(e)){let r=oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{oe(r)}}}var gr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(gr||{});var xd;function L1(){if(xd===void 0&&(xd=null,rc.trustedTypes))try{xd=rc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xd}function hC(n){return L1()?.createScriptURL(n)||n}var qd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ld})`}};function bc(n){return n instanceof qd?n.changingThisBreaksApplicationSecurity:n}function jy(n,e){let t=dS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ld})`)}return t===e}function dS(n){return n instanceof qd&&n.getTypeName()||null}var V1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hS(n){return n=String(n),n.match(V1)?n:"unsafe:"+n}var oh=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(oh||{});function sh(n){let e=pS();return e?e.sanitize(oh.URL,n)||"":jy(n,"URL")?bc(n):hS(us(n))}function fS(n){let e=pS();if(e)return hC(e.sanitize(oh.RESOURCE_URL,n)||"");if(jy(n,"ResourceURL"))return hC(bc(n));throw new V(904,!1)}function j1(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?fS:sh}function Uy(n,e,t){return j1(e,t)(n)}function pS(){let n=de();return n&&n[Rn].sanitizer}function gS(n){return n instanceof Function?n():n}function U1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var mS="ng-template";function B1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&U1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(By(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function By(n){return n.type===4&&n.value!==mS}function $1(n,e,t){let r=n.type===4&&!t?mS:n.value;return e===r}function H1(n,e,t){let r=4,i=n.attrs,o=i!==null?G1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!pn(r)&&!pn(u))return!1;if(s&&pn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!$1(n,u,t)||u===""&&e.length===1){if(pn(r))return!1;s=!0}}else if(r&8){if(i===null||!B1(n,i,u,t)){if(pn(r))return!1;s=!0}}else{let l=e[++a],h=z1(u,i,By(n),t);if(h===-1){if(pn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(pn(r))return!1;s=!0}}}}return pn(r)||s}function pn(n){return(n&1)===0}function z1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return W1(e,n)}function q1(n,e,t=!1){for(let r=0;r<e.length;r++)if(H1(n,e[r],t))return!0;return!1}function G1(n){for(let e=0;e<n.length;e++){let t=n[e];if(zC(t))return e}return n.length}function W1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function fC(n,e){return n?":not("+e.trim()+")":e}function K1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!pn(s)&&(e+=fC(o,i),i=""),r=s,o=o||!pn(r);t++}return i!==""&&(e+=fC(o,i)),e}function Q1(n){return n.map(K1).join(",")}function Y1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!pn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var mn={};function Z1(n,e){return n.createText(e)}function J1(n,e,t){n.setValue(e,t)}function yS(n,e,t){return n.createElement(e,t)}function Gd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function vS(n,e,t){n.appendChild(e,t)}function pC(n,e,t,r,i){r!==null?Gd(n,e,t,r,i):vS(n,e,t)}function X1(n,e,t){n.removeChild(null,e,t)}function eF(n,e,t){n.setAttribute(e,"style",t)}function tF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function _S(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&p1(n,e,r),i!==null&&tF(n,e,i),o!==null&&eF(n,e,o)}function $y(n,e,t,r,i,o,s,a,u,l,h){let p=Ut+r,g=p+i,y=nF(p,g),C=typeof l=="function"?l():l;return y[re]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function nF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:mn);return t}function rF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=$y(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Hy(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[dn]=i,p[Z]=r|4|128|8|64|1024,(l!==null||n&&n[Z]&2048)&&(p[Z]|=2048),Om(p),p[Ye]=p[Gi]=n,p[pt]=t,p[Rn]=s||n&&n[Rn],p[Ve]=a||n&&n[Ve],p[qi]=u||n&&n[qi]||null,p[Yt]=o,p[uc]=R1(),p[cc]=h,p[Mm]=l,p[Zt]=e.type==2?n[Zt]:p,p}function iF(n,e,t){let r=fn(e,n),i=rF(t),o=n[Rn].rendererFactory,s=zy(n,Hy(n,i,null,ES(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function ES(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function IS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function zy(n,e){return n[hs]?n[Nm][Qt]=e:n[hs]=e,n[Nm]=e,e}function Pt(n=1){wS(st(),de(),Zi()+n,!1)}function wS(n,e,t,r){if(!r)if((e[Z]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Od(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Fd(e,o,0,t)}Jr(t)}var ah=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ah||{});function yy(n,e,t,r){let i=oe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&ah.SignalBased)!==0&&(u=e[o][ft]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):VC(e,u,o,r)}finally{oe(i)}}function TS(n,e,t,r,i){let o=Zi(),s=r&2;try{Jr(-1),s&&e.length>Ut&&wS(n,e,Ut,!1),Ee(s?2:0,i,t),t(r,i)}finally{Jr(o),Ee(s?3:1,i,t)}}function qy(n,e,t){dF(n,e,t),(t.flags&64)===64&&hF(n,e,t)}function DS(n,e,t=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function oF(n,e,t,r){let o=r.get(aS,sS)||t===gr.ShadowDom,s=n.selectRootElement(e,o);return sF(s),s}function sF(n){aF(n)}var aF=()=>null;function cF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function bS(n,e,t,r,i,o){let s=e[re];if(Gy(n,s,e,t,r)){Zr(n)&&lF(e,n.index);return}uF(n,e,t,r,i,o)}function uF(n,e,t,r,i,o){if(n.type&3){let s=fn(n,e);t=cF(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function lF(n,e){let t=Xt(e,n);t[Z]&16||(t[Z]|=64)}function dF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Zr(t)&&iF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Hd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=_c(e,n,s,t);if(Dc(u,e),o!==null&&mF(e,s-r,u,a,t,o),Pn(a)){let l=Xt(t.index,e);l[pt]=_c(e,n,s,t)}}}function hF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Yb();try{Jr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Td(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&fF(u,l)}}finally{Jr(-1),Td(s)}}function fF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function CS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];q1(e,o.selectors,!1)&&(r??=[],Pn(o)?r.unshift(o):r.push(o))}return r}function pF(n,e,t,r,i,o){let s=fn(n,e);gF(e[Ve],s,o,n.value,t,r,i)}function gF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?us(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function mF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];yy(r,t,u,l)}}function yF(n,e){let t=n[qi];if(!t)return;t.get(wt,null)?.(e)}function Gy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];yy(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];yy(h,l,r,i),a=!0}return a}function vF(n,e){let t=Xt(e,n),r=t[re];_F(r,t);let i=t[dn];i!==null&&t[cc]===null&&(t[cc]=cS(i,t[qi])),Ee(18),Wy(r,t,t[pt]),Ee(19,t[pt])}function _F(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Wy(n,e,t){bd(e);try{let r=n.viewQuery;r!==null&&my(1,r,t);let i=n.template;i!==null&&TS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Nn]?.finishViewCreation(n),n.staticContentQueries&&uS(n,e),n.staticViewQueries&&my(2,n.viewQuery,t);let o=n.components;o!==null&&EF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,Cd()}}function EF(n,e){for(let t=0;t<e.length;t++)vF(n,e[t])}function IF(n,e,t,r){let i=oe(null);try{let o=e.tView,a=n[Z]&4096?4096:16,u=Hy(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Qr]=l;let h=n[Nn];return h!==null&&(u[Nn]=h.createEmbeddedView(o)),Wy(o,u,t),u}finally{oe(i)}}function gC(n,e){return!e||e.firstChild===null||eS(n)}var mC=!1,wF=new L(""),TF;function Ky(n,e){return TF(n,e)}var On=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(On||{});function Qy(n){return(n.flags&32)===32}function ys(n,e,t,r,i){if(r!=null){let o,s=!1;hn(r)?o=r:Mn(r)&&(s=!0,r=r[dn]);let a=Jt(r);n===0&&t!==null?i==null?vS(e,t,a):Gd(e,t,a,i||null,!0):n===1&&t!==null?Gd(e,t,a,i||null,!0):n===2?X1(e,a,s):n===3&&e.destroyNode(a),o!=null&&OF(e,n,o,t,i)}}function DF(n,e){SS(n,e),e[dn]=null,e[Yt]=null}function bF(n,e,t,r,i,o){r[dn]=i,r[Yt]=e,ch(n,r,t,1,i,o)}function SS(n,e){e[Rn].changeDetectionScheduler?.notify(9),ch(n,e,e[Ve],2,null,null)}function CF(n){let e=n[hs];if(!e)return ry(n[re],n);for(;e;){let t=null;if(Mn(e))t=e[hs];else{let r=e[It];r&&(t=r)}if(!t){for(;e&&!e[Qt]&&e!==n;)Mn(e)&&ry(e[re],e),e=e[Ye];e===null&&(e=n),Mn(e)&&ry(e[re],e),t=e&&e[Qt]}e=t}}function Yy(n,e){let t=n[Qi],r=t.indexOf(e);t.splice(r,1)}function AS(n,e){if(Yi(e))return;let t=e[Ve];t.destroyNode&&ch(n,e,t,3,null,null),CF(e)}function ry(n,e){if(Yi(e))return;let t=oe(null);try{e[Z]&=-129,e[Z]|=256,e[jt]&&Sl(e[jt]),AF(n,e),SF(n,e),e[re].type===1&&e[Ve].destroy();let r=e[Qr];if(r!==null&&hn(e[Ye])){r!==e[Ye]&&Yy(r,e);let i=e[Nn];i!==null&&i.detachView(n)}py(e)}finally{oe(t)}}function SF(n,e){let t=n.cleanup,r=e[ds];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ds]=null);let i=e[ur];if(i!==null){e[ur]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[lc];if(o!==null){e[lc]=null;for(let s of o)s.destroy()}}function AF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Xi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ee(4,a,u);try{u.call(a)}finally{Ee(5,a,u)}}else{Ee(4,i,o);try{o.call(i)}finally{Ee(5,i,o)}}}}}function RF(n,e,t){return NF(n,e.parent,t)}function NF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[dn];if(Zr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===gr.None||i===gr.Emulated)return null}return fn(r,t)}function MF(n,e,t){return xF(n,e,t)}function PF(n,e,t){return n.type&40?fn(n,t):null}var xF=PF,yC;function Zy(n,e,t,r){let i=RF(n,r,e),o=e[Ve],s=r.parent||e[Yt],a=MF(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)pC(o,i,t[u],a,!1);else pC(o,i,t,a,!1);yC!==void 0&&yC(o,r,e,t,i)}function mc(n,e){if(e!==null){let t=e.type;if(t&3)return fn(e,n);if(t&4)return vy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return mc(n,r);{let i=n[e.index];return hn(i)?vy(-1,i):Jt(i)}}else{if(t&128)return mc(n,e.next);if(t&32)return Ky(e,n)()||Jt(n[e.index]);{let r=RS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gr(n[Zt]);return mc(i,r)}else return mc(n,e.next)}}}return null}function RS(n,e){if(e!==null){let r=n[Zt][Yt],i=e.projection;return r.projection[i]}return null}function vy(n,e){let t=It+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return mc(r,i)}return e[Yr]}function Jy(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Dc(Jt(a),r),t.flags|=2),!Qy(t))if(u&8)Jy(n,e,t.child,r,i,o,!1),ys(e,n,i,a,o);else if(u&32){let l=Ky(t,r),h;for(;h=l();)ys(e,n,i,h,o);ys(e,n,i,a,o)}else u&16?kF(n,e,r,t,i,o):ys(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ch(n,e,t,r,i,o){Jy(t,r,n.firstChild,e,i,o,!1)}function kF(n,e,t,r,i,o){let s=t[Zt],u=s[Yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ys(e,n,i,h,o)}else{let l=u,h=s[Ye];eS(r)&&(l.flags|=128),Jy(n,e,l,h,i,o,!0)}}function OF(n,e,t,r,i){let o=t[Yr],s=Jt(t);o!==s&&ys(e,n,r,o,i);for(let a=It;a<t.length;a++){let u=t[a];ch(u[re],u,n,e,r,o)}}function FF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:On.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=On.Important),n.setStyle(t,r,i,o))}}function Ec(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Jt(o)),hn(o)&&NS(o,r);let s=t.type;if(s&8)Ec(n,e,t.child,r);else if(s&32){let a=Ky(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=RS(e,t);if(Array.isArray(a))r.push(...a);else{let u=Gr(e[Zt]);Ec(u[re],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function NS(n,e){for(let t=It;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&Ec(r[re],r,i,e)}n[Yr]!==n[dn]&&e.push(n[Yr])}function MS(n){if(n[Ki]!==null){for(let e of n[Ki])e.impl.addSequence(e);n[Ki].length=0}}var PS=[];function LF(n){return n[jt]??VF(n)}function VF(n){let e=PS.pop()??Object.create(UF);return e.lView=n,e}function jF(n){n.lView[jt]!==n&&(n.lView=null,PS.push(n))}var UF=ee(k({},ki),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ps(n.lView)},consumerOnSignalRead(){this.lView[jt]=this}});function BF(n){let e=n[jt]??Object.create($F);return e.lView=n,e}var $F=ee(k({},ki),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Gr(n.lView);for(;e&&!xS(e[re]);)e=Gr(e);e&&Fm(e)},consumerOnSignalRead(){this.lView[jt]=this}});function xS(n){return n.type!==2}function kS(n){if(n[lc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[lc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Z]&8192)}}var HF=100;function Xy(n,e=0){let r=n[Rn].rendererFactory,i=!1;i||r.begin?.();try{zF(n,e)}finally{i||r.end?.()}}function zF(n,e){let t=zm();try{qm(!0),_y(n,e);let r=0;for(;fc(n);){if(r===HF)throw new V(103,!1);r++,_y(n,1)}}finally{qm(t)}}function OS(n,e){Hm(e?pc.Exhaustive:pc.OnlyDirtyViews);try{Xy(n)}finally{Hm(pc.Off)}}function qF(n,e,t,r){if(Yi(e))return;let i=e[Z],o=!1,s=!1;bd(e);let a=!0,u=null,l=null;o||(xS(n)?(l=LF(e),u=Oi(l)):bl()===null?(a=!1,l=BF(e),u=Oi(l)):e[jt]&&(Sl(e[jt]),e[jt]=null));try{Om(e),Gb(n.bindingStartIndex),t!==null&&TS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Od(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Fd(e,y,0,null),ty(e,0)}if(s||GF(e),kS(e),FS(e,0),n.contentQueries!==null&&uS(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Od(e,y)}else{let y=n.contentHooks;y!==null&&Fd(e,y,1),ty(e,1)}KF(n,e);let p=n.components;p!==null&&VS(e,p,0);let g=n.viewQuery;if(g!==null&&my(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Od(e,y)}else{let y=n.viewHooks;y!==null&&Fd(e,y,2),ty(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[gd]){for(let y of e[gd])y();e[gd]=null}o||(MS(e),e[Z]&=-73)}catch(h){throw o||ps(e),h}finally{l!==null&&(Wo(l,u),a&&jF(l)),Cd()}}function FS(n,e){for(let t=nS(n);t!==null;t=rS(t))for(let r=It;r<t.length;r++){let i=t[r];LS(i,e)}}function GF(n){for(let e=nS(n);e!==null;e=rS(e)){if(!(e[Z]&2))continue;let t=e[Qi];for(let r=0;r<t.length;r++){let i=t[r];Fm(i)}}}function WF(n,e,t){Ee(18);let r=Xt(e,n);LS(r,t),Ee(19,r[pt])}function LS(n,e){vd(n)&&_y(n,e)}function _y(n,e){let r=n[re],i=n[Z],o=n[jt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ka(o)),s||=!1,o&&(o.dirty=!1),n[Z]&=-9217,s)qF(r,n,r.template,n[pt]);else if(i&8192){let a=oe(null);try{kS(n),FS(n,1);let u=r.components;u!==null&&VS(n,u,1),MS(n)}finally{oe(a)}}}function VS(n,e,t){for(let r=0;r<e.length;r++)WF(n,e[r],t)}function KF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Jr(~i);else{let o=i,s=t[++r],a=t[++r];Qb(s,o);let u=e[o];Ee(24,u),a(2,u),Ee(25,u)}}}finally{Jr(-1)}}function ev(n,e){let t=zm()?64:1088;for(n[Rn].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=Gr(n);if(fs(n)&&!r)return n;n=r}return null}function jS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function QF(n,e,t,r=!0){let i=e[re];if(YF(i,e,n,t),r){let s=vy(t,n),a=e[Ve],u=a.parentNode(n[Yr]);u!==null&&bF(i,n[Yt],a,e,u,s)}let o=e[cc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ey(n,e){if(n.length<=It)return;let t=It+e,r=n[t];if(r){let i=r[Qr];i!==null&&i!==n&&Yy(i,r),e>0&&(n[t-1][Qt]=r[Qt]);let o=oc(n,It+e);DF(r[re],r);let s=o[Nn];s!==null&&s.detachView(o[re]),r[Ye]=null,r[Qt]=null,r[Z]&=-129}return r}function YF(n,e,t,r){let i=It+r,o=t.length;r>0&&(t[i-1][Qt]=e),r<o-It?(e[Qt]=t[i],Em(t,It+r,e)):(t.push(e),e[Qt]=null),e[Ye]=t;let s=e[Qr];s!==null&&t!==s&&US(s,e);let a=e[Nn];a!==null&&a.insertView(n),_d(e),e[Z]|=128}function US(n,e){let t=n[Qi],r=e[Ye];if(Mn(r))n[Z]|=2;else{let i=r[Ye][Zt];e[Zt]!==i&&(n[Z]|=2)}t===null?n[Qi]=[e]:t.push(e)}var Xr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[re];return Ec(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[pt]}set context(e){this._lView[pt]=e}get destroyed(){return Yi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ye];if(hn(e)){let t=e[dc],r=t?t.indexOf(this):-1;r>-1&&(Ey(e,r),oc(t,r))}this._attachedToViewContainer=!1}AS(this._lView[re],this._lView)}onDestroy(e){Lm(this._lView,e)}markForCheck(){ev(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){_d(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,Xy(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[qi].get(wF,mC)}catch{this.exhaustive=mC}}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fs(this._lView),t=this._lView[Qr];t!==null&&!e&&Yy(t,this._lView),SS(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=fs(this._lView),r=this._lView[Qr];r!==null&&!t&&US(r,this._lView),_d(this._lView)}};var ei=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ZF;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=IF(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Xr(o)}}return n})();function ZF(){return tv(at(),de())}function tv(n,e){return n.type&4?new ei(e,n,Is(n,e)):null}function nv(n,e,t,r,i){let o=n.data[e];if(o===null)o=JF(n,e,t,r,i),Kb()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=zb();o.injectorIndex=s===null?-1:s.injectorIndex}return gs(o,!0),o}function JF(n,e,t,r,i){let o=Bm(),s=$m(),a=s?o:o&&o.parent,u=n.data[e]=eL(n,a,t,e,r,i);return XF(n,u,o,s),u}function XF(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function eL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Bb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var aQ=new RegExp(`^(\\d+)*(${x1}|${P1})*(.*)`);var tL=()=>null;function vC(n,e){return tL(n,e)}var BS=class{},uh=class{},Iy=class{resolveComponentFactory(e){throw new V(917,!1)}},Cc=class{static NULL=new Iy},eo=class{},yn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>nL()}return n})();function nL(){let n=de(),e=at(),t=Xt(e.index,n);return(Mn(t)?t:n)[Ve]}var $S=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();var Vd={},wy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Vd,r);return i!==Vd||t===Vd?i:this.parentInjector.get(e,t,r)}};function _C(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=um(i,a);else if(o==2){let u=a,l=e[++s];r=um(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function z(n,e=0){let t=de();if(t===null)return $(n,e);let r=at();return ZC(r,t,ot(n),e)}function rv(){let n="invalid";throw new Error(n)}function HS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}oL(n,e,t,a,o,u,l)}o!==null&&r!==null&&rL(t,r,o)}function rL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function iL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function oL(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&Pn(y)&&(u=!0,iL(n,t,g)),hy(Hd(t,e),n,y.type)}dL(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=IS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=vc(t.mergedAttrs,y.hostAttrs),aL(n,t,e,p,y),lL(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);t.directiveToIndex.set(y.type,[p,N+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}sL(n,t,o)}function sL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))EC(0,e,i,r),EC(1,e,i,r),wC(e,r,!1);else{let o=t.get(i);IC(0,e,o,r),IC(1,e,o,r),wC(e,r,!0)}}}function EC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),zS(e,o)}}function IC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),zS(e,s)}}function zS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function wC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||By(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function aL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=qr(i.type,!0)),s=new Xi(o,Pn(i),z);n.blueprint[r]=s,t[r]=s,cL(n,e,r,IS(n,t,i.hostVars,mn),i)}function cL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;uL(s)!=a&&s.push(a),s.push(t,r,o)}}function uL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function lL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Pn(e)&&(t[""]=n)}}function dL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function qS(n,e,t,r,i,o,s,a){let u=e.consts,l=hc(u,s),h=nv(e,n,2,r,l);return o&&HS(e,t,h,hc(u,a),i),h.mergedAttrs=vc(h.mergedAttrs,h.attrs),h.attrs!==null&&_C(h,h.attrs,!1),h.mergedAttrs!==null&&_C(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function GS(n,e){$C(n,e),Pm(e)&&n.queries.elementEnd(e)}function iv(n){return KS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function WS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function KS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function QS(n,e,t){return n[e]=t}function hL(n,e){return n[e]}function io(n,e,t){if(t===mn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function iy(n,e,t){return function r(i){let o=Zr(n)?Xt(n.index,e):e;ev(o,5);let s=e[pt],a=TC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=TC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function TC(n,e,t,r){let i=oe(null);try{return Ee(6,e,t),t(r)!==!1}catch(o){return yF(n,o),!1}finally{Ee(7,e,t),oe(i)}}function fL(n,e,t,r,i,o,s,a){let u=md(n),l=!1,h=null;if(!r&&u&&(h=pL(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=fn(n,t),g=r?r(p):p;O1(t,g,o,a);let y=i.listen(g,o,a),C=r?N=>r(Jt(N[n.index])):n.index;YS(C,e,t,o,a,y,!1)}return l}function pL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ds],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function YS(n,e,t,r,i,o,s){let a=e.firstCreatePass?jm(e):null,u=Vm(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function DC(n,e,t,r,i,o){let s=e[t],a=e[re],l=a.data[t].outputs[r],p=s[l].subscribe(o);YS(n.index,a,e,i,o,p,!0)}var Ty=Symbol("BINDING");var Wd=class extends Cc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=dr(e);return new to(t,this.ngModule)}};function gL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&ah.SignalBased)!==0};return i&&(o.transform=i),o})}function mL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function yL(n,e,t){let r=e instanceof Ce?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new wy(t,r):t}function vL(n){let e=n.get(eo,null);if(e===null)throw new V(407,!1);let t=n.get($S,null),r=n.get(lr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function _L(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return yS(e,t,t==="svg"?Nb:t==="math"?Mb:null)}var to=class extends uh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=gL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=mL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Q1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ee(22);let a=oe(null);try{let u=this.componentDef,l=EL(r,u,s,o),h=yL(u,i||this.ngModule,e),p=vL(h),g=p.rendererFactory.createRenderer(null,u),y=r?oF(g,r,u.encapsulation,h):_L(u,g),C=s?.some(bC)||o?.some(O=>typeof O!="function"&&O.bindings.some(bC)),N=Hy(null,l,null,512|ES(u),null,null,p,g,h,null,cS(y,h,!0));N[Ut]=y,bd(N);let R=null;try{let O=qS(Ut,l,N,"#host",()=>l.directiveRegistry,!0,0);y&&(_S(g,y,O),Dc(y,N)),qy(l,N,O),lS(l,O,N),GS(l,O),t!==void 0&&wL(O,this.ngContentSelectors,t),R=Xt(O.index,N),N[pt]=R[pt],Wy(l,N,null)}catch(O){throw R!==null&&py(R),py(N),O}finally{Ee(23),Cd()}return new Kd(this.componentType,N,!!C)}finally{oe(a)}}};function EL(n,e,t,r){let i=n?["ng-version","20.0.3"]:Y1(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Ty].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Ty].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=Dm(p);u.push(g)}return $y(0,null,IL(o,s),1,a,u,null,null,null,[i],null)}function IL(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function bC(n){let e=n[Ty].kind;return e==="input"||e==="twoWay"}var Kd=class extends BS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=yd(t[re],Ut),this.location=Is(this._tNode,t),this.instance=Xt(this._tNode.index,t)[pt],this.hostView=this.changeDetectorRef=new Xr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Gy(r,i[re],i,e,t);this.previousInputValues.set(e,t);let s=Xt(r.index,i);ev(s,1)}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function wL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mr=(()=>{class n{static __NG_ELEMENT_ID__=TL}return n})();function TL(){let n=at();return JS(n,de())}var DL=mr,ZS=class extends DL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fy(this._hostTNode,this._hostLView);if(qC(e)){let t=Bd(e,this._hostLView),r=Ud(e),i=t[re].data[r+8];return new Ji(i,t)}else return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=CC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-It}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=vC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,gC(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!s1(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new to(dr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let O=(u?p:this.parentInjector).get(Ce,null);O&&(o=O)}let g=dr(h.componentType??{}),y=vC(this._lContainer,g?.id??null),C=y?.firstChild??null,N=h.create(p,i,C,o,s,a);return this.insertImpl(N.hostView,l,gC(this._hostTNode,y)),N}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(kb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ye],l=new ZS(u,u[Yt],u[Ye]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return QF(s,i,o,r),e.attachToViewContainerRef(),Em(oy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=CC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ey(this._lContainer,t);r&&(oc(oy(this._lContainer),t),AS(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ey(this._lContainer,t);return r&&oc(oy(this._lContainer),t)!=null?new Xr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function CC(n){return n[dc]}function oy(n){return n[dc]||(n[dc]=[])}function JS(n,e){let t,r=e[n.index];return hn(r)?t=r:(t=jS(r,e,null,n),e[n.index]=t,zy(e,t)),CL(t,e,n,r),new ZS(t,n,e)}function bL(n,e){let t=n[Ve],r=t.createComment(""),i=fn(e,n),o=t.parentNode(i);return Gd(t,o,r,t.nextSibling(i),!1),r}var CL=RL,SL=()=>!1;function AL(n,e,t){return SL(n,e,t)}function RL(n,e,t,r){if(n[Yr])return;let i;t.type&8?i=Jt(r):i=bL(e,t),n[Yr]=i}var Dy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},by=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)ov(e,t).matches!==null&&this.queries[t].setDirty()}},Cy=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=LL(e):this.predicate=e}},Sy=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ay=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,NL(t,o)),this.matchTNodeWithReadOption(e,t,Ld(t,e,o,!1,!1))}else r===ei?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ld(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Tt||i===mr||i===ei&&t.type&4)this.addMatch(t.index,-2);else{let o=Ld(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function NL(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function ML(n,e){return n.type&11?Is(n,e):n.type&4?tv(n,e):null}function PL(n,e,t,r){return t===-1?ML(e,n):t===-2?xL(n,e,r):_c(n,n[re],t,e)}function xL(n,e,t){if(t===Tt)return Is(e,n);if(t===ei)return tv(e,n);if(t===mr)return JS(e,n)}function XS(n,e,t,r){let i=e[Nn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(PL(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function Ry(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=XS(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=It;p<h.length;p++){let g=h[p];g[Qr]===g[Ye]&&Ry(g[re],g,l,r)}if(h[Qi]!==null){let p=h[Qi];for(let g=0;g<p.length;g++){let y=p[g];Ry(y[re],y,l,r)}}}}}return r}function kL(n,e){return n[Nn].queries[e].queryList}function OL(n,e,t){let r=new zd((t&4)===4);return Lb(n,e,r,r.destroy),(e[Nn]??=new by).queries.push(new Dy(r))-1}function FL(n,e,t,r){let i=st();if(i.firstCreatePass){let o=at();VL(i,new Cy(e,t,r),o.index),jL(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return OL(i,de(),t)}function LL(n){return n.split(",").map(e=>e.trim())}function VL(n,e,t){n.queries===null&&(n.queries=new Sy),n.queries.track(new Ay(e,t))}function jL(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function ov(n,e){return n.queries.getByIndex(e)}function UL(n,e){let t=n[re],r=ov(t,e);return r.crossesNgTemplate?Ry(t,n,e,[]):XS(t,n,r,e)}var SC=new Set;function ws(n){SC.has(n)||(SC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var no=class{},lh=class{};var Qd=class extends no{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Tm(e);this._bootstrapComponents=gS(o.bootstrap),this._r3Injector=Qm(e,t,[{provide:no,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver},...r],Rt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yd=class extends lh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Qd(this.moduleType,e,[])}};var Ic=class extends no{injector;componentFactoryResolver=new Wd(this);instance=null;constructor(e){super();let t=new Hi([...e.providers,{provide:no,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],e.parent||ac(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ts(n,e,t=null){return new Ic({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var BL=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=bm(!1,t.type),i=r.length>0?Ts([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n($(Ce))})}return n})();function Sc(n){return Es(()=>{let e=eA(n),t=ee(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ly.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(BL).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||gr.Emulated,styles:n.styles||Lt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ws("NgStandalone"),tA(t);let r=n.dependencies;return t.directiveDefs=AC(r,!1),t.pipeDefs=AC(r,!0),t.id=GL(t),t})}function $L(n){return dr(n)||Dm(n)}function HL(n){return n!==null}function Bt(n){return Es(()=>({type:n.type,bootstrap:n.bootstrap||Lt,declarations:n.declarations||Lt,imports:n.imports||Lt,exports:n.exports||Lt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zL(n,e){if(n==null)return Wr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=ah.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function qL(n){if(n==null)return Wr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Se(n){return Es(()=>{let e=eA(n);return tA(e),e})}function sv(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function eA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Wr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Lt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:zL(n.inputs,e),outputs:qL(n.outputs),debugInfo:null}}function tA(n){n.features?.forEach(e=>e(n))}function AC(n,e){if(!n)return null;let t=e?Db:$L;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(HL)}function GL(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function WL(n){return Object.getPrototypeOf(n.prototype).constructor}function en(n){let e=WL(n.type),t=!0,r=[n];for(;e;){let i;if(Pn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=sy(n.inputs),s.declaredInputs=sy(n.declaredInputs),s.outputs=sy(n.outputs);let a=i.hostBindings;a&&JL(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&YL(n,u),l&&ZL(n,l),KL(n,i),mb(n.outputs,i.outputs),Pn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===en&&(t=!1)}}e=Object.getPrototypeOf(e)}QL(r)}function KL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function QL(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=vc(i.hostAttrs,t=vc(t,i.hostAttrs))}}function sy(n){return n===Wr?{}:n===Lt?[]:n}function YL(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function ZL(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function JL(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function XL(n,e,t,r,i,o,s,a,u){let l=e.consts,h=nv(e,n,4,s||null,a||null);Um()&&HS(e,t,h,hc(l,u),CS),h.mergedAttrs=vc(h.mergedAttrs,h.attrs),$C(e,h);let p=h.tView=$y(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function eV(n,e,t,r,i,o,s,a,u,l,h){let p=t+Ut,g=e.firstCreatePass?XL(p,e,n,r,i,o,s,a,l):e.data[p];u&&(g.flags|=u),gs(g,!1);let y=tV(e,n,g,t);Ad()&&Zy(e,n,y,g),Dc(y,n);let C=jS(y,n,y,g);return n[p]=C,zy(n,C),AL(C,g,n),md(g)&&qy(e,n,g),l!=null&&DS(n,g,h),g}function ri(n,e,t,r,i,o,s,a){let u=de(),l=st(),h=hc(l.consts,o);return eV(u,l,n,e,t,r,i,h,void 0,s,a),ri}var tV=nV;function nV(n,e,t,r){return Rd(!0),e[Ve].createComment("")}var dh=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(dh||{}),oo=new L(""),nA=!1,Ny=class extends Fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Am()&&(this.destroyRef=M(hr,{optional:!0})??void 0,this.pendingTasks=M(fr,{optional:!0})??void 0)}emit(e){let t=oe(null);try{super.next(e)}finally{oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Re&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Pe=Ny;function rA(n){let e,t;function r(){n=gc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function RC(n){return queueMicrotask(()=>n()),()=>{n=gc}}var av="isAngularZone",Zd=av+"_ID",rV=0,ye=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Pe(!1);onMicrotaskEmpty=new Pe(!1);onStable=new Pe(!1);onError=new Pe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=nA}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,sV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(av)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,iV,gc,gc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},iV={};function cv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function oV(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){rA(()=>{n.callbackScheduled=!1,My(n),n.isCheckStableRunning=!0,cv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),My(n)}function sV(n){let e=()=>{oV(n)},t=rV++;n._inner=n._inner.fork({name:"angular",properties:{[av]:!0,[Zd]:t,[Zd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(aV(u))return r.invokeTask(o,s,a,u);try{return NC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),MC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return NC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!cV(u)&&e(),MC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,My(n),cv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function My(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function NC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function MC(n){n._nesting--,cv(n)}var Jd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Pe;onMicrotaskEmpty=new Pe;onStable=new Pe;onError=new Pe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function aV(n){return iA(n,"__ignore_ng_zone__")}function cV(n){return iA(n,"__scheduler_tick__")}function iA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var uv=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),oA=[0,1,2,3],sA=(()=>{class n{ngZone=M(ye);scheduler=M(lr);errorHandler=M(un,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(oo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ee(16),this.executing=!0;for(let r of oA)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ee(17)}register(t){let{view:r}=t;r!==void 0?((r[Ki]??=[]).push(t),ps(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(dh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ki];e&&(this.view[Ki]=e.filter(t=>t!==this))}};function hh(n,e){!e?.injector&&Rm(hh);let t=e?.injector??M(Ne);return ws("NgAfterNextRender"),lV(n,t,e,!0)}function uV(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function lV(n,e,t,r){let i=e.get(uv);i.impl??=e.get(sA);let o=e.get(oo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(hr):null,a=e.get(Md,null,{optional:!0}),u=new Xd(i.impl,uV(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var lv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var dv=new L("");function yr(n){return!!n&&typeof n.then=="function"}function fh(n){return!!n&&typeof n.subscribe=="function"}var hv=new L("");function ph(n){return Vt([{provide:hv,multi:!0,useValue:n}])}var fv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(hv,{optional:!0})??[];injector=M(Ne);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Be(this.injector,i);if(yr(o))t.push(o);else if(fh(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ac=new L("");function aA(){xg(()=>{let n="";throw new V(600,n)})}function cA(n){return n.isBoundToModule}var dV=10;var so=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(wt);afterRenderManager=M(uv);zonelessEnabled=M(Nd);rootEffectScheduler=M(ey);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Fe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(fr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Y(t=>!t))}constructor(){M(oo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(Ce);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ne.NULL){return this._injector.get(ye).run(()=>{Ee(10);let s=t instanceof uh;if(!this._injector.get(fv).done){let C="";throw new V(405,C)}let u;s?u=t:u=this._injector.get(Cc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=cA(u)?void 0:this._injector.get(no),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(dv,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),yc(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),Ee(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(dh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=oe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,oe(t),this.afterTick.next(),Ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(eo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<dV;)Ee(14),this.synchronizeOnce(),Ee(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!fc(i))continue;let o=r&&!this.zonelessEnabled?0:1;Xy(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>fc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;yc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ac,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>yc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Rc(n,e,t,r){let i=de(),o=ms();if(io(i,o,e)){let s=st(),a=Sd();pF(a,i,n,e,t,r)}return Rc}function tn(n,e,t){let r=de(),i=ms();if(io(r,i,e)){let o=st(),s=Sd();bS(s,r,n,e,r[Ve],t)}return tn}function PC(n,e,t,r,i){Gy(e,n,t,i?"class":"style",r)}function Ze(n,e,t,r){let i=de(),o=st(),s=Ut+n,a=i[Ve],u=o.firstCreatePass?qS(s,o,i,e,CS,Um(),t,r):o.data[s],l=hV(o,i,u,a,e,n);i[s]=l;let h=md(u);return gs(u,!0),_S(a,l,u),!Qy(u)&&Ad()&&Zy(o,i,l,u),(Vb()===0||h)&&Dc(l,i),jb(),h&&(qy(o,i,u),lS(o,u,i)),r!==null&&DS(i,u),Ze}function Ge(){let n=at();$m()?qb():(n=n.parent,gs(n,!1));let e=n;$b(e)&&Hb(),Ub();let t=st();return t.firstCreatePass&&GS(t,e),e.classesWithoutHost!=null&&h1(e)&&PC(t,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&f1(e)&&PC(t,e,de(),e.stylesWithoutHost,!1),Ge}function Ds(n,e,t,r){return Ze(n,e,t,r),Ge(),Ds}var hV=(n,e,t,r,i,o)=>(Rd(!0),yS(r,i,nC()));function pv(){return de()}var Nc="en-US";var fV=Nc;function uA(n){typeof n=="string"&&(fV=n.toLowerCase().replace(/_/g,"-"))}function vn(n,e,t){let r=de(),i=st(),o=at();return lA(i,r,r[Ve],o,n,e,t),vn}function lA(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=iy(r,e,o),fL(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=iy(r,e,o),DC(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=iy(r,e,o),DC(r,e,p,i,i,u)}}function ao(n=1){return tC(n)}function gv(n,e,t,r){FL(n,e,t,r)}function mv(n){let e=de(),t=st(),r=Gm();Dd(r+1);let i=ov(t,r);if(n.dirty&&xb(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=UL(e,r);n.reset(o,C1),n.notifyOnChanges()}return!0}return!1}function yv(){return kL(de(),Gm())}function kd(n,e){return n<<17|e<<2}function ro(n){return n>>17&32767}function pV(n){return(n&2)==2}function gV(n,e){return n&131071|e<<17}function Py(n){return n|2}function _s(n){return(n&131068)>>2}function ay(n,e){return n&-131069|e<<2}function mV(n){return(n&1)===1}function xy(n){return n|1}function yV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ro(s),u=_s(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ls(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=ro(n[a+1]);n[r+1]=kd(g,a),g!==0&&(n[g+1]=ay(n[g+1],r)),n[a+1]=gV(n[a+1],r)}else n[r+1]=kd(a,0),a!==0&&(n[a+1]=ay(n[a+1],r)),a=r;else n[r+1]=kd(u,0),a===0?a=r:n[u+1]=ay(n[u+1],r),u=r;l&&(n[r+1]=Py(n[r+1])),xC(n,h,r,!0),xC(n,h,r,!1),vV(e,h,n,r,o),s=kd(a,u),o?e.classBindings=s:e.styleBindings=s}function vV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ls(o,e)>=0&&(t[r+1]=xy(t[r+1]))}function xC(n,e,t,r){let i=n[t+1],o=e===null,s=r?ro(i):_s(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];_V(u,e)&&(a=!0,n[s+1]=r?xy(l):Py(l)),s=r?ro(l):_s(l)}a&&(n[t+1]=r?Py(i):xy(i))}function _V(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ls(n,e)>=0:!1}function Mc(n,e){return EV(n,e,null,!0),Mc}function EV(n,e,t,r){let i=de(),o=st(),s=Wb(2);if(o.firstUpdatePass&&wV(o,n,s,r),e!==mn&&io(i,s,e)){let a=o.data[Zi()];SV(o,a,i,i[Ve],n,i[s+1]=AV(e,t),r,s)}}function IV(n,e){return e>=n.expandoStartIndex}function wV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Zi()],s=IV(n,t);RV(o,r)&&e===null&&!s&&(e=!1),e=TV(i,o,e,r),yV(i,o,e,t,s,r)}}function TV(n,e,t,r){let i=Zb(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=cy(null,n,e,t,r),t=wc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=cy(i,n,e,t,r),o===null){let u=DV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=cy(null,n,e,u[1],r),u=wc(u,e.attrs,r),bV(n,e,r,u))}else o=CV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function DV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(_s(r)!==0)return n[ro(r)]}function bV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ro(i)]=r}function CV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=wc(r,s,t)}return wc(r,e.attrs,t)}function cy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=wc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function wc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Tb(n,s,t?!0:e[++o]))}return n===void 0?null:n}function SV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=mV(l)?kC(u,e,t,i,_s(l),s):void 0;if(!eh(h)){eh(o)||pV(l)&&(o=kC(u,null,t,i,a,s));let p=xm(Zi(),t);FF(r,s,p,i,o)}}function kC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===mn&&(g=p?Lt:void 0);let y=p?pd(g,r):h===r?g:void 0;if(l&&!eh(y)&&(y=pd(u,r)),eh(y)&&(a=y,s))return a;let C=n[i+1];i=s?ro(C):_s(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=pd(u,r))}return a}function eh(n){return n!==void 0}function AV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Rt(bc(n)))),n}function RV(n,e){return(n.flags&(e?8:16))!==0}function _n(n,e=""){let t=de(),r=st(),i=n+Ut,o=r.firstCreatePass?nv(r,i,1,e,null):r.data[i],s=NV(r,t,o,e,n);t[i]=s,Ad()&&Zy(r,t,s,o),gs(o,!1)}var NV=(n,e,t,r,i)=>(Rd(!0),Z1(e[Ve],r));function MV(n,e,t,r=""){return io(n,ms(),t)?e+us(t)+r:mn}function Pc(n){return vv("",n),Pc}function vv(n,e,t){let r=de(),i=MV(r,n,e,t);return i!==mn&&PV(r,Zi(),i),vv}function PV(n,e,t){let r=xm(e,n);J1(n[Ve],r,t)}function bs(n,e,t){Zm(e)&&(e=e());let r=de(),i=ms();if(io(r,i,e)){let o=st(),s=Sd();bS(s,r,n,e,r[Ve],t)}return bs}function xc(n,e){let t=Zm(n);return t&&n.set(e),t}function Cs(n,e){let t=de(),r=st(),i=at();return lA(r,t,t[Ve],i,n,e),Cs}function _v(n){return io(de(),ms(),n)?us(n):mn}function xV(n,e,t){let r=st();if(r.firstCreatePass){let i=Pn(n);ky(t,r.data,r.blueprint,i,!0),ky(e,r.data,r.blueprint,i,!1)}}function ky(n,e,t,r,i){if(n=ot(n),Array.isArray(n))for(let o=0;o<n.length;o++)ky(n[o],e,t,r,i);else{let o=st(),s=de(),a=at(),u=$i(n)?n:ot(n.provide),l=Sm(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if($i(n)||!n.multi){let y=new Xi(l,i,z),C=ly(u,e,i?h:h+g,p);C===-1?(hy(Hd(a,s),o,u),uy(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[C]=y,s[C]=y)}else{let y=ly(u,e,h+g,p),C=ly(u,e,h,h+g),N=y>=0&&t[y],R=C>=0&&t[C];if(i&&!R||!i&&!N){hy(Hd(a,s),o,u);let O=FV(i?OV:kV,t.length,i,r,l);!i&&R&&(t[C].providerFactory=O),uy(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=dA(t[i?C:y],l,!i&&r);uy(o,n,y>-1?y:C,O)}!i&&r&&R&&t[C].componentProviders++}}}function uy(n,e,t,r){let i=$i(e),o=Ab(e);if(i||o){let u=(o?ot(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function dA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ly(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function kV(n,e,t,r){return Oy(this.multi,[])}function OV(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=_c(t,t[re],this.providerFactory.index,r);o=a.slice(0,s),Oy(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Oy(i,o);return o}function Oy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function FV(n,e,t,r,i){let o=new Xi(n,t,z);return o.multi=[],o.index=e,o.componentProviders=0,dA(o,i,r&&!t),o}function ii(n,e=[]){return t=>{t.providersResolver=(r,i)=>xV(r,i?i(n):n,e)}}function LV(n,e,t){let r=wd()+n,i=de();return i[r]===mn?QS(i,r,t?e.call(t):e()):hL(i,r)}function gh(n,e,t,r){return hA(de(),wd(),n,e,t,r)}function VV(n,e){let t=n[e];return t===mn?void 0:t}function hA(n,e,t,r,i,o){let s=e+t;return io(n,s,i)?QS(n,s+1,o?r.call(o,i):r(i)):VV(n,s+1)}function Ev(n,e){let t=st(),r,i=n+Ut;t.firstCreatePass?(r=jV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=qr(r.type,!0)),s,a=Et(z);try{let u=$d(!1),l=o();return $d(u),km(t,de(),i,l),l}finally{Et(a)}}function jV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Iv(n,e,t){let r=n+Ut,i=de(),o=Pb(i,r);return UV(i,r)?hA(i,wd(),e,o.transform,t,o):o.transform(t)}function UV(n,e){return n[re].data[e].pure}var th=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},wv=(()=>{class n{compileModuleSync(t){return new Yd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Tm(t),o=gS(i.declarations).reduce((s,a)=>{let u=dr(a);return u&&s.push(new to(u)),s},[]);return new th(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var BV=(()=>{class n{zone=M(ye);changeDetectionScheduler=M(lr);applicationRef=M(so);applicationErrorHandler=M(wt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye(ee(k({},pA()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:Kr,multi:!0,useFactory:()=>{let r=M(BV,{optional:!0});return()=>r.initialize()}},{provide:Kr,multi:!0,useFactory:()=>{let r=M($V);return()=>{r.initialize()}}},e===!0?{provide:Jm,useValue:!0}:[],{provide:Xm,useValue:t??nA},{provide:wt,useFactory:()=>{let r=M(ye),i=M(Ce),o;return s=>{o??=i.get(un),r.runOutsideAngular(()=>o.handleError(s))}}}]}function pA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var $V=(()=>{class n{subscription=new Re;initialized=!1;zone=M(ye);pendingTasks=M(fr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gA=(()=>{class n{applicationErrorHandler=M(wt);appRef=M(so);taskService=M(fr);ngZone=M(ye);zonelessEnabled=M(Nd);tracing=M(oo,{optional:!0});disableScheduling=M(Jm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(Xm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?RC:rA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,RC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HV(){return typeof $localize<"u"&&$localize.locale||Nc}var mh=new L("",{providedIn:"root",factory:()=>M(mh,{optional:!0,skipSelf:!0})||HV()});function xt(n){return hb(n)}function Ss(n,e){return Ml(n,e?.equal)}var mA=class{[ft];constructor(e){this[ft]=e}destroy(){this[ft].destroy()}};var IA=Symbol("InputSignalNode#UNSET"),i2=ee(k({},Pl),{transformFn:void 0,applyValueToInputSignal(n,e){Ko(n,e)}});function wA(n,e){let t=Object.create(i2);t.value=n,t.transformFn=e?.transform;function r(){if(Go(t),t.value===IA){let i=null;throw new V(-950,i)}return t.value}return r[ft]=t,r}var vh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Tc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},o2=new L("");o2.__NG_ELEMENT_ID__=n=>{let e=at();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};function yA(n,e){return wA(n,e)}function s2(n){return wA(IA,n)}var TA=(yA.required=s2,yA);var co=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},DA=new co("20.0.3");var Tv=new L(""),a2=new L("");function kc(n){return!n.moduleRef}function c2(n){let e=kc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{kc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(wt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),kc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Tv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Tv);s.add(o),n.moduleRef.onDestroy(()=>{yc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return l2(r,t,()=>{let o=e.get(fv);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(mh,Nc);if(uA(s||Nc),!e.get(a2,!0))return kc(n)?e.get(so):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(kc(n)){let u=e.get(so);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return u2?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var u2;function l2(n,e,t){try{let r=t();return yr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var yh=null;function d2(n=[],e){return Ne.create({name:e,providers:[{provide:sc,useValue:"platform"},{provide:Tv,useValue:new Set([()=>yh=null])},...n]})}function h2(n=[]){if(yh)return yh;let e=d2(n);return yh=e,aA(),f2(e),e}function f2(n){let e=n.get(rh,null);Be(n,()=>{e?.forEach(t=>t())})}function Av(){return!1}var vr=(()=>{class n{static __NG_ELEMENT_ID__=p2}return n})();function p2(n){return g2(at(),de(),(n&16)===16)}function g2(n,e,t){if(Zr(n)&&!t){let r=Xt(n.index,e);return new Xr(r,r)}else if(n.type&175){let r=e[Zt];return new Xr(r,e)}return null}var Dv=class{constructor(){}supports(e){return iv(e)}create(e){return new bv(e)}},m2=(n,e)=>e,bv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||m2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<vA(r,i,o)?t:r,a=vA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,C=y+g;h<=C&&C<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!iv(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,WS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Cv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new _h),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _h),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Cv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Sv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},_h=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Sv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function _A(){return new Rv([new Dv])}var Rv=(()=>{class n{factories;static \u0275prov=j({token:n,providedIn:"root",factory:_A});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||_A()),deps:[[n,new LC,new Mt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function bA(n){Ee(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=h2(r),o=[fA({}),{provide:lr,useExisting:gA},iC,...t||[]],s=new Ic({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return c2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ee(9)}}function uo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function CA(n){let e=dr(n);if(!e)return null;let t=new to(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var RA=null;function nn(){return RA}function Nv(n){RA??=n}var Oc=class{},Fc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(NA),providedIn:"platform"})}return n})(),Mv=new L(""),NA=(()=>{class n extends Fc{_location;_history;_doc=M(Me);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nn().getBaseHref(this._doc)}onPopState(t){let r=nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Eh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function SA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function En(n){return n&&n[0]!=="?"?`?${n}`:n}var In=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(wh),providedIn:"root"})}return n})(),Ih=new L(""),wh=(()=>{class n extends In{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Eh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+En(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+En(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+En(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(Fc),$(Ih,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oi=(()=>{class n{_subject=new Fe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=_2(SA(AA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+En(r))}normalize(t){return n.stripTrailingSlash(v2(this._basePath,AA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+En(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+En(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=En;static joinWithSlash=Eh;static stripTrailingSlash=SA;static \u0275fac=function(r){return new(r||n)($(In))};static \u0275prov=j({token:n,factory:()=>y2(),providedIn:"root"})}return n})();function y2(){return new oi($(In))}function v2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function AA(n){return n.replace(/\/index.html$/,"")}function _2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var kv=(()=>{class n extends In{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Eh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+En(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+En(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(Fc),$(Ih,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var Th=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},bh=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Th(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),MA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);MA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(z(mr),z(ei),z(Rv))};static \u0275dir=Se({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function MA(n,e){n.context.$implicit=e.item}var Ov=(()=>{class n{_viewContainer;_context=new Dh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){PA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){PA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(z(mr),z(ei))};static \u0275dir=Se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Dh=class{$implicit=null;ngIf=null};function PA(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}function E2(n,e){return new V(2100,!1)}var Pv=class{createSubscription(e,t,r){return xt(()=>e.subscribe({next:t,error:r}))}dispose(e){xt(()=>e.unsubscribe())}},xv=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},I2=new xv,w2=new Pv,Fv=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=M(wt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(yr(t))return I2;if(fh(t))return w2;throw E2(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(z(vr,16))};static \u0275pipe=sv({name:"async",type:n,pure:!1})}return n})();var Ch=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=Nt({})}return n})();function Lc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var lo=class{};var xA="browser",T2="server";function kA(n){return n===T2}var OA=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new Lv(M(Me),window)})}return n})(),Lv=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ee(k({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=D2(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ee(k({},t),{left:i-s[0],top:o-s[1]}))}};function D2(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Rh=new L(""),Bv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)($(Rh),$(ye))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Vc=class{_doc;constructor(e){this._doc=e}manager},Sh="ng-app-id";function LA(n){for(let e of n)e.remove()}function VA(n,e){let t=e.createElement("style");return t.textContent=n,t}function b2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Sh}="${e}"],link[${Sh}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Sh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function jv(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var $v=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=kA(o),b2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,VA);r?.forEach(i=>this.addUsage(i,this.external,jv))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(LA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])LA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,VA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,jv(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Sh,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)($(Me),$(nh),$(ih,8),$(ni))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Vv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hv=/%COMP%/g;var UA="%COMP%",C2=`_nghost-${UA}`,S2=`_ngcontent-${UA}`,A2=!0,R2=new L("",{providedIn:"root",factory:()=>A2});function N2(n){return S2.replace(Hv,n)}function M2(n){return C2.replace(Hv,n)}function BA(n,e){return e.map(t=>t.replace(Hv,n))}var zv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new jc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Ah?i.applyToHost(t):i instanceof Uc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case gr.Emulated:o=new Ah(u,l,r,this.appId,h,s,a,p,g);break;case gr.ShadowDom:return new Uv(u,l,t,r,s,a,this.nonce,p,g);default:o=new Uc(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)($(Bv),$($v),$(nh),$(R2),$(Me),$(ni),$(ye),$(ih),$(oo,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),jc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Vv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(jA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Vv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Vv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(t,r,i&On.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&On.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=nn().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function jA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Uv=class extends jc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=BA(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=jv(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Uc=class extends jc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?BA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ah=class extends Uc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=N2(h),this.hostAttr=M2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Nh=class n extends Oc{supportsDOMEvents=!0;static makeCurrent(){Nv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=P2();return t==null?null:x2(t)}resetBaseElement(){Bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lc(document.cookie,e)}},Bc=null;function P2(){return Bc=Bc||document.head.querySelector("base"),Bc?Bc.getAttribute("href"):null}function x2(n){return new URL(n,document.baseURI).pathname}var k2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),HA=(()=>{class n extends Vc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)($(Me))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),$A=["alt","control","meta","shift"],O2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},zA=(()=>{class n extends Vc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),$A.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=O2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$A.forEach(s=>{if(s!==i){let a=F2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)($(Me))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function L2(n,e){return bA(k({rootComponent:n},V2(e)))}function V2(n){return{appProviders:[...H2,...n?.providers??[]],platformProviders:$2}}function j2(){Nh.makeCurrent()}function U2(){return new un}function B2(){return Vy(document),document}var $2=[{provide:ni,useValue:xA},{provide:rh,useValue:j2,multi:!0},{provide:Me,useFactory:B2}];var H2=[{provide:sc,useValue:"root"},{provide:un,useFactory:U2},{provide:Rh,useClass:HA,multi:!0,deps:[Me]},{provide:Rh,useClass:zA,multi:!0,deps:[Me]},zv,$v,Bv,{provide:eo,useExisting:zv},{provide:lo,useClass:k2},[]];var Rs=class{},$c=class{},si=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ph=class{encodeKey(e){return qA(e)}encodeValue(e){return qA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function z2(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var q2=/%(\d[a-f0-9])/gi,G2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qA(n){return encodeURIComponent(n).replace(q2,(e,t)=>G2[t]??e)}function Mh(n){return`${n}`}var _r=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ph,e.fromString){if(e.fromObject)throw new V(2805,!1);this.map=z2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Mh):[Mh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Mh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Mh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var xh=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function W2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function GA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WA(n){return typeof Blob<"u"&&n instanceof Blob}function KA(n){return typeof FormData<"u"&&n instanceof FormData}function K2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var QA="Content-Type",YA="Accept",JA="X-Request-URL",XA="text/plain",e0="application/json",Q2=`${e0}, ${XA}, */*`,As=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(W2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new si,this.context??=new xh,!this.params)this.params=new _r,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||GA(this.body)||WA(this.body)||KA(this.body)||K2(this.body)?this.body:this.body instanceof _r?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||KA(this.body)?null:WA(this.body)?this.body.type||null:GA(this.body)?null:typeof this.body=="string"?XA:this.body instanceof _r?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?e0:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,u=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((y,C)=>y.set(C,e.setHeaders[C]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((y,C)=>y.set(C,e.setParams[C]),p)),new n(t,r,a,{params:p,headers:h,context:g,reportProgress:l,responseType:i,withCredentials:u,transferCache:s,keepalive:o})}},ho=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ho||{}),Ns=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new si,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},kh=class n extends Ns{constructor(e={}){super(e)}type=ho.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hc=class n extends Ns{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ho.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},zc=class extends Ns{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Y2=200,Z2=204;function qv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var t0=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof As)o=t;else{let u;i.headers instanceof si?u=i.headers:u=new si(i.headers);let l;i.params&&(i.params instanceof _r?l=i.params:l=new _r({fromObject:i.params})),o=new As(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=q(o).pipe(An(u=>this.handler.handle(u)));if(t instanceof As||i.observe==="events")return s;let a=s.pipe(it(u=>u instanceof Hc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new V(2806,!1);return u.body}));case"blob":return a.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new V(2807,!1);return u.body}));case"text":return a.pipe(Y(u=>{if(u.body!==null&&typeof u.body!="string")throw new V(2808,!1);return u.body}));case"json":default:return a.pipe(Y(u=>u.body))}case"response":return a;default:throw new V(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new _r().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,qv(i,r))}post(t,r,i={}){return this.request("POST",t,qv(i,r))}put(t,r,i={}){return this.request("PUT",t,qv(i,r))}static \u0275fac=function(r){return new(r||n)($(Rs))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var J2=new L("");function n0(n,e){return e(n)}function X2(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function ej(n,e,t){return(r,i)=>Be(t,()=>e(r,o=>n(o,i)))}var r0=new L(""),Wv=new L(""),i0=new L(""),Kv=new L("",{providedIn:"root",factory:()=>!0});function tj(){let n=null;return(e,t)=>{n===null&&(n=(M(r0,{optional:!0})??[]).reduceRight(X2,n0));let r=M(pr);if(M(Kv)){let o=r.add();return n(e,t).pipe(zr(o))}else return n(e,t)}}var Oh=(()=>{class n extends Rs{backend;injector;chain=null;pendingTasks=M(pr);contributeToStability=M(Kv);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Wv),...this.injector.get(i0,[])]));this.chain=r.reduceRight((i,o)=>ej(i,o,this.injector),n0)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(zr(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)($($c),$(Ce))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var nj=/^\)\]\}',?\n/,rj=RegExp(`^${JA}:`,"m");function ij(n){return"responseURL"in n&&n.responseURL?n.responseURL:rj.test(n.getAllResponseHeaders())?n.getResponseHeader(JA):null}var Gv=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new V(-2800,!1);t.keepalive;let r=this.xhrFactory;return(r.\u0275loadImpl?Ie(r.\u0275loadImpl()):q(null)).pipe(_t(()=>new J(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,R)=>s.setRequestHeader(N,R.join(","))),t.headers.has(YA)||s.setRequestHeader(YA,Q2),!t.headers.has(QA)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(QA,N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",R=new si(s.getAllResponseHeaders()),O=ij(s)||t.url;return u=new kh({headers:R,status:s.status,statusText:N,url:O}),u},h=()=>{let{headers:N,status:R,statusText:O,url:K}=l(),B=null;R!==Z2&&(B=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=B?Y2:0);let ge=R>=200&&R<300;if(t.responseType==="json"&&typeof B=="string"){let nt=B;B=B.replace(nj,"");try{B=B!==""?JSON.parse(B):null}catch(me){B=nt,ge&&(ge=!1,B={error:me,text:B})}}ge?(o.next(new Hc({body:B,headers:N,status:R,statusText:O,url:K||void 0})),o.complete()):o.error(new zc({error:B,headers:N,status:R,statusText:O,url:K||void 0}))},p=N=>{let{url:R}=l(),O=new zc({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(O)},g=!1,y=N=>{g||(o.next(l()),g=!0);let R={type:ho.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},C=N=>{let R={type:ho.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:ho.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)($(lo))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),o0=new L(""),oj="XSRF-TOKEN",sj=new L("",{providedIn:"root",factory:()=>oj}),aj="X-XSRF-TOKEN",cj=new L("",{providedIn:"root",factory:()=>aj}),qc=class{},uj=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)($(Me),$(sj))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function lj(n,e){let t=n.url.toLowerCase();if(!M(o0)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=M(qc).getToken(),i=M(cj);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Qv=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Qv||{});function dj(n,e){return{\u0275kind:n,\u0275providers:e}}function s0(...n){let e=[t0,Gv,Oh,{provide:Rs,useExisting:Oh},{provide:$c,useFactory:()=>M(J2,{optional:!0})??M(Gv)},{provide:Wv,useValue:lj,multi:!0},{provide:o0,useValue:!0},{provide:qc,useClass:uj}];for(let t of n)e.push(...t.\u0275providers);return Vt(e)}var ZA=new L("");function a0(){return dj(Qv.LegacyInterceptors,[{provide:ZA,useFactory:tj},{provide:Wv,useExisting:ZA,multi:!0}])}var hj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=Nt({providers:[s0(a0())]})}return n})();var c0=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)($(Me))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ie="primary",iu=Symbol("RouteTitle"),e_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function go(n){return new e_(n)}function m0(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function pj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fn(n[t],e[t]))return!1;return!0}function Fn(n,e){let t=n?t_(n):void 0,r=e?t_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!y0(n[i],e[i]))return!1;return!0}function t_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function y0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function v0(n){return n.length>0?n[n.length-1]:null}function Er(n){return Kg(n)?n:yr(n)?Ie(Promise.resolve(n)):q(n)}var gj={exact:E0,subset:I0},_0={exact:mj,subset:yj,ignored:()=>!0};function u0(n,e,t){return gj[t.paths](n.root,e.root,t.matrixParams)&&_0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function mj(n,e){return Fn(n,e)}function E0(n,e,t){if(!fo(n.segments,e.segments)||!Vh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!E0(n.children[r],e.children[r],t))return!1;return!0}function yj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>y0(n[t],e[t]))}function I0(n,e,t){return w0(n,e,e.segments,t)}function w0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!fo(i,t)||e.hasChildren()||!Vh(i,t,r))}else if(n.segments.length===t.length){if(!fo(n.segments,t)||!Vh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!I0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!fo(n.segments,i)||!Vh(n.segments,i,r)||!n.children[ie]?!1:w0(n.children[ie],e,o,r)}}function Vh(n,e,t){return e.every((r,i)=>_0[t](n[i].parameters,r.parameters))}var Vn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ve([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){return Ej.serialize(this)}},ve=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jh(this)}},ai=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=go(this.parameters),this._parameterMap}toString(){return D0(this)}};function vj(n,e){return fo(n,e)&&n.every((t,r)=>Fn(t.parameters,e[r].parameters))}function fo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function _j(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}var mo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new ci,providedIn:"root"})}return n})(),ci=class{parse(e){let t=new r_(e);return new Vn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Gc(e.root,!0)}`,r=Tj(e.queryParams),i=typeof e.fragment=="string"?`#${Ij(e.fragment)}`:"";return`${t}${r}${i}`}},Ej=new ci;function jh(n){return n.segments.map(e=>D0(e)).join("/")}function Gc(n,e){if(!n.hasChildren())return jh(n);if(e){let t=n.children[ie]?Gc(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${Gc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=_j(n,(r,i)=>i===ie?[Gc(n.children[ie],!1)]:[`${i}:${Gc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${jh(n)}/${t[0]}`:`${jh(n)}/(${t.join("//")})`}}function T0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fh(n){return T0(n).replace(/%3B/gi,";")}function Ij(n){return encodeURI(n)}function n_(n){return T0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uh(n){return decodeURIComponent(n)}function l0(n){return Uh(n.replace(/\+/g,"%20"))}function D0(n){return`${n_(n.path)}${wj(n.parameters)}`}function wj(n){return Object.entries(n).map(([e,t])=>`;${n_(e)}=${n_(t)}`).join("")}function Tj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Fh(t)}=${Fh(i)}`).join("&"):`${Fh(t)}=${Fh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Dj=/^[^\/()?;#]+/;function Yv(n){let e=n.match(Dj);return e?e[0]:""}var bj=/^[^\/()?;=#]+/;function Cj(n){let e=n.match(bj);return e?e[0]:""}var Sj=/^[^=?&#]+/;function Aj(n){let e=n.match(Sj);return e?e[0]:""}var Rj=/^[^&#]+/;function Nj(n){let e=n.match(Rj);return e?e[0]:""}var r_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new ve(e,t)),r}parseSegment(){let e=Yv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new ai(Uh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Cj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Yv(this.remaining);i&&(r=i,this.capture(r))}e[Uh(t)]=Uh(r)}parseQueryParam(e){let t=Aj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Nj(this.remaining);s&&(r=s,this.capture(r))}let i=l0(t),o=l0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ie]:new ve([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function b0(n){return n.segments.length>0?new ve([],{[ie]:n}):n}function C0(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=C0(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ve(n.segments,e);return Mj(t)}function Mj(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new ve(n.segments.concat(e.segments),e.children)}return n}function ui(n){return n instanceof Vn}function S0(n,e,t=null,r=null){let i=A0(n);return R0(i,e,t,r)}function A0(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new ve(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=b0(r);return e??i}function R0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Zv(i,i,i,t,r);let o=Pj(e);if(o.toRoot())return Zv(i,i,new ve([],{}),t,r);let s=xj(o,i,n),a=s.processChildren?Kc(s.segmentGroup,s.index,o.commands):M0(s.segmentGroup,s.index,o.commands);return Zv(i,s.segmentGroup,a,t,r)}function Bh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Yc(n){return typeof n=="object"&&n!=null&&n.outlets}function Zv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=N0(n,e,t);let a=b0(C0(s));return new Vn(a,o,i)}function N0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=N0(o,e,t)}),new ve(n.segments,r)}var $h=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bh(r[0]))throw new V(4003,!1);let i=r.find(Yc);if(i&&i!==v0(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Pj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new $h(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new $h(t,e,r)}var xs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function xj(n,e,t){if(n.isAbsolute)return new xs(e,!0,0);if(!t)return new xs(e,!1,NaN);if(t.parent===null)return new xs(t,!0,0);let r=Bh(n.commands[0])?0:1,i=t.segments.length-1+r;return kj(t,i,n.numberOfDoubleDots)}function kj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new xs(r,!1,i-o)}function Oj(n){return Yc(n[0])?n[0].outlets:{[ie]:n}}function M0(n,e,t){if(n??=new ve([],{}),n.segments.length===0&&n.hasChildren())return Kc(n,e,t);let r=Fj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ve(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new ve(n.segments.slice(r.pathIndex),n.children),Kc(o,0,i)}else return r.match&&i.length===0?new ve(n.segments,{}):r.match&&!n.hasChildren()?i_(n,e,t):r.match?Kc(n,0,i):i_(n,e,t)}function Kc(n,e,t){if(t.length===0)return new ve(n.segments,{});{let r=Oj(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=Kc(n.children[ie],e,t);return new ve(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=M0(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(n.segments,i)}}function Fj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Yc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!h0(u,l,s))return o;r+=2}else{if(!h0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function i_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Yc(o)){let u=Lj(o.outlets);return new ve(r,u)}if(i===0&&Bh(t[0])){let u=n.segments[e];r.push(new ai(u.path,d0(t[0]))),i++;continue}let s=Yc(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Bh(a)?(r.push(new ai(s,d0(a))),i+=2):(r.push(new ai(s,{})),i++)}return new ve(r,{})}function Lj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=i_(new ve([],{}),0,r))}),e}function d0(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function h0(n,e,t){return n==t.path&&Fn(e,t.parameters)}var ks="imperative",We=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(We||{}),zt=class{id;url;constructor(e,t){this.id=e,this.url=t}},li=class extends zt{type=We.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qt=class extends zt{urlAfterRedirects;type=We.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Dt||{}),Fs=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Fs||{}),Ln=class extends zt{reason;code;type=We.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jn=class extends zt{reason;code;type=We.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ls=class extends zt{error;target;type=We.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zc=class extends zt{urlAfterRedirects;state;type=We.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hh=class extends zt{urlAfterRedirects;state;type=We.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zh=class extends zt{urlAfterRedirects;state;shouldActivate;type=We.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qh=class extends zt{urlAfterRedirects;state;type=We.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gh=class extends zt{urlAfterRedirects;state;type=We.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wh=class{route;type=We.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kh=class{route;type=We.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qh=class{snapshot;type=We.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yh=class{snapshot;type=We.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zh=class{snapshot;type=We.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jh=class{snapshot;type=We.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vs=class{routerEvent;position;anchor;type=We.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Jc=class{},js=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Vj(n){return!(n instanceof Jc)&&!(n instanceof js)}function jj(n,e){return n.providers&&!n._injector&&(n._injector=Ts(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wn(n){return n.outlet||ie}function Uj(n,e){let t=n.filter(r=>wn(r)===e);return t.push(...n.filter(r=>wn(r)!==e)),t}function ou(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Xh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ou(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new yo(this.rootInjector)}},yo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Xh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)($(Ce))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ef=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=o_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=o_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=s_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return s_(e,this._root).map(t=>t.value)}};function o_(n,e){if(n===e.value)return e;for(let t of e.children){let r=o_(n,t);if(r)return r}return null}function s_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=s_(n,t);if(r.length)return r.unshift(e),r}return[]}var Ht=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ps(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Xc=class extends ef{snapshot;constructor(e,t){super(e),this.snapshot=t,p_(this,e)}toString(){return this.snapshot.toString()}};function P0(n){let e=Bj(n),t=new qe([new ai("",{})]),r=new qe({}),i=new qe({}),o=new qe({}),s=new qe(""),a=new Un(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new Xc(new Ht(a,[]),e)}function Bj(n){let e={},t={},r={},i="",o=new po([],e,r,i,t,ie,n,null,{});return new eu("",new Ht(o,[]))}var Un=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Y(l=>l[iu]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>go(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>go(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function tf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&k0(i)&&(r.resolve[iu]=i.title),r}var po=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[iu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=go(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},eu=class extends ef{url;constructor(e,t){super(t),this.url=e,p_(this,t)}toString(){return x0(this._root)}};function p_(n,e){e.value._routerState=n,e.children.forEach(t=>p_(n,t))}function x0(n){let e=n.children.length>0?` { ${n.children.map(x0).join(", ")} } `:"";return`${n.value}${e}`}function Jv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Fn(e.params,t.params)||n.paramsSubject.next(t.params),pj(e.url,t.url)||n.urlSubject.next(t.url),Fn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function a_(n,e){let t=Fn(n.params,e.params)&&vj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||a_(n.parent,e.parent))}function k0(n){return typeof n.title=="string"||n.title===null}var O0=new L(""),g_=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ie;activateEvents=new Pe;deactivateEvents=new Pe;attachEvents=new Pe;detachEvents=new Pe;routerOutletData=TA(void 0);parentContexts=M(yo);location=M(mr);changeDetector=M(vr);inputBinder=M(su,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new c_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Se({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[gn]})}return n})(),c_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Un?this.route:e===yo?this.childContexts:e===O0?this.outletData:this.parent.get(e,t)}},su=new L(""),m_=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Za([r.queryParams,r.params,r.data]).pipe(_t(([o,s,a],u)=>(a=k(k(k({},o),s),a),u===0?q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=CA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),y_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Sc({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ds(0,"router-outlet")},dependencies:[g_],encapsulation:2})}return n})();function v_(n){let e=n.children&&n.children.map(v_),t=e?ee(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=y_),t}function $j(n,e,t){let r=tu(n,e._root,t?t._root:void 0);return new Xc(r,e)}function tu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Hj(n,e,t);return new Ht(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tu(n,a)),s}}let r=zj(e.value),i=e.children.map(o=>tu(n,o));return new Ht(r,i)}}function Hj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return tu(n,r,i);return tu(n,r)})}function zj(n){return new Un(new qe(n.url),new qe(n.params),new qe(n.queryParams),new qe(n.fragment),new qe(n.data),n.outlet,n.component,n)}var Us=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},F0="ngNavigationCancelingError";function nf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ui(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=L0(!1,Dt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function L0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[F0]=!0,t.cancellationCode=e,t}function qj(n){return V0(n)&&ui(n.url)}function V0(n){return!!n&&n[F0]}var Gj=(n,e,t,r)=>Y(i=>(new u_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),u_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ps(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ps(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ps(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ps(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Jv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},rf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Os=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Wj(n,e,t){let r=n._root,i=e?e._root:null;return Wc(r,i,t,[r.value])}function Kj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function $s(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!dm(n)?n:e.get(n):r}function Wc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ps(e);return n.children.forEach(s=>{Qj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qc(a,t.getContext(s),i)),i}function Qj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Yj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new rf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Wc(n,e,a?a.children:null,r,i):Wc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Os(a.outlet.component,s))}else s&&Qc(e,a,i),i.canActivateChecks.push(new rf(r)),o.component?Wc(n,null,a?a.children:null,r,i):Wc(n,null,t,r,i);return i}function Yj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!fo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fo(n.url,e.url)||!Fn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!a_(n,e)||!Fn(n.queryParams,e.queryParams);case"paramsChange":default:return!a_(n,e)}}function Qc(n,e,t){let r=Ps(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qc(s,e.children.getContext(o),t):Qc(s,null,t):Qc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Os(e.outlet.component,i)):t.canDeactivateChecks.push(new Os(null,i)):t.canDeactivateChecks.push(new Os(null,i))}function au(n){return typeof n=="function"}function Zj(n){return typeof n=="boolean"}function Jj(n){return n&&au(n.canLoad)}function Xj(n){return n&&au(n.canActivate)}function eU(n){return n&&au(n.canActivateChild)}function tU(n){return n&&au(n.canDeactivate)}function nU(n){return n&&au(n.canMatch)}function j0(n){return n instanceof or||n?.name==="EmptyError"}var Lh=Symbol("INITIAL_VALUE");function Bs(){return _t(n=>Za(n.map(e=>e.pipe(ar(1),id(Lh)))).pipe(Y(e=>{for(let t of e)if(t!==!0){if(t===Lh)return Lh;if(t===!1||rU(t))return t}return!0}),it(e=>e!==Lh),ar(1)))}function rU(n){return ui(n)||n instanceof Us}function iU(n,e){return Le(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q(ee(k({},t),{guardsResult:!0})):oU(s,r,i,n).pipe(Le(a=>a&&Zj(a)?sU(r,o,n,e):q(a)),Y(a=>ee(k({},t),{guardsResult:a})))})}function oU(n,e,t,r){return Ie(n).pipe(Le(i=>dU(i.component,i.route,t,e,r)),cr(i=>i!==!0,!0))}function sU(n,e,t,r){return Ie(e).pipe(An(i=>ss(cU(i.route.parent,r),aU(i.route,r),lU(n,i.path,t),uU(n,i.route,t))),cr(i=>i!==!0,!0))}function aU(n,e){return n!==null&&e&&e(new Zh(n)),q(!0)}function cU(n,e){return n!==null&&e&&e(new Qh(n)),q(!0)}function uU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Ja(()=>{let s=ou(e)??t,a=$s(o,s),u=Xj(a)?a.canActivate(e,n):Be(s,()=>a(e,n));return Er(u).pipe(cr())}));return q(i).pipe(Bs())}function lU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Kj(s)).filter(s=>s!==null).map(s=>Ja(()=>{let a=s.guards.map(u=>{let l=ou(s.node)??t,h=$s(u,l),p=eU(h)?h.canActivateChild(r,n):Be(l,()=>h(r,n));return Er(p).pipe(cr())});return q(a).pipe(Bs())}));return q(o).pipe(Bs())}function dU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let u=ou(e)??i,l=$s(a,u),h=tU(l)?l.canDeactivate(n,e,t,r):Be(u,()=>l(n,e,t,r));return Er(h).pipe(cr())});return q(s).pipe(Bs())}function hU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=$s(s,n),u=Jj(a)?a.canLoad(e,t):Be(n,()=>a(e,t));return Er(u)});return q(o).pipe(Bs(),U0(r))}function U0(n){return Ll(Qe(e=>{if(typeof e!="boolean")throw nf(n,e)}),Y(e=>e===!0))}function fU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=$s(s,n),u=nU(a)?a.canMatch(e,t):Be(n,()=>a(e,t));return Er(u)});return q(o).pipe(Bs(),U0(r))}var nu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ru=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ms(n){return os(new nu(n))}function pU(n){return os(new V(4e3,!1))}function gU(n){return os(L0(!1,Dt.GuardRejected))}var l_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[ie])return pU(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){return mU(t,i,o).pipe(Y(s=>{if(s instanceof Vn)throw new ru(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new ru(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Vn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ve(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function mU(n,e,t){if(typeof n=="string")return q(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Er(Be(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var d_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yU(n,e,t,r,i){let o=B0(n,e,t);return o.matched?(r=jj(e,r),fU(r,e,t,i).pipe(Y(s=>s===!0?o:k({},d_)))):q(o)}function B0(n,e,t){if(e.path==="**")return vU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},d_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||m0)(t,n,e);if(!i)return k({},d_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function vU(n){return{matched:!0,parameters:n.length>0?v0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function f0(n,e,t,r){return t.length>0&&IU(n,t,r)?{segmentGroup:new ve(e,EU(r,new ve(t,n.children))),slicedSegments:[]}:t.length===0&&wU(n,t,r)?{segmentGroup:new ve(n.segments,_U(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ve(n.segments,n.children),slicedSegments:t}}function _U(n,e,t,r){let i={};for(let o of t)if(sf(n,e,o)&&!r[wn(o)]){let s=new ve([],{});i[wn(o)]=s}return k(k({},r),i)}function EU(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&wn(r)!==ie){let i=new ve([],{});t[wn(r)]=i}return t}function IU(n,e,t){return t.some(r=>sf(n,e,r)&&wn(r)!==ie)}function wU(n,e,t){return t.some(r=>sf(n,e,r))}function sf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function TU(n,e,t){return e.length===0&&!n.children[t]}var h_=class{};function DU(n,e,t,r,i,o,s="emptyOnly"){return new f_(n,e,t,r,i,s,o).recognize()}var bU=31,f_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new l_(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=f0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:t,rootSnapshot:r})=>{let i=new Ht(r,t),o=new eu("",i),s=S0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new po([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(Y(r=>({children:r,rootSnapshot:t})),sr(r=>{if(r instanceof ru)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof Ht?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ie(o).pipe(An(s=>{let a=r.children[s],u=Uj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),rd((s,a)=>(s.push(...a),s)),Hr(null),Yg(),Le(s=>{if(s===null)return Ms(r);let a=$0(s);return CU(a),q(a)}))}processSegment(e,t,r,i,o,s,a){return Ie(t).pipe(An(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(sr(l=>{if(l instanceof nu)return q(null);throw l}))),cr(u=>!!u),sr(u=>{if(j0(u))return TU(r,i,o)?q(new h_):Ms(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return wn(r)!==s&&(s===ie||!sf(i,o,r))?Ms(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ms(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=B0(t,i,o);if(!u)return Ms(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bU&&(this.allowRedirects=!1));let y=new po(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,p0(i),wn(i),i.component??i._loadedComponent??null,i,g0(i)),C=tf(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(C.params),y.data=Object.freeze(C.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(_t(R=>this.applyRedirects.lineralizeSegments(i,R)),Le(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=yU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(_t(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(_t(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,C=new po(g,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,p0(r),wn(r),r.component??r._loadedComponent??null,r,g0(r)),N=tf(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:O}=f0(t,g,y,l);if(O.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(Y(B=>new Ht(C,B)));if(l.length===0&&O.length===0)return q(new Ht(C,[]));let K=wn(r)===o;return this.processSegment(h,l,R,O,K?ie:o,!0,C).pipe(Y(B=>new Ht(C,B instanceof Ht?[B]:[])))}))):Ms(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):hU(e,t,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(e,t).pipe(Qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):gU(t))):q({routes:[],injector:e})}};function CU(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function SU(n){let e=n.value.routeConfig;return e&&e.path===""}function $0(n){let e=[],t=new Set;for(let r of n){if(!SU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=$0(r.children);e.push(new Ht(r.value,i))}return e.filter(r=>!t.has(r))}function p0(n){return n.data||{}}function g0(n){return n.resolve||{}}function AU(n,e,t,r,i,o){return Le(s=>DU(n,e,t,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:u})=>ee(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function RU(n,e){return Le(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of H0(u))s.add(l);let a=0;return Ie(s).pipe(An(u=>o.has(u)?NU(u,r,n,e):(u.data=tf(u,u.parent,n).resolve,q(void 0))),Qe(()=>a++),as(1),Le(u=>a===s.size?q(t):St))})}function H0(n){let e=n.children.map(t=>H0(t)).flat();return[n,...e]}function NU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!k0(i)&&(o[iu]=i.title),Ja(()=>(n.data=tf(n,n.parent,t).resolve,MU(o,n,e,r).pipe(Y(s=>(n._resolvedData=s,n.data=k(k({},n.data),s),null)))))}function MU(n,e,t,r){let i=t_(n);if(i.length===0)return q({});let o={};return Ie(i).pipe(Le(s=>PU(n[s],e,t,r).pipe(cr(),Qe(a=>{if(a instanceof Us)throw nf(new ci,a);o[s]=a}))),as(1),Y(()=>o),sr(s=>j0(s)?St:os(s)))}function PU(n,e,t,r){let i=ou(e)??r,o=$s(n,i),s=o.resolve?o.resolve(e,t):Be(i,()=>o(e,t));return Er(s)}function Xv(n){return _t(e=>{let t=n(e);return t?Ie(t).pipe(Y(()=>e)):q(e)})}var __=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[iu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(z0),providedIn:"root"})}return n})(),z0=(()=>{class n extends __{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)($(c0))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),di=new L("",{providedIn:"root",factory:()=>({})}),vo=new L(""),af=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(wv);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Er(t.loadComponent()).pipe(Y(G0),Qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),zr(()=>{this.componentLoaders.delete(t)})),i=new ts(r,()=>new Fe).pipe(es());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=q0(r,this.compiler,t,this.onLoadEndListener).pipe(zr(()=>{this.childrenLoaders.delete(r)})),s=new ts(o,()=>new Fe).pipe(es());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q0(n,e,t,r){return Er(n.loadChildren()).pipe(Y(G0),Le(i=>i instanceof lh||Array.isArray(i)?q(i):Ie(e.compileModuleAsync(i))),Y(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(vo,[],{optional:!0,self:!0}).flat()),{routes:s.map(v_),injector:o}}))}function xU(n){return n&&typeof n=="object"&&"default"in n}function G0(n){return xU(n)?n.default:n}var cf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(kU),providedIn:"root"})}return n})(),kU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E_=new L(""),I_=new L("");function W0(n,e,t){let r=n.get(I_),i=n.get(Me);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),OU(n))),{onViewTransitionCreated:u}=r;return u&&Be(n,()=>u({transition:a,from:e,to:t})),s}function OU(n){return new Promise(e=>{hh({read:()=>setTimeout(e)},{injector:n})})}var w_=new L(""),uf=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Fe;transitionAbortWithErrorSubject=new Fe;configLoader=M(af);environmentInjector=M(Ce);destroyRef=M(hr);urlSerializer=M(mo);rootContexts=M(yo);location=M(oi);inputBindingEnabled=M(su,{optional:!0})!==null;titleStrategy=M(__);options=M(di,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(cf);createViewTransition=M(E_,{optional:!0});navigationErrorHandler=M(w_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Wh(i)),r=i=>this.events.next(new Kh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ee(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new qe(null),this.transitions.pipe(it(r=>r!==null),_t(r=>{let i=!1;return q(r).pipe(_t(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Dt.SupersededByNewNavigation),St;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ee(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let u="";return this.events.next(new jn(o.id,this.urlSerializer.serialize(o.rawUrl),u,Fs.IgnoredSameUrlNavigation)),o.resolve(!1),St}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return q(o).pipe(_t(u=>(this.events.next(new li(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?St:Promise.resolve(u))),AU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ee(k({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new Zc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new li(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let C=P0(this.rootComponentType).snapshot;return this.currentTransition=r=ee(k({},o),{targetSnapshot:C,urlAfterRedirects:l,extras:ee(k({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,q(r)}else{let u="";return this.events.next(new jn(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Fs.IgnoredByUrlHandlingStrategy)),o.resolve(!1),St}}),Qe(o=>{let s=new Hh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Y(o=>(this.currentTransition=r=ee(k({},o),{guards:Wj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),iU(this.environmentInjector,o=>this.events.next(o)),Qe(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw nf(this.urlSerializer,o.guardsResult);let s=new zh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),it(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Dt.GuardRejected),!1)),Xv(o=>{if(o.guards.canActivateChecks.length!==0)return q(o).pipe(Qe(s=>{let a=new qh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),_t(s=>{let a=!1;return q(s).pipe(RU(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Dt.NoDataFromResolver)}}))}),Qe(s=>{let a=new Gh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Xv(o=>{let s=a=>{let u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(Qe(l=>{a.component=l}),Y(()=>{})));for(let l of a.children)u.push(...s(l));return u};return Za(s(o.targetSnapshot.root)).pipe(Hr(null),ar(1))}),Xv(()=>this.afterPreactivation()),_t(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ie(a).pipe(Y(()=>r)):q(r)}),Y(o=>{let s=$j(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ee(k({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Qe(()=>{this.events.next(new Jc)}),Gj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ar(1),od(new J(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(it(()=>!i&&!r.targetRouterState),Qe(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Dt.Aborted)}))),Qe({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),od(this.transitionAbortWithErrorSubject.pipe(Qe(o=>{throw o}))),zr(()=>{i||this.cancelNavigationTransition(r,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),sr(o=>{if(this.destroyed)return r.resolve(!1),St;if(i=!0,V0(o))this.events.next(new Ln(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),qj(o)?this.events.next(new js(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ls(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Us){let{message:u,cancellationCode:l}=nf(this.urlSerializer,a);this.events.next(new Ln(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new js(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return St}))}))}cancelNavigationTransition(t,r,i){let o=new Ln(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FU(n){return n!==ks}var K0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(LU),providedIn:"root"})}return n})(),of=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},LU=(()=>{class n extends of{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ti(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Q0=(()=>{class n{urlSerializer=M(mo);options=M(di,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(oi);urlHandlingStrategy=M(cf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Vn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Vn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=P0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(VU),providedIn:"root"})}return n})(),VU=(()=>{class n extends Q0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof li?this.updateStateMemento():t instanceof jn?this.commitTransition(r):t instanceof Zc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Jc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ln&&t.code!==Dt.SupersededByNewNavigation&&t.code!==Dt.Redirect?this.restoreHistory(r):t instanceof Ls?this.restoreHistory(r,!0):t instanceof qt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ti(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lf(n,e){n.events.pipe(it(t=>t instanceof qt||t instanceof Ln||t instanceof Ls||t instanceof jn),Y(t=>t instanceof qt||t instanceof jn?0:(t instanceof Ln?t.code===Dt.Redirect||t.code===Dt.SupersededByNewNavigation:!1)?2:1),it(t=>t!==2),ar(1)).subscribe(()=>{e()})}var jU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Tn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(lv);stateManager=M(Q0);options=M(di,{optional:!0})||{};pendingTasks=M(fr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(uf);urlSerializer=M(mo);location=M(oi);urlHandlingStrategy=M(cf);injector=M(Ce);_events=new Fe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(K0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(vo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(su,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Re;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ln&&r.code!==Dt.Redirect&&r.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qt)this.navigated=!0;else if(r instanceof js){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||FU(i.source)},s);this.scheduleNavigation(a,ks,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Vj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ks,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.injector.get(wt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(v_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=A0(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return R0(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ui(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ks,null,r)}navigate(t,r={skipLocationChange:!1}){return BU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},jU):r===!1?i=k({},UU):i=r,ui(t))return u0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return u0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return lf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}var Hs=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=xn(null);get href(){return xt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Fe;applicationErrorHandler=M(wt);options=M(di,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(M(new vh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof qt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ui(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ui(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(z(Tn),z(Un),Tc("tabindex"),z(yn),z(Tt),z(In))};static \u0275dir=Se({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&vn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Rc("href",i.reactiveHref(),Uy)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",uo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",uo],replaceUrl:[2,"replaceUrl","replaceUrl",uo],routerLink:"routerLink"},features:[gn]})}return n})(),$U=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Pe;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof qt&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe($r()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ie(t).pipe($r()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=HU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(z(Tn),z(Tt),z(yn),z(vr),z(Hs,8))};static \u0275dir=Se({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&gv(o,Hs,5),r&2){let s;mv(s=yv())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[gn]})}return n})();function HU(n){return!!n.paths}var cu=class{};var Y0=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(it(t=>t instanceof qt),An(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ts(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ie(i).pipe($r())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=q(null);let o=i.pipe(Le(s=>s===null?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ie([o,s]).pipe($r())}else return o})}static \u0275fac=function(r){return new(r||n)($(Tn),$(Ce),$(cu),$(af))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Z0=new L(""),zU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ks;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof jn&&t.code===Fs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vs&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Vs(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){rv()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function qU(n,...e){return Vt([{provide:vo,multi:!0,useValue:n},[],{provide:Un,useFactory:J0,deps:[Tn]},{provide:Ac,multi:!0,useFactory:X0},e.map(t=>t.\u0275providers)])}function J0(n){return n.routerState.root}function uu(n,e){return{\u0275kind:n,\u0275providers:e}}function X0(){let n=M(Ne);return e=>{let t=n.get(so);if(e!==t.components[0])return;let r=n.get(Tn),i=n.get(eR);n.get(D_)===1&&r.initialNavigation(),n.get(rR,null,{optional:!0})?.setUpPreloading(),n.get(Z0,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var eR=new L("",{factory:()=>new Fe}),D_=new L("",{providedIn:"root",factory:()=>1});function tR(){let n=[{provide:D_,useValue:0},ph(()=>{let e=M(Ne);return e.get(Mv,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Tn),o=e.get(eR);lf(i,()=>{r(!0)}),e.get(uf).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))})];return uu(2,n)}function nR(){let n=[ph(()=>{M(Tn).setUpLocationChangeListener()}),{provide:D_,useValue:2}];return uu(3,n)}var rR=new L("");function iR(n){return uu(0,[{provide:rR,useExisting:Y0},{provide:cu,useExisting:n}])}function oR(){return uu(8,[m_,{provide:su,useExisting:m_}])}function sR(n){ws("NgRouterViewTransitions");let e=[{provide:E_,useValue:W0},{provide:I_,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return uu(9,e)}var aR=[oi,{provide:mo,useClass:ci},Tn,yo,{provide:Un,useFactory:J0,deps:[Tn]},af,[]],b_=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[aR,[],{provide:vo,multi:!0,useValue:t},[],r?.errorHandler?{provide:w_,useValue:r.errorHandler}:[],{provide:di,useValue:r||{}},r?.useHash?WU():KU(),GU(),r?.preloadingStrategy?iR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?QU(r):[],r?.bindToComponentInputs?oR().\u0275providers:[],r?.enableViewTransitions?sR().\u0275providers:[],YU()]}}static forChild(t){return{ngModule:n,providers:[{provide:vo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=Nt({})}return n})();function GU(){return{provide:Z0,useFactory:()=>{let n=M(OA),e=M(ye),t=M(di),r=M(uf),i=M(mo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new zU(i,r,n,e,t)}}}function WU(){return{provide:In,useClass:kv}}function KU(){return{provide:In,useClass:wh}}function QU(n){return[n.initialNavigation==="disabled"?nR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?tR().\u0275providers:[]]}var T_=new L("");function YU(){return[{provide:T_,useFactory:X0},{provide:Ac,multi:!0,useExisting:T_}]}var cR=()=>{};var dR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},JU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},df={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new S_;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},S_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},XU=function(n){let e=dR(n);return df.encodeByteArray(e,!0)},du=function(n){return XU(n).replace(/\./g,"")},hf=function(n){try{return df.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function R_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eB=()=>R_().__FIREBASE_DEFAULTS__,tB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&hf(n[1]);return e&&JSON.parse(e)},ff=()=>{try{return cR()||eB()||tB()||nB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},N_=n=>{var e,t;return(t=(e=ff())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hR=n=>{let e=N_(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},M_=()=>{var n;return(n=ff())===null||n===void 0?void 0:n.config},P_=n=>{var e;return(e=ff())===null||e===void 0?void 0:e[`_${n}`]};var _o=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function hi(n){return n.endsWith(".cloudworkstations.dev")}function pf(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function fR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[du(JSON.stringify(t)),du(JSON.stringify(s)),""].join(".")}var lu={};function rB(){let n={prod:[],emulator:[]};for(let e of Object.keys(lu))lu[e]?n.emulator.push(e):n.prod.push(e);return n}function iB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var uR=!1;function gf(n,e){if(typeof window>"u"||typeof document>"u"||!hi(window.location.host)||lu[n]===e||lu[n]||uR)return;lu[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=rB().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{uR=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=iB(r),y=t("text"),C=document.getElementById(y)||document.createElement("span"),N=t("learnmore"),R=document.getElementById(N)||document.createElement("a"),O=t("preprendIcon"),K=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let B=g.element;a(B),h(R,N);let ge=l();u(K,O),B.append(K,C,R,ge),document.body.appendChild(B)}o?(C.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function oB(){var n;let e=(n=ff())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vR(){let n=Je();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _R(){return!oB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hu(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var sB="FirebaseError",Gt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=sB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dn.prototype.create)}},Dn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?aB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gt(i,a,r)}};function aB(n,e){return n.replace(cB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var cB=/\{\$([^}]+)}/g;function IR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(lR(o)&&lR(s)){if(!Bn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function lR(n){return n!==null&&typeof n=="object"}function fu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wR(n,e){let t=new A_(n,e);return t.subscribe.bind(t)}var A_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");uB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=C_),i.error===void 0&&(i.error=C_),i.complete===void 0&&(i.complete=C_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function uB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function C_(){}var Gie=4*60*60*1e3;function je(n){return n&&n._delegate?n._delegate:n}var bt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Eo="[DEFAULT]";var x_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new _o;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dB(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lB(n){return n===Eo?void 0:n}function dB(n){return n.instantiationMode==="EAGER"}var mf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new x_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var hB=[],ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ce||{}),fB={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},pB=ce.INFO,gB={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},mB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=gB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$n=class{constructor(e){this.name=e,this._logLevel=pB,this._logHandler=mB,this._userLogHandler=null,hB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var yB=(n,e)=>e.some(t=>n instanceof t),TR,DR;function vB(){return TR||(TR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _B(){return DR||(DR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bR=new WeakMap,O_=new WeakMap,CR=new WeakMap,k_=new WeakMap,L_=new WeakMap;function EB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Hn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&bR.set(t,n)}).catch(()=>{}),L_.set(e,n),e}function IB(n){if(O_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});O_.set(n,e)}var F_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return O_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SR(n){F_=n(F_)}function wB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(yf(this),e,...t);return CR.set(r,e.sort?e.sort():[e]),Hn(r)}:_B().includes(n)?function(...e){return n.apply(yf(this),e),Hn(bR.get(this))}:function(...e){return Hn(n.apply(yf(this),e))}}function TB(n){return typeof n=="function"?wB(n):(n instanceof IDBTransaction&&IB(n),yB(n,vB())?new Proxy(n,F_):n)}function Hn(n){if(n instanceof IDBRequest)return EB(n);if(k_.has(n))return k_.get(n);let e=TB(n);return e!==n&&(k_.set(n,e),L_.set(e,n)),e}var yf=n=>L_.get(n);function RR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Hn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Hn(s.result),u.oldVersion,u.newVersion,Hn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var DB=["get","getKey","getAll","getAllKeys","count"],bB=["put","add","delete","clear"],V_=new Map;function AR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(V_.get(e))return V_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=bB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DB.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return V_.set(e,o),o}SR(n=>ee(k({},n),{get:(e,t,r)=>AR(e,t)||n.get(e,t,r),has:(e,t)=>!!AR(e,t)||n.has(e,t)}));var U_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function CB(n){let e=n.getComponent();return e?.type==="VERSION"}var B_="@firebase/app",NR="0.13.1";var Ir=new $n("@firebase/app"),SB="@firebase/app-compat",AB="@firebase/analytics-compat",RB="@firebase/analytics",NB="@firebase/app-check-compat",MB="@firebase/app-check",PB="@firebase/auth",xB="@firebase/auth-compat",kB="@firebase/database",OB="@firebase/data-connect",FB="@firebase/database-compat",LB="@firebase/functions",VB="@firebase/functions-compat",jB="@firebase/installations",UB="@firebase/installations-compat",BB="@firebase/messaging",$B="@firebase/messaging-compat",HB="@firebase/performance",zB="@firebase/performance-compat",qB="@firebase/remote-config",GB="@firebase/remote-config-compat",WB="@firebase/storage",KB="@firebase/storage-compat",QB="@firebase/firestore",YB="@firebase/ai",ZB="@firebase/firestore-compat",JB="firebase",XB="11.9.0";var $_="[DEFAULT]",e$={[B_]:"fire-core",[SB]:"fire-core-compat",[RB]:"fire-analytics",[AB]:"fire-analytics-compat",[MB]:"fire-app-check",[NB]:"fire-app-check-compat",[PB]:"fire-auth",[xB]:"fire-auth-compat",[kB]:"fire-rtdb",[OB]:"fire-data-connect",[FB]:"fire-rtdb-compat",[LB]:"fire-fn",[VB]:"fire-fn-compat",[jB]:"fire-iid",[UB]:"fire-iid-compat",[BB]:"fire-fcm",[$B]:"fire-fcm-compat",[HB]:"fire-perf",[zB]:"fire-perf-compat",[qB]:"fire-rc",[GB]:"fire-rc-compat",[WB]:"fire-gcs",[KB]:"fire-gcs-compat",[QB]:"fire-fst",[ZB]:"fire-fst-compat",[YB]:"fire-vertex","fire-js":"fire-js",[JB]:"fire-js-all"};var pu=new Map,t$=new Map,H_=new Map;function MR(n,e){try{n.container.addComponent(e)}catch(t){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function bn(n){let e=n.name;if(H_.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;H_.set(e,n);for(let t of pu.values())MR(t,n);for(let t of t$.values())MR(t,n);return!0}function Gs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function kt(n){return n==null?!1:n.settings!==void 0}var n$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new Dn("app","Firebase",n$);var z_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}};var pi=XB;function W_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:$_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw fi.create("bad-app-name",{appName:String(i)});if(t||(t=M_()),!t)throw fi.create("no-options");let o=pu.get(i);if(o){if(Bn(t,o.options)&&Bn(r,o.config))return o;throw fi.create("duplicate-app",{appName:i})}let s=new mf(i);for(let u of H_.values())s.addComponent(u);let a=new z_(t,r,s);return pu.set(i,a),a}function Io(n=$_){let e=pu.get(n);if(!e&&n===$_&&M_())return W_();if(!e)throw fi.create("no-app",{appName:n});return e}function vf(){return Array.from(pu.values())}function xe(n,e,t){var r;let i=(r=e$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(a.join(" "));return}bn(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var r$="firebase-heartbeat-database",i$=1,gu="firebase-heartbeat-store",j_=null;function OR(){return j_||(j_=RR(r$,i$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw fi.create("idb-open",{originalErrorMessage:n.message})})),j_}function o$(n){return _(this,null,function*(){try{let t=(yield OR()).transaction(gu),r=yield t.objectStore(gu).get(FR(n));return yield t.done,r}catch(e){if(e instanceof Gt)Ir.warn(e.message);else{let t=fi.create("idb-get",{originalErrorMessage:e?.message});Ir.warn(t.message)}}})}function PR(n,e){return _(this,null,function*(){try{let r=(yield OR()).transaction(gu,"readwrite");yield r.objectStore(gu).put(e,FR(n)),yield r.done}catch(t){if(t instanceof Gt)Ir.warn(t.message);else{let r=fi.create("idb-set",{originalErrorMessage:t?.message});Ir.warn(r.message)}}})}function FR(n){return`${n.name}!${n.options.appId}`}var s$=1024,a$=30,q_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new G_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>a$){let s=u$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ir.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=xR(),{heartbeatsToSend:r,unsentEntries:i}=c$(this._heartbeatsCache.heartbeats),o=du(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ir.warn(t),""}})}};function xR(){return new Date().toISOString().substring(0,10)}function c$(n,e=s$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var G_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return hu()?ER().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield o$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kR(n){return du(JSON.stringify({version:2,heartbeats:n})).length}function u$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function l$(n){bn(new bt("platform-logger",e=>new U_(e),"PRIVATE")),bn(new bt("heartbeat",e=>new q_(e),"PRIVATE")),xe(B_,NR,n),xe(B_,NR,"esm2017"),xe("fire-js","")}l$("");var d$="firebase",h$="11.9.1";xe(d$,h$,"app");function LR(n){n===void 0&&(n=M(Ne));let e=n.get(pr);return t=>new J(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var gi=new co("ANGULARFIRE2_VERSION");function mu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ks=(n,e)=>{let t=e?[e]:vf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ws=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ws||{}),VR=Av()&&typeof Zone<"u"?Ws.WARN:Ws.SILENT;var _f=class{zone;delegate;constructor(e,t=Gg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},mi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(ye);this.outsideAngular=t.runOutsideAngular(()=>new _f(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new _f(typeof Zone>"u"?void 0:Zone.current,qg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jR=!1;function f$(n,e){!jR&&(VR>Ws.SILENT||Av())&&(jR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),VR>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function p$(n){let e=M(ye,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function wo(n){let e=M(ye,{optional:!0});return e?e.run(()=>n()):n()}var g$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Be(t,()=>wo(()=>n.apply(void 0,r)))),Xe=(n,e,t)=>(t||=e?Ws.WARN:Ws.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(mi),s=M(pr),a=M(Ce)}catch{return f$(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=wo(()=>s.add())),i[l]=g$(i[l],r,a));let u=p$(()=>n.apply(this,i));return e?u instanceof J?u.pipe(Br(o.outsideAngular),Ur(o.insideAngular),LR(a)):u instanceof Promise?wo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>Be(a,()=>wo(()=>h(g))),g=>Be(a,()=>wo(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:wo(()=>u):u instanceof J?u.pipe(Br(o.outsideAngular),Ur(o.insideAngular)):wo(()=>u)});var wr=class{constructor(e){return e}},To=class{constructor(){return vf()}};function m$(n){return n&&n.length===1?n[0]:new wr(Io())}var K_=new L("angularfire2._apps"),y$={provide:wr,useFactory:m$,deps:[[new Mt,K_]]},v$={provide:To,deps:[[new Mt,K_]]};function _$(n){return(e,t)=>{let r=t.get(ni);xe("angularfire",gi.full,"core"),xe("angularfire",gi.full,"app"),xe("angular",DA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new wr(i)}}function Boe(n,...e){return Vt([y$,v$,{provide:K_,useFactory:_$(n),multi:!0,deps:[ye,Ne,mi,...e]}])}var $oe=Xe(W_,!0);var E$=new Map,I$={activated:!1,tokenObservers:[]},w$={initialized:!1,enabled:!1};function Cn(n){return E$.get(n)||Object.assign({},I$)}function HR(){return w$}var T$="https://content-firebaseappcheck.googleapis.com/v1";var D$="exchangeDebugToken",UR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Zoe=24*60*60*1e3;var Z_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new _o,this.pending.promise.catch(t=>{}),yield b$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new _o,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function b$(n){return new Promise(e=>{setTimeout(e,n)})}var C$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},yi=new Dn("appCheck","AppCheck",C$);function zR(n){if(!Cn(n).activated)throw yi.create("use-before-activation",{appName:n.name})}function qR(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw yi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw yi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw yi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function GR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${T$}/projects/${t}/apps/${r}:${D$}?key=${i}`,body:{debug_token:e}}}var S$="firebase-app-check-database",A$=1,J_="firebase-app-check-store";var Ef=null;function R$(){return Ef||(Ef=new Promise((n,e)=>{try{let t=indexedDB.open(S$,A$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(yi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(J_,{keyPath:"compositeKey"})}}}catch(t){e(yi.create("storage-open",{originalErrorMessage:t?.message}))}}),Ef)}function N$(n,e){return M$(P$(n),e)}function M$(n,e){return _(this,null,function*(){let r=(yield R$()).transaction(J_,"readwrite"),o=r.objectStore(J_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(yi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function P$(n){return`${n.options.appId}-${n.name}`}var yu=new $n("@firebase/app-check");function Q_(n,e){return hu()?N$(n,e).catch(t=>{yu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function WR(){return HR().enabled}function KR(){return _(this,null,function*(){let n=HR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var x$={error:"UNKNOWN_ERROR"};function k$(n){return df.encodeString(JSON.stringify(n),!1)}function X_(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;zR(r);let i=Cn(r),o=i.token,s;if(o&&!vu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(vu(l)?o=l:yield Q_(r,void 0))}if(!e&&o&&vu(o))return{token:o.token};let a=!1;if(WR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=qR(GR(r,yield KR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Q_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?yu.warn(l.message):t&&yu.error(l),Y_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Cn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?yu.warn(l.message):t&&yu.error(l),s=l}let u;return o?s?vu(o)?u={token:o.token,internalError:s}:u=Y_(s):(u={token:o.token},i.token=o,yield Q_(r,o)):u=Y_(s),a&&V$(r,u),u})}function O$(n){return _(this,null,function*(){let e=n.app;zR(e);let{provider:t}=Cn(e);if(WR()){let r=yield KR(),{token:i}=yield qR(GR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function F$(n,e,t,r){let{app:i}=n,o=Cn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&vu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),BR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>BR(n))}function QR(n,e){let t=Cn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function BR(n){let{app:e}=n,t=Cn(e),r=t.tokenRefresher;r||(r=L$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function L$(n){let{app:e}=n;return new Z_(()=>_(null,null,function*(){let t=Cn(e),r;if(t.token?r=yield X_(n,!0):r=yield X_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Cn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},UR.RETRIAL_MIN_WAIT,UR.RETRIAL_MAX_WAIT)}function V$(n,e){let t=Cn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function vu(n){return n.expireTimeMillis-Date.now()>0}function Y_(n){return{token:k$(x$),error:n}}var eE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Cn(this.app);for(let t of e)QR(this.app,t.next);return Promise.resolve()}};function j$(n,e){return new eE(n,e)}function U$(n){return{getToken:e=>X_(n,e),getLimitedUseToken:()=>O$(n),addTokenListener:e=>F$(n,"INTERNAL",e),removeTokenListener:e=>QR(n.app,e)}}var B$="@firebase/app-check",$$="0.10.0";var H$="app-check",$R="app-check-internal";function z$(){bn(new bt(H$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return j$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($R).initialize()})),bn(new bt($R,n=>{let e=n.getProvider("app-check").getImmediate();return U$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),xe(B$,$$)}z$();var q$="app-check";var Qs=class{constructor(){return Ks(q$)}};var G$=["localhost","0.0.0.0","127.0.0.1"],lse=typeof window<"u"&&G$.includes(window.location.hostname);function dN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hN=dN,fN=new Dn("auth","Firebase",dN());var Cf=new $n("@firebase/auth");function W$(n,...e){Cf.logLevel<=ce.WARN&&Cf.warn(`Auth (${pi}): ${n}`,...e)}function wf(n,...e){Cf.logLevel<=ce.ERROR&&Cf.error(`Auth (${pi}): ${n}`,...e)}function qn(n,...e){throw bE(n,...e)}function Do(n,...e){return bE(n,...e)}function pN(n,e,t){let r=Object.assign(Object.assign({},hN()),{[e]:t});return new Dn("auth","Firebase",r).create(e,{appName:n.name})}function br(n){return pN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fN.create(n,...e)}function Q(n,e,...t){if(!n)throw bE(e,...t)}function Tr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw wf(e),new Error(e)}function Ei(n,e){n||Tr(e)}function iE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function K$(){return YR()==="http:"||YR()==="https:"}function YR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Q$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K$()||mR()||"connection"in navigator)?navigator.onLine:!0}function Y$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var bo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ei(t>e,"Short delay should be less than long delay!"),this.isMobile=pR()||yR()}get(){return Q$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function CE(n,e){Ei(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Sf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Z$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var J$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],X$=new bo(3e4,6e4);function Ii(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function wi(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return gN(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=fu(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return gR()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&hi(n.emulatorConfig.host)&&(y.credentials="include"),Sf.fetch()(yield mN(n,n.config.apiHost,t,p),y)}))})}function gN(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Z$),e);try{let i=new oE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw If(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw If(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw If(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw If(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw pN(n,h,l);qn(n,h)}}catch(i){if(i instanceof Gt)throw i;qn(n,"network-request-failed",{message:String(i)})}})}function Su(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield wi(n,e,t,r,i);return"mfaPendingCredential"in l&&qn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function mN(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?CE(n.config,i):`${n.config.apiScheme}://${i}`;return J$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function eH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var oE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Do(this.auth,"network-request-failed")),X$.get())})}};function If(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Do(n,e,r);return i.customData._tokenResponse=t,i}function ZR(n){return n!==void 0&&n.enterprise!==void 0}var sE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function tH(n,e){return _(this,null,function*(){return wi(n,"GET","/v2/recaptchaConfig",Ii(n,e))})}function nH(n,e){return _(this,null,function*(){return wi(n,"POST","/v1/accounts:delete",e)})}function Af(n,e){return _(this,null,function*(){return wi(n,"POST","/v1/accounts:lookup",e)})}function Eu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function SE(n,e=!1){return _(this,null,function*(){let t=je(n),r=yield t.getIdToken(e),i=AE(r);Q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Eu(tE(i.auth_time)),issuedAtTime:Eu(tE(i.iat)),expirationTime:Eu(tE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function tE(n){return Number(n)*1e3}function AE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{let i=hf(t);return i?JSON.parse(i):(wf("Failed to decode base64 JWT payload"),null)}catch(i){return wf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function JR(n){let e=AE(n);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function wu(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Gt&&rH(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function rH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var aE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Tu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rf(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield wu(n,Af(t,{idToken:r}));Q(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?yN(o.providerUserInfo):[],a=iH(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function RE(n){return _(this,null,function*(){let e=je(n);yield Rf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function iH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yN(n){return n.map(e=>{var{providerId:t}=e,r=Wg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function oH(n,e){return _(this,null,function*(){let t=yield gN(n,{},()=>_(null,null,function*(){let r=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield mN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&hi(n.emulatorConfig.host)&&(u.credentials="include"),Sf.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function sH(n,e){return _(this,null,function*(){return wi(n,"POST","/v2/accounts:revokeToken",Ii(n,e))})}var Iu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let t=JR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield oH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Tr("not implemented")}};function vi(n,e){Q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var _i=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield wu(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return SE(this,e)}reload(){return RE(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Rf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(kt(this.auth.app))return Promise.reject(br(this.auth));let e=yield this.getIdToken();return yield wu(this,nH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,K=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:B,emailVerified:ge,isAnonymous:nt,providerData:me,stsTokenManager:T}=t;Q(B&&T,e,"internal-error");let v=Iu.fromJSON(this.name,T);Q(typeof B=="string",e,"internal-error"),vi(p,e.name),vi(g,e.name),Q(typeof ge=="boolean",e,"internal-error"),Q(typeof nt=="boolean",e,"internal-error"),vi(y,e.name),vi(C,e.name),vi(N,e.name),vi(R,e.name),vi(O,e.name),vi(K,e.name);let I=new n({uid:B,auth:e,email:g,emailVerified:ge,displayName:p,isAnonymous:nt,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:O,lastLoginAt:K});return me&&Array.isArray(me)&&(I.providerData=me.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Iu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];Q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?yN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Iu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Tu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var XR=new Map;function Dr(n){Ei(n instanceof Function,"Expected a class definition");let e=XR.get(n);return e?(Ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,XR.set(n,e),e)}var aH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),cE=aH;function Tf(n,e,t){return`firebase:${n}:${e}:${t}`}var Nf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Tf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Tf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Af(this.auth,{idToken:e}).catch(()=>{});return t?_i._fromGetAccountInfoResponse(this.auth,t,e):null}return _i._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(Dr(cE),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Dr(cE),s=Tf(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Af(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield _i._fromGetAccountInfoResponse(e,g,h)}else p=_i._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function eN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TN(e))return"Blackberry";if(DN(e))return"Webos";if(_N(e))return"Safari";if((e.includes("chrome/")||EN(e))&&!e.includes("edge/"))return"Chrome";if(wN(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function vN(n=Je()){return/firefox\//i.test(n)}function _N(n=Je()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EN(n=Je()){return/crios\//i.test(n)}function IN(n=Je()){return/iemobile/i.test(n)}function wN(n=Je()){return/android/i.test(n)}function TN(n=Je()){return/blackberry/i.test(n)}function DN(n=Je()){return/webos/i.test(n)}function NE(n=Je()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cH(n=Je()){var e;return NE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uH(){return vR()&&document.documentMode===10}function bN(n=Je()){return NE(n)||wN(n)||DN(n)||TN(n)||/windows phone/i.test(n)||IN(n)}function CN(n,e=[]){let t;switch(n){case"Browser":t=eN(Je());break;case"Worker":t=`${eN(Je())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pi}/${r}`}var uE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function lH(t){return _(this,arguments,function*(n,e={}){return wi(n,"GET","/v2/passwordPolicy",Ii(n,e))})}var dH=6,lE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:dH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var dE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mf(this),this.idTokenSubscription=new Mf(this),this.beforeStateQueue=new uE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Dr(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Nf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Af(this,{idToken:e}),r=yield _i._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Rf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Y$()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(kt(this.app))return Promise.reject(br(this));let t=e?je(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return kt(this.app)?Promise.reject(br(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return kt(this.app)?Promise.reject(br(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Dr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield lH(this),t=new lE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield sH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Dr(e)||this._popupRedirectResolver;Q(t,this,"argument-error"),this.redirectPersistenceManager=yield Nf.create(this,[Dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&W$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function So(n){return je(n)}var Mf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wR(t=>this.observer=t)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Vf={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hH(n){Vf=n}function SN(n){return Vf.loadJS(n)}function fH(){return Vf.recaptchaEnterpriseScript}function pH(){return Vf.gapiScript}function AN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var hE=class{constructor(){this.enterprise=new fE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},fE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var gH="recaptcha-enterprise",RN="NO_RECAPTCHA",pE=class{constructor(e){this.type=gH,this.auth=So(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){tH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new sE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;ZR(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(RN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&ZR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=fH();u.length!==0&&(u+=a),SN(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function _u(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new pE(n),s;if(i)s=RN;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function gE(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield _u(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield _u(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield _u(n,e,t);return r(n,a).catch(u=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield _u(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield _u(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function ME(n,e){let t=Gs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Bn(o,e??{}))return i;qn(i,"already-initialized")}return t.initialize({options:e})}function mH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Dr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function PE(n,e,t){let r=So(n);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=NN(e),{host:s,port:a}=yH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(Bn(l,r.config.emulator)&&Bn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,hi(s)?(pf(`${o}//${s}${u}`),gf("Auth",!0)):i||vH()}function NN(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yH(n){let e=NN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:tN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:tN(s)}}}function tN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function vH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Du=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,t){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}};function _H(n,e){return _(this,null,function*(){return wi(n,"POST","/v1/accounts:signUp",e)})}function EH(n,e){return _(this,null,function*(){return Su(n,"POST","/v1/accounts:signInWithPassword",Ii(n,e))})}function IH(n,e){return _(this,null,function*(){return Su(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))})}function wH(n,e){return _(this,null,function*(){return Su(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))})}var bu=class n extends Du{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gE(e,t,"signInWithPassword",EH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return IH(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gE(e,r,"signUpPassword",_H,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return wH(e,{idToken:t,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function nE(n,e){return _(this,null,function*(){return Su(n,"POST","/v1/accounts:signInWithIdp",Ii(n,e))})}function TH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DH(n){let e=zs(qs(n)).link,t=e?zs(qs(e)).deep_link_id:null,r=zs(qs(n)).deep_link_id;return(r?zs(qs(r)).link:null)||r||t||e||n}var Pf=class n{constructor(e){var t,r,i,o,s,a;let u=zs(qs(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=TH((i=u.mode)!==null&&i!==void 0?i:null);Q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=DH(e);try{return new n(t)}catch{return null}}};var MN=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return bu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Pf.parseLink(r);return Q(i,"argument-error"),bu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),xf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var mE=class extends xf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function bH(n,e){return _(this,null,function*(){return Su(n,"POST","/v1/accounts:signUp",Ii(n,e))})}var Ys=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield _i._fromIdTokenResponse(e,r,i),s=nN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=nN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function nN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var yE=class n extends Gt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function PN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yE._fromErrorAndOperation(n,o,e,r):o})}function CH(n,e,t=!1){return _(this,null,function*(){let r=yield wu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ys._forOperation(n,"link",r)})}function SH(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(kt(r.app))return Promise.reject(br(r));let i="reauthenticate";try{let o=yield wu(n,PN(r,i,e,n),t);Q(o.idToken,r,"internal-error");let s=AE(o.idToken);Q(s,r,"internal-error");let{sub:a}=s;return Q(n.uid===a,r,"user-mismatch"),Ys._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&qn(r,"user-mismatch"),o}})}function xN(n,e,t=!1){return _(this,null,function*(){if(kt(n.app))return Promise.reject(br(n));let r="signIn",i=yield PN(n,r,e),o=yield Ys._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function xE(n,e){return _(this,null,function*(){return xN(So(n),e)})}function kN(n){return _(this,null,function*(){let e=So(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function kE(n,e,t){return _(this,null,function*(){if(kt(n.app))return Promise.reject(br(n));let r=So(n),s=yield gE(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bH,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&kN(n),u}),a=yield Ys._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function OE(n,e,t){return kt(n.app)?Promise.reject(br(n)):xE(je(n),MN.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&kN(n),r}))}function FE(n,e,t,r){return je(n).onIdTokenChanged(e,t,r)}function LE(n,e,t){return je(n).beforeAuthStateChanged(e,t)}function VE(n,e,t,r){return je(n).onAuthStateChanged(e,t,r)}function jE(n){return je(n).signOut()}var kf="__sak";var Of=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var AH=1e3,RH=10,NH=(()=>{class n extends Of{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);uH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,RH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},AH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield Vr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield Vr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield Vr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),ON=NH;var MH=(()=>{class n extends Of{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),UE=MH;function PH(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var xH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield PH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function FN(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var vE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=FN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function zn(){return window}function kH(n){zn().location.href=n}function LN(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}function OH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function FH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function LH(){return LN()?self:null}var VN="firebaseLocalStorageDb",VH=1,Ff="firebaseLocalStorage",jN="fbase_key",Co=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function jf(n,e){return n.transaction([Ff],e?"readwrite":"readonly").objectStore(Ff)}function jH(){let n=indexedDB.deleteDatabase(VN);return new Co(n).toPromise()}function _E(){let n=indexedDB.open(VN,VH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ff,{keyPath:jN})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Ff)?e(r):(r.close(),yield jH(),e(yield _E()))}))})}function rN(n,e,t){return _(this,null,function*(){let r=jf(n,!0).put({[jN]:e,value:t});return new Co(r).toPromise()})}function UH(n,e){return _(this,null,function*(){let t=jf(n,!1).get(e),r=yield new Co(t).toPromise();return r===void 0?null:r.value})}function iN(n,e){let t=jf(n,!0).delete(e);return new Co(t).toPromise()}var BH=800,$H=3,HH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield _E(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>$H)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return LN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=xH._getInstance(LH()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield OH(),!this.activeServiceWorker)return;this.sender=new vE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||FH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield _E();return yield rN(t,kf,"1"),yield iN(t,kf),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>rN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>UH(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>iN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=jf(o,!1).getAll();return new Co(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),BH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),UN=HH;var vse=AN("rcb"),_se=new bo(3e4,6e4);function zH(n,e){return e?Dr(e):(Q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Cu=class extends Du{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function qH(n){return xN(n.auth,new Cu(n),n.bypassAuthState)}function GH(n){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),SH(t,new Cu(n),n.bypassAuthState)}function WH(n){return _(this,null,function*(){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),CH(t,new Cu(n),n.bypassAuthState)})}var EE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qH;case"linkViaPopup":case"linkViaRedirect":return WH;case"reauthViaPopup":case"reauthViaRedirect":return GH;default:qn(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ese=new bo(2e3,1e4);var KH="pendingRedirect",Df=new Map,IE=class n extends EE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Df.get(this.auth._key());if(!e){try{let r=(yield QH(this.resolver,this.auth))?yield Vr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Vr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Vr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function QH(n,e){return _(this,null,function*(){let t=JH(e),r=ZH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function YH(n,e){Df.set(n._key(),e)}function ZH(n){return Dr(n._redirectPersistence)}function JH(n){return Tf(KH,n.config.apiKey,n.name)}function XH(n,e,t=!1){return _(this,null,function*(){if(kt(n.app))return Promise.reject(br(n));let r=So(n),i=zH(r,e),s=yield new IE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var e4=10*60*1e3,wE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!BN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Do(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e4&&this.cachedEventUids.clear(),this.cachedEventUids.has(oN(e))}saveEventToCache(e){this.cachedEventUids.add(oN(e)),this.lastProcessedEventTime=Date.now()}};function oN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function t4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BN(n);default:return!1}}function n4(t){return _(this,arguments,function*(n,e={}){return wi(n,"GET","/v1/projects",e)})}var r4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i4=/^https?/;function o4(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield n4(n);for(let t of e)try{if(s4(t))return}catch{}qn(n,"unauthorized-domain")})}function s4(n){let e=iE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!i4.test(t))return!1;if(r4.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var a4=new bo(3e4,6e4);function sN(){let n=zn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function c4(n){return new Promise((e,t)=>{var r,i,o;function s(){sN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sN(),t(Do(n,"network-request-failed"))},timeout:a4.get()})}if(!((i=(r=zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=zn().gapi)===null||o===void 0)&&o.load)s();else{let a=AN("iframefcb");return zn()[a]=()=>{gapi.load?s():t(Do(n,"network-request-failed"))},SN(`${pH()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw bf=null,e})}var bf=null;function u4(n){return bf=bf||c4(n),bf}var l4=new bo(5e3,15e3),d4="__/auth/iframe",h4="emulator/auth/iframe",f4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g4(n){let e=n.config;Q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?CE(e,h4):`https://${n.config.authDomain}/${d4}`,r={apiKey:e.apiKey,appName:n.name,v:pi},i=p4.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${fu(r).slice(1)}`}function m4(n){return _(this,null,function*(){let e=yield u4(n),t=zn().gapi;return Q(t,n,"internal-error"),e.open({where:document.body,url:g4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f4,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Do(n,"network-request-failed"),a=zn().setTimeout(()=>{o(s)},l4.get());function u(){zn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var y4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v4=500,_4=600,E4="_blank",I4="http://localhost",Lf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function w4(n,e,t,r=v4,i=_4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},y4),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Je().toLowerCase();t&&(a=EN(l)?E4:t),vN(l)&&(e=e||I4,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,C])=>`${g}${y}=${C},`,"");if(cH(l)&&a!=="_self")return T4(e||"",a),new Lf(null);let p=window.open(e||"",a,h);Q(p,n,"popup-blocked");try{p.focus()}catch{}return new Lf(p)}function T4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var D4="__/auth/handler",b4="emulator/auth/handler",C4=encodeURIComponent("fac");function aN(n,e,t,r,i,o){return _(this,null,function*(){Q(n.config.authDomain,n,"auth-domain-config-required"),Q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:pi,eventId:i};if(e instanceof xf){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",IR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof mE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${C4}=${encodeURIComponent(u)}`:"";return`${S4(n)}?${fu(a).slice(1)}${l}`})}function S4({config:n}){return n.emulator?CE(n,b4):`https://${n.authDomain}/${D4}`}var rE="webStorageSupport",TE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=XH,this._overrideRedirectResult=YH}_openPopup(e,t,r,i){return _(this,null,function*(){var o;Ei((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield aN(e,t,r,iE(),i);return w4(e,s,FN())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield aN(e,t,r,iE(),i);return kH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ei(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield m4(e),r=new wE(e);return t.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rE,{type:rE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[rE];s!==void 0&&t(!!s),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=o4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bN()||_N()||NE()}},$N=TE;var cN="@firebase/auth",uN="1.10.7";var DE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function A4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R4(n){bn(new bt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CN(n)},l=new dE(r,i,o,u);return mH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),bn(new bt("auth-internal",e=>{let t=So(e.getProvider("auth").getImmediate());return(r=>new DE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xe(cN,uN,A4(n)),xe(cN,uN,"esm2017")}var N4=5*60,M4=P_("authIdTokenMaxAge")||N4,lN=null,P4=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>M4)return;let i=t?.token;lN!==i&&(lN=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function BE(n=Io()){let e=Gs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ME(n,{popupRedirectResolver:$N,persistence:[UN,ON,UE]}),r=P_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=P4(o.toString());LE(t,s,()=>s(t.currentUser)),FE(t,a=>s(a))}}let i=N_("auth");return i&&PE(t,`http://${i}`),t}function x4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}hH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Do("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",x4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R4("Browser");var HN="auth",Ao=class{constructor(e){return e}},Au=class{constructor(){return Ks(HN)}};var $E=new L("angularfire2.auth-instances");function Iz(n,e){let t=mu(HN,n,e);return t&&new Ao(t)}function wz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ao(r)}}var Tz={provide:Au,deps:[[new Mt,$E]]},Dz={provide:Ao,useFactory:Iz,deps:[[new Mt,$E],wr]};function sae(n,...e){return xe("angularfire",gi.full,"auth"),Vt([Dz,Tz,{provide:$E,useFactory:wz(n),multi:!0,deps:[ye,Ne,mi,To,[new Mt,Qs],...e]}])}var HE=Xe(kE,!0,2);var aae=Xe(BE,!0);var zN=Xe(VE,!0);var qN=Xe(OE,!0,2);var GN=Xe(jE,!0,2);var WN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},KN={};var Cr,zE;(function(){var n;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,D,S){for(var E=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)E[tr-2]=arguments[tr];return v.prototype[D].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)w[D]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],D=T.g[2];var S=T.g[3],E=v+(S^I&(D^S))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=S+(D^v&(I^D))+w[1]+3905402710&4294967295,S=v+(E<<12&4294967295|E>>>20),E=D+(I^S&(v^I))+w[2]+606105819&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(v^D&(S^v))+w[3]+3250441966&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(S^I&(D^S))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(D^v&(I^D))+w[5]+1200080426&4294967295,S=v+(E<<12&4294967295|E>>>20),E=D+(I^S&(v^I))+w[6]+2821735955&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(v^D&(S^v))+w[7]+4249261313&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(S^I&(D^S))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(D^v&(I^D))+w[9]+2336552879&4294967295,S=v+(E<<12&4294967295|E>>>20),E=D+(I^S&(v^I))+w[10]+4294925233&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(v^D&(S^v))+w[11]+2304563134&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(S^I&(D^S))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(D^v&(I^D))+w[13]+4254626195&4294967295,S=v+(E<<12&4294967295|E>>>20),E=D+(I^S&(v^I))+w[14]+2792965006&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(v^D&(S^v))+w[15]+1236535329&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(D^S&(I^D))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(v^I))+w[6]+3225465664&4294967295,S=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(S^v))+w[11]+643717713&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(D^S))+w[0]+3921069994&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^S&(I^D))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(v^I))+w[10]+38016083&4294967295,S=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(S^v))+w[15]+3634488961&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(D^S))+w[4]+3889429448&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^S&(I^D))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(v^I))+w[14]+3275163606&4294967295,S=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(S^v))+w[3]+4107603335&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(D^S))+w[8]+1163531501&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^S&(I^D))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(v^I))+w[2]+4243563512&4294967295,S=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(S^v))+w[7]+1735328473&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(D^S))+w[12]+2368359562&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(I^D^S)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^D)+w[8]+2272392833&4294967295,S=v+(E<<11&4294967295|E>>>21),E=D+(S^v^I)+w[11]+1839030562&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^v)+w[14]+4259657740&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^S)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^D)+w[4]+1272893353&4294967295,S=v+(E<<11&4294967295|E>>>21),E=D+(S^v^I)+w[7]+4139469664&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^v)+w[10]+3200236656&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^S)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^D)+w[0]+3936430074&4294967295,S=v+(E<<11&4294967295|E>>>21),E=D+(S^v^I)+w[3]+3572445317&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^v)+w[6]+76029189&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^S)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^D)+w[12]+3873151461&4294967295,S=v+(E<<11&4294967295|E>>>21),E=D+(S^v^I)+w[15]+530742520&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^v)+w[2]+3299628645&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(D^(I|~S))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~D))+w[7]+1126891415&4294967295,S=v+(E<<10&4294967295|E>>>22),E=D+(v^(S|~I))+w[14]+2878612391&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~v))+w[5]+4237533241&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~S))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~D))+w[3]+2399980690&4294967295,S=v+(E<<10&4294967295|E>>>22),E=D+(v^(S|~I))+w[10]+4293915773&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~v))+w[1]+2240044497&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~S))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~D))+w[15]+4264355552&4294967295,S=v+(E<<10&4294967295|E>>>22),E=D+(v^(S|~I))+w[6]+2734768916&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~v))+w[13]+1309151649&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~S))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~D))+w[11]+3174756917&4294967295,S=v+(E<<10&4294967295|E>>>22),E=D+(v^(S|~I))+w[2]+718787259&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,D=this.h,S=0;S<v;){if(D==0)for(;S<=I;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<v;)if(w[D++]=T.charCodeAt(S++),D==this.blockSize){i(this,w),D=0;break}}else for(;S<v;)if(w[D++]=T[S++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,D=T.length-1;0<=D;D--){var S=T[D]|0;w&&S==v||(I[D]=S,w=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return R(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,D=0;D<T.length;D+=8){var S=Math.min(8,T.length-D),E=parseInt(T.substring(D,D+S),v);8>S?(S=l(Math.pow(v,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-R(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var D=ge(I,v).g;I=O(I,D.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=D,C(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function N(T){return T.h==-1}n.l=function(T){return T=O(this,T),N(T)?-1:C(T)?0:1};function R(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(g)}n.abs=function(){return N(this)?R(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,D=0;D<=v;D++){var S=w+(this.i(D)&65535)+(T.i(D)&65535),E=(S>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);w=E>>>16,S&=65535,E&=65535,I[D]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function O(T,v){return T.add(R(v))}n.j=function(T){if(C(this)||C(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<T.g.length;D++){var S=this.i(w)>>>16,E=this.i(w)&65535,tr=T.i(D)>>>16,Sa=T.i(D)&65535;I[2*w+2*D]+=E*Sa,K(I,2*w+2*D),I[2*w+2*D+1]+=S*Sa,K(I,2*w+2*D+1),I[2*w+2*D+1]+=E*tr,K(I,2*w+2*D+1),I[2*w+2*D+2]+=S*tr,K(I,2*w+2*D+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function K(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function B(T,v){this.g=T,this.h=v}function ge(T,v){if(C(v))throw Error("division by zero");if(C(T))return new B(p,p);if(N(T))return v=ge(R(T),v),new B(R(v.g),R(v.h));if(N(v))return v=ge(T,R(v)),new B(R(v.g),v.h);if(30<T.g.length){if(N(T)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,w=v;0>=w.l(T);)I=nt(I),w=nt(w);var D=me(I,1),S=me(w,1);for(w=me(w,2),I=me(I,2);!C(w);){var E=S.add(w);0>=E.l(T)&&(D=D.add(I),S=E),w=me(w,1),I=me(I,1)}return v=O(T,D.j(v)),new B(D,v)}for(D=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(v);N(E)||0<E.l(T);)I-=w,S=l(I),E=S.j(v);C(S)&&(S=g),D=D.add(S),T=O(T,E)}return new B(D,T)}n.A=function(T){return ge(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function nt(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function me(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,D=[],S=0;S<w;S++)D[S]=0<v?T.i(S+I)>>>v|T.i(S+I+1)<<32-v:T.i(S+I);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zE=KN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Cr=KN.Integer=s}).apply(typeof WN<"u"?WN:typeof self<"u"?self:typeof window<"u"?window:{});var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sr={};var qE,Cz,Zs,GE,Ru,Bf,WE,KE,QE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var b=c[m];if(!(b in f))break e;f=f[b]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,b={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,b,A){for(var F=Array(arguments.length-2),we=2;we<arguments.length;we++)F[we-2]=arguments[we];return d.prototype[b].apply(m,F)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=c.length||0,A=m.length||0;c.length=b+A;for(let F=0;F<A;F++)c[b+F]=m[F]}else c.push(m)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var nt=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function me(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)c[f]=m[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=rg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class tr{constructor(){this.h=this.g=null}add(d,f){let m=Sa.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Sa=new O(()=>new dk,c=>c.reset());class dk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Aa,Ra=!1,rg=new tr,PT=()=>{let c=a.Promise.resolve(void 0);Aa=()=>{c.then(hk)}};var hk=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=Sa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ra=!1};function kr(){this.s=this.s,this.C=this.C}kr.prototype.s=!1,kr.prototype.ma=function(){this.s||(this.s=!0,this.N())},kr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var fk=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Na(c,d){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(nt){e:{try{ge(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pk[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Na.aa.h.call(this)}}C(Na,ut);var pk={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ma="closure_listenable_"+(1e6*Math.random()|0),gk=0;function mk(c,d,f,m,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++gk,this.da=this.fa=!1}function nl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rl(c){this.src=c,this.g={},this.h=0}rl.prototype.add=function(c,d,f,m,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=og(c,d,m,b);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new mk(d,this.src,A,!!m,b),d.fa=f,c.push(d)),d};function ig(c,d){var f=d.type;if(f in c.g){var m=c.g[f],b=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(m,b,1),A&&(nl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function og(c,d,f,m){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return b}return-1}var sg="closure_lm_"+(1e6*Math.random()|0),ag={};function xT(c,d,f,m,b){if(m&&m.once)return OT(c,d,f,m,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)xT(c,d[A],f,m,b);return null}return f=dg(f),c&&c[Ma]?c.K(d,f,l(m)?!!m.capture:!!m,b):kT(c,d,f,!1,m,b)}function kT(c,d,f,m,b,A){if(!d)throw Error("Invalid event type");var F=l(b)?!!b.capture:!!b,we=ug(c);if(we||(c[sg]=we=new rl(c)),f=we.add(d,f,m,F,A),f.proxy)return f;if(m=yk(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)fk||(b=F),b===void 0&&(b=!1),c.addEventListener(d.toString(),m,b);else if(c.attachEvent)c.attachEvent(LT(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function yk(){function c(f){return d.call(c.src,c.listener,f)}let d=vk;return c}function OT(c,d,f,m,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)OT(c,d[A],f,m,b);return null}return f=dg(f),c&&c[Ma]?c.L(d,f,l(m)?!!m.capture:!!m,b):kT(c,d,f,!0,m,b)}function FT(c,d,f,m,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)FT(c,d[A],f,m,b);else m=l(m)?!!m.capture:!!m,f=dg(f),c&&c[Ma]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=og(A,f,m,b),-1<f&&(nl(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=ug(c))&&(d=c.g[d.toString()],c=-1,d&&(c=og(d,f,m,b)),(f=-1<c?d[c]:null)&&cg(f))}function cg(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ma])ig(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(LT(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=ug(d))?(ig(f,c),f.h==0&&(f.src=null,d[sg]=null)):nl(c)}}}function LT(c){return c in ag?ag[c]:ag[c]="on"+c}function vk(c,d){if(c.da)c=!0;else{d=new Na(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&cg(c),c=f.call(m,d)}return c}function ug(c){return c=c[sg],c instanceof rl?c:null}var lg="__closure_events_fn_"+(1e9*Math.random()>>>0);function dg(c){return typeof c=="function"?c:(c[lg]||(c[lg]=function(d){return c.handleEvent(d)}),c[lg])}function lt(){kr.call(this),this.i=new rl(this),this.M=this,this.F=null}C(lt,kr),lt.prototype[Ma]=!0,lt.prototype.removeEventListener=function(c,d,f,m){FT(this,c,d,f,m)};function yt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ut(d,c);else if(d instanceof ut)d.target=d.target||c;else{var b=d;d=new ut(m,c),w(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];b=il(F,m,!0,d)&&b}if(F=d.g=c,b=il(F,m,!0,d)&&b,b=il(F,m,!1,d)&&b,f)for(A=0;A<f.length;A++)F=d.g=f[A],b=il(F,m,!1,d)&&b}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)nl(f[m]);delete c.g[d],c.h--}}this.F=null},lt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},lt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function il(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var we=F.listener,rt=F.ha||F.src;F.fa&&ig(c.i,F),b=we.call(rt,m)!==!1&&b}}return b&&!m.defaultPrevented}function VT(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function jT(c){c.g=VT(()=>{c.g=null,c.i&&(c.i=!1,jT(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class _k extends kr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:jT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(c){kr.call(this),this.h=c,this.g={}}C(Pa,kr);var UT=[];function BT(c){me(c.g,function(d,f){this.g.hasOwnProperty(f)&&cg(d)},c),c.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),BT(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hg=a.JSON.stringify,Ek=a.JSON.parse,Ik=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function fg(){}fg.prototype.h=null;function $T(c){return c.h||(c.h=c.i())}function HT(){}var xa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pg(){ut.call(this,"d")}C(pg,ut);function gg(){ut.call(this,"c")}C(gg,ut);var Ni={},zT=null;function ol(){return zT=zT||new lt}Ni.La="serverreachability";function qT(c){ut.call(this,Ni.La,c)}C(qT,ut);function ka(c){let d=ol();yt(d,new qT(d))}Ni.STAT_EVENT="statevent";function GT(c,d){ut.call(this,Ni.STAT_EVENT,c),this.stat=d}C(GT,ut);function vt(c){let d=ol();yt(d,new GT(d,c))}Ni.Ma="timingevent";function WT(c,d){ut.call(this,Ni.Ma,c),this.size=d}C(WT,ut);function Oa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Fa(){this.g=!0}Fa.prototype.xa=function(){this.g=!1};function wk(c,d,f,m,b,A){c.info(function(){if(c.g)if(A)for(var F="",we=A.split("&"),rt=0;rt<we.length;rt++){var pe=we[rt].split("=");if(1<pe.length){var dt=pe[0];pe=pe[1];var ht=dt.split("_");F=2<=ht.length&&ht[1]=="type"?F+(dt+"="+pe+"&"):F+(dt+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+F})}function Tk(c,d,f,m,b,A,F){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+F})}function Bo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+bk(c,f)+(m?" "+m:"")})}function Dk(c,d){c.info(function(){return"TIMEOUT: "+d})}Fa.prototype.info=function(){};function bk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<b.length;F++)b[F]=""}}}}return hg(f)}catch{return d}}var sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},KT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mg;function al(){}C(al,fg),al.prototype.g=function(){return new XMLHttpRequest},al.prototype.i=function(){return{}},mg=new al;function Or(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new QT}function QT(){this.i=null,this.g="",this.h=!1}var YT={},yg={};function vg(c,d,f){c.L=1,c.v=dl(nr(d)),c.m=f,c.P=!0,ZT(c,null)}function ZT(c,d){c.F=Date.now(),cl(c),c.A=nr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),dD(f.i,"t",m),c.C=0,f=c.j.J,c.h=new QT,c.g=RD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new _k(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(UT[0]=b.toString()),b=UT);for(var A=0;A<b.length;A++){var F=xT(f,b[A],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ka(),wk(c.i,c.u,c.A,c.l,c.R,c.m)}Or.prototype.ca=function(c){c=c.target;let d=this.M;d&&rr(c)==3?d.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{let ht=rr(this.g);var d=this.g.Ba();let zo=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||vD(this.g)))){this.J||ht!=4||d==7||(d==8||0>=zo?ka(3):ka(2)),_g(this);var f=this.g.Z();this.X=f;t:if(JT(this)){var m=vD(this.g);c="";var b=m.length,A=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),La(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==b-1)});m.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,Tk(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,rt=this.g;if((we=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(we)){var pe=we;break t}}pe=null}if(f=pe)Bo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eg(this,f);else{this.o=!1,this.s=3,vt(12),Mi(this),La(this);break e}}if(this.P){f=!0;let an;for(;!this.J&&this.C<F.length;)if(an=Ck(this,F),an==yg){ht==4&&(this.s=4,vt(14),f=!1),Bo(this.i,this.l,null,"[Incomplete Response]");break}else if(an==YT){this.s=4,vt(15),Bo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else Bo(this.i,this.l,an,null),Eg(this,an);if(JT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||F.length!=0||this.h.h||(this.s=1,vt(16),f=!1),this.o=this.o&&f,!f)Bo(this.i,this.l,F,"[Invalid Chunked Response]"),Mi(this),La(this);else if(0<F.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Cg(dt),dt.M=!0,vt(11))}}else Bo(this.i,this.l,F,null),Eg(this,F);ht==4&&Mi(this),this.o&&!this.J&&(ht==4?bD(this.j,this):(this.o=!1,cl(this)))}else Hk(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Mi(this),La(this)}}}catch{}finally{}};function JT(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ck(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?yg:(f=Number(d.substring(f,m)),isNaN(f)?YT:(m+=1,m+f>d.length?yg:(d=d.slice(m,m+f),c.C=m+f,d)))}Or.prototype.cancel=function(){this.J=!0,Mi(this)};function cl(c){c.S=Date.now()+c.I,XT(c,c.I)}function XT(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oa(g(c.ba,c),d)}function _g(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Or.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Dk(this.i,this.A),this.L!=2&&(ka(),vt(17)),Mi(this),this.s=2,La(this)):XT(this,this.S-c)};function La(c){c.j.G==0||c.J||bD(c.j,c)}function Mi(c){_g(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,BT(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Eg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ig(f.h,c))){if(!c.K&&Ig(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)ml(f),pl(f);else break e;bg(f),vt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Oa(g(f.Za,f),6e3));if(1>=nD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else xi(f,11)}else if((c.K||f.g==c)&&ml(f),!K(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let pe=b[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let dt=pe[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=pe[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let zo=pe[5];zo!=null&&typeof zo=="number"&&0<zo&&(m=1.5*zo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let an=c.g;if(an){let vl=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var A=m.h;A.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(wg(A,A.h),A.h=null))}if(m.D){let Sg=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Sg&&(m.ya=Sg,Te(m.I,m.D,Sg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=c;if(m.qa=AD(m,m.J?m.ia:null,m.W),F.K){rD(m.h,F);var we=F,rt=m.L;rt&&(we.I=rt),we.B&&(_g(we),cl(we)),m.g=F}else TD(m);0<f.i.length&&gl(f)}else pe[0]!="stop"&&pe[0]!="close"||xi(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?xi(f,7):Dg(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}ka(4)}catch{}}var Sk=class{constructor(c,d){this.g=c,this.map=d}};function eD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nD(c){return c.h?1:c.g?c.g.size:0}function Ig(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function wg(c,d){c.g?c.g.add(d):c.h=d}function rD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}eD.prototype.cancel=function(){if(this.i=iD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function iD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function Ak(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function Rk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function oD(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Rk(c),m=Ak(c),b=m.length,A=0;A<b;A++)d.call(void 0,m[A],f&&f[A],c)}var sD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nk(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),b=null;if(0<=m){var A=c[f].substring(0,m);b=c[f].substring(m+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pi){this.h=c.h,ul(this,c.j),this.o=c.o,this.g=c.g,ll(this,c.s),this.l=c.l;var d=c.i,f=new Ua;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),aD(this,f),this.m=c.m}else c&&(d=String(c).match(sD))?(this.h=!1,ul(this,d[1]||"",!0),this.o=Va(d[2]||""),this.g=Va(d[3]||"",!0),ll(this,d[4]),this.l=Va(d[5]||"",!0),aD(this,d[6]||"",!0),this.m=Va(d[7]||"")):(this.h=!1,this.i=new Ua(null,this.h))}Pi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ja(d,cD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ja(d,cD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ja(f,f.charAt(0)=="/"?xk:Pk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ja(f,Ok)),c.join("")};function nr(c){return new Pi(c)}function ul(c,d,f){c.j=f?Va(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ll(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function aD(c,d,f){d instanceof Ua?(c.i=d,Fk(c.i,c.h)):(f||(d=ja(d,kk)),c.i=new Ua(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function dl(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Va(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ja(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Mk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var cD=/[#\/\?@]/g,Pk=/[#\?:]/g,xk=/[#\?]/g,kk=/[#\?@]/g,Ok=/#/g;function Ua(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Fr(c){c.g||(c.g=new Map,c.h=0,c.i&&Nk(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ua.prototype,n.add=function(c,d){Fr(this),this.i=null,c=$o(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function uD(c,d){Fr(c),d=$o(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function lD(c,d){return Fr(c),d=$o(c,d),c.g.has(d)}n.forEach=function(c,d){Fr(this),this.g.forEach(function(f,m){f.forEach(function(b){c.call(d,b,m,this)},this)},this)},n.na=function(){Fr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=c[m];for(let A=0;A<b.length;A++)f.push(d[m])}return f},n.V=function(c){Fr(this);let d=[];if(typeof c=="string")lD(this,c)&&(d=d.concat(this.g.get($o(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Fr(this),this.i=null,c=$o(this,c),lD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function dD(c,d,f){uD(c,d),0<f.length&&(c.i=null,c.g.set($o(c,d),N(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var b=A;F[m]!==""&&(b+="="+encodeURIComponent(String(F[m]))),c.push(b)}}return this.i=c.join("&")};function $o(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Fk(c,d){d&&!c.j&&(Fr(c),c.i=null,c.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(uD(this,m),dD(this,b,f))},c)),c.j=d}function Lk(c,d){let f=new Fa;if(a.Image){let m=new Image;m.onload=y(Lr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Lr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Lr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Lr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function Vk(c,d){let f=new Fa,m=new AbortController,b=setTimeout(()=>{m.abort(),Lr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(b),A.ok?Lr(f,"TestPingServer: ok",!0,d):Lr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Lr(f,"TestPingServer: error",!1,d)})}function Lr(c,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function jk(){this.g=new Ik}function Uk(c,d,f){let m=f||"";try{oD(c,function(b,A){let F=b;l(b)&&(F=hg(b)),d.push(m+A+"="+encodeURIComponent(F))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function Ba(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ba,fg),Ba.prototype.g=function(){return new hl(this.l,this.j)},Ba.prototype.i=function(c){return function(){return c}}({});function hl(c,d){lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(hl,lt),n=hl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ha(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function hD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?$a(this):Ha(this),this.readyState==3&&hD(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,$a(this))},n.Qa=function(c){this.g&&(this.response=c,$a(this))},n.ga=function(){this.g&&$a(this)};function $a(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ha(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ha(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fD(c){let d="";return me(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Tg(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=fD(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function Ae(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ae,lt);var Bk=/^https?$/i,$k=["POST","PUT"];n=Ae.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mg.g(),this.v=this.o?$T(this.o):$T(mg),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){pD(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call($k,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yD(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){pD(this,A)}};function pD(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,gD(c),fl(c)}function gD(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),fl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fl(this,!0)),Ae.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?mD(this):this.bb())},n.bb=function(){mD(this)};function mD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)VT(c.Ea,0,c);else if(yt(c,"readystatechange"),rr(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var b=String(c.D).match(sD)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!Bk.test(b?b.toLowerCase():"")}f=m}if(f)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var A=2<rr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",gD(c)}}finally{fl(c)}}}}function fl(c,d){if(c.g){yD(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||yt(c,"ready");try{f.onreadystatechange=m}catch{}}}function yD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Ek(d)}};function vD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hk(c){let d={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(K(c[m]))continue;var f=D(c[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}T(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function _D(c){this.Aa=0,this.i=[],this.j=new Fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,c),this.cb=za("retryDelaySeedMs",1e4,c),this.Wa=za("forwardChannelMaxRetries",2,c),this.wa=za("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new eD(c&&c.concurrentRequestLimit),this.Da=new jk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_D.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){vt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=AD(this,null,this.W),gl(this)};function Dg(c){if(ED(c),c.G==3){var d=c.U++,f=nr(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),qa(c,f),d=new Or(c,c.j,d),d.L=2,d.v=dl(nr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=RD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),cl(d)}SD(c)}function pl(c){c.g&&(Cg(c),c.g.cancel(),c.g=null)}function ED(c){pl(c),c.u&&(a.clearTimeout(c.u),c.u=null),ml(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function gl(c){if(!tD(c.h)&&!c.s){c.s=!0;var d=c.Ga;Aa||PT(),Ra||(Aa(),Ra=!0),rg.add(d,c),c.B=0}}function zk(c,d){return nD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oa(g(c.Ga,c,d),CD(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Or(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=wD(this,b,d),f=nr(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),qa(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(fD(A)))+"&"+d:this.m&&Tg(f,this.m,A)),wg(this.h,b),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),b.T=!0,vg(b,f,null)):vg(b,f,d),this.G=2}}else this.G==3&&(c?ID(this,c):this.i.length==0||tD(this.h)||ID(this))};function ID(c,d){var f;d?f=d.l:f=c.U++;let m=nr(c.I);Te(m,"SID",c.K),Te(m,"RID",f),Te(m,"AID",c.T),qa(c,m),c.m&&c.o&&Tg(m,c.m,c.o),f=new Or(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=wD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wg(c.h,f),vg(f,m,d)}function qa(c,d){c.H&&me(c.H,function(f,m){Te(d,m,f)}),c.l&&oD({},function(f,m){Te(d,m,f)})}function wD(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=b[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let we=!0;for(let rt=0;rt<f;rt++){let pe=b[rt].g,dt=b[rt].map;if(pe-=A,0>pe)A=Math.max(0,b[rt].g-100),we=!1;else try{Uk(dt,F,"req"+pe+"_")}catch{m&&m(dt)}}if(we){m=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function TD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Aa||PT(),Ra||(Aa(),Ra=!0),rg.add(d,c),c.v=0}}function bg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oa(g(c.Fa,c),CD(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,DD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oa(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),pl(this),DD(this))};function Cg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function DD(c){c.g=new Or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=nr(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),qa(c,d),c.m&&c.o&&Tg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=dl(nr(d)),f.m=null,f.P=!0,ZT(f,c)}n.Za=function(){this.C!=null&&(this.C=null,pl(this),bg(this),vt(19))};function ml(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function bD(c,d){var f=null;if(c.g==d){ml(c),Cg(c),c.g=null;var m=2}else if(Ig(c.h,d))f=d.D,rD(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;m=ol(),yt(m,new WT(m,f)),gl(c)}else TD(c);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&zk(c,d)||m==2&&bg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function CD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function xi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let b=!m;m=new Pi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ul(m,"https"),dl(m),b?Lk(m.toString(),f):Vk(m.toString(),f)}else vt(2);c.G=0,c.l&&c.l.sa(d),SD(c),ED(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function SD(c){if(c.G=0,c.ka=[],c.l){let d=iD(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function AD(c,d,f){var m=f instanceof Pi?nr(f):new Pi(f);if(m.g!="")d&&(m.g=d+"."+m.g),ll(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Pi(null);m&&ul(A,m),d&&(A.g=d),b&&ll(A,b),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Te(m,f,d),Te(m,"VER",c.la),qa(c,m),m}function RD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ae(new Ba({eb:f})):new Ae(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ND(){}n=ND.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yl(){}yl.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){lt.call(this),this.g=new _D(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ho(this)}C(Ot,lt),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Dg(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=hg(c),c=f);d.i.push(new Sk(d.Ya++,c)),d.G==3&&gl(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Dg(this.g),delete this.g,Ot.aa.N.call(this)};function MD(c){pg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(MD,pg);function PD(){gg.call(this),this.status=1}C(PD,gg);function Ho(c){this.g=c}C(Ho,ND),Ho.prototype.ua=function(){yt(this.g,"a")},Ho.prototype.ta=function(c){yt(this.g,new MD(c))},Ho.prototype.sa=function(c){yt(this.g,new PD)},Ho.prototype.ra=function(){yt(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,QE=Sr.createWebChannelTransport=function(){return new yl},KE=Sr.getStatEventTarget=function(){return ol()},WE=Sr.Event=Ni,Bf=Sr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sl.NO_ERROR=0,sl.TIMEOUT=8,sl.HTTP_ERROR=6,Ru=Sr.ErrorCode=sl,KT.COMPLETE="complete",GE=Sr.EventType=KT,HT.EventType=xa,xa.OPEN="a",xa.CLOSE="b",xa.ERROR="c",xa.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Zs=Sr.WebChannel=HT,Cz=Sr.FetchXmlHttpFactory=Ba,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,qE=Sr.XhrIo=Ae}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});var QN="@firebase/firestore",YN="4.7.17";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var Ea="11.9.0";var Po=new $n("@firebase/firestore");function Js(){return Po.logLevel}function U(n,...e){if(Po.logLevel<=ce.DEBUG){let t=e.map(Fw);Po.debug(`Firestore (${Ea}): ${n}`,...t)}}function Ar(n,...e){if(Po.logLevel<=ce.ERROR){let t=e.map(Fw);Po.error(`Firestore (${Ea}): ${n}`,...t)}}function oa(n,...e){if(Po.logLevel<=ce.WARN){let t=e.map(Fw);Po.warn(`Firestore (${Ea}): ${n}`,...t)}}function Fw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function G(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,jM(n,r,t)}function jM(n,e,t){let r=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ar(r),new Error(r)}function _e(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||jM(e,i,r)}function X(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Kf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},eI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(et.UNAUTHENTICATED))}shutdown(){}},tI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},nI=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_e(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new Kf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new et(e)}},rI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},iI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new rI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},oI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_e(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Qf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Sz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function UM(){return new TextEncoder}var Yf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Sz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function se(n,e){return n<e?-1:n>e?1:0}function sI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return se(r,i);{let o=UM(),s=Az(o.encode(ZN(n,t)),o.encode(ZN(e,t)));return s!==0?s:se(r,i)}}t+=r>65535?2:1}return se(n.length,e.length)}function ZN(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Az(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return se(n[t],e[t]);return se(n.length,e.length)}function sa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var JN=-62135596800,XN=1e6,ct=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*XN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<JN)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XN}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-JN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ct(0,0))}static max(){return new n(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var eM="__name__",Zf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&G(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return se(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):sI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}},ke=class n extends Zf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Rz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class n extends Zf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Rz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eM}static keyField(){return new n([eM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var W=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};var Ou=-1,aI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};aI.UNKNOWN_ID=-1;function Nz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new xo(i,W.empty(),e)}function Mz(n){return new xo(n.readTime,n.key,Ou)}var xo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ne.min(),W.empty(),Ou)}static max(){return new n(ne.max(),W.empty(),Ou)}};function Pz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=W.comparator(n.documentKey,e.documentKey),t!==0?t:se(n.largestBatchId,e.largestBatchId))}var xz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ia(n){return _(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==xz)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function kz(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wa(n){return n.name==="IndexedDbTransactionError"}var Lw=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),Vw=-1;function Mp(n){return n==null}function Fu(n){return n===0&&1/n==-1/0}function Oz(n){return typeof n=="number"&&Number.isInteger(n)&&!Fu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var BM="";function Fz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tM(e)),e=Lz(n.get(t),e);return tM(e)}function Lz(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case BM:t+="";break;default:t+=o}}return t}function tM(n){return n+BM+""}var Vz="remoteDocuments",$M="owner";var HM="mutationQueues";var zM="mutations";var qM="documentMutations",jz="remoteDocumentsV14";var GM="remoteDocumentGlobal";var WM="targets";var KM="targetDocuments";var QM="targetGlobal",YM="collectionParents";var ZM="clientMetadata";var JM="bundles";var XM="namedQueries";var Uz="indexConfiguration";var Bz="indexState";var $z="indexEntries";var eP="documentOverlays";var Hz="globals";var zz=[HM,zM,qM,Vz,WM,$M,QM,KM,ZM,GM,YM,JM,XM],Iae=[...zz,eP],qz=[HM,zM,qM,jz,WM,$M,QM,KM,ZM,GM,YM,JM,XM,eP],Gz=qz,Wz=[...Gz,Uz,Bz,$z];var wae=[...Wz,Hz];function nM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Si(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Oe=class n{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new na(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new na(this.root,e,this.comparator,!1)}getReverseIterator(){return new na(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new na(this.root,e,this.comparator,!0)}},na=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tt=class n{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jf(this.data.getIterator())}getIteratorFrom(e){return new Jf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Jf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var on=class n{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new n([])}unionWith(e){let t=new tt(Kt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Xf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var mt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};mt.EMPTY_BYTE_STRING=new mt("");var Kz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(n){if(_e(!!n,39018),typeof n=="string"){let e=0,t=Kz.exec(n);if(_e(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nr(n){return typeof n=="string"?mt.fromBase64String(n):mt.fromUint8Array(n)}var nP="server_timestamp",rP="__type__",iP="__previous_value__",oP="__local_write_time__";function jw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rP])===null||t===void 0?void 0:t.stringValue)===nP}function Pp(n){let e=n.mapValue.fields[iP];return jw(e)?Pp(e):e}function Lu(n){let e=Rr(n.mapValue.fields[oP].timestampValue);return new ct(e.seconds,e.nanos)}var uI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},ep="(default)",tp=class n{constructor(e,t){this.projectId=e,this.database=t||ep}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ep}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Uw="__type__",sP="__max__",$f={mapValue:{fields:{__type__:{stringValue:sP}}}},Bw="__vector__",aa="value";function Di(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jw(n)?4:cP(n)?9007199254740991:aP(n)?10:11:G(28295,{value:n})}function Zn(n,e){if(n===e)return!0;let t=Di(n);if(t!==Di(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lu(n).isEqual(Lu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Rr(i.timestampValue),a=Rr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Nr(i.bytesValue).isEqual(Nr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return be(i.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return be(i.integerValue)===be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=be(i.doubleValue),a=be(o.doubleValue);return s===a?Fu(s)===Fu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return sa(n.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nM(s)!==nM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Zn(s[u],a[u])))return!1;return!0}(n,e);default:return G(52216,{left:n})}}function Vu(n,e){return(n.values||[]).find(t=>Zn(t,e))!==void 0}function ca(n,e){if(n===e)return 0;let t=Di(n),r=Di(e);if(t!==r)return se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return se(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=be(o.integerValue||o.doubleValue),u=be(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return rM(n.timestampValue,e.timestampValue);case 4:return rM(Lu(n),Lu(e));case 5:return sI(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Nr(o),u=Nr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=se(a[l],u[l]);if(h!==0)return h}return se(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=se(be(o.latitude),be(s.latitude));return a!==0?a:se(be(o.longitude),be(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return iM(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[aa])===null||a===void 0?void 0:a.arrayValue,C=(u=g[aa])===null||u===void 0?void 0:u.arrayValue,N=se(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:iM(y,C)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===$f.mapValue&&s===$f.mapValue)return 0;if(o===$f.mapValue)return 1;if(s===$f.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=sI(u[p],h[p]);if(g!==0)return g;let y=ca(a[u[p]],l[h[p]]);if(y!==0)return y}return se(u.length,h.length)}(n.mapValue,e.mapValue);default:throw G(23264,{Pe:t})}}function rM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return se(n,e);let t=Rr(n),r=Rr(e),i=se(t.seconds,r.seconds);return i!==0?i:se(t.nanos,r.nanos)}function iM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ca(t[i],r[i]);if(o)return o}return se(t.length,r.length)}function ua(n){return lI(n)}function lI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Rr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Nr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return W.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=lI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${lI(t.fields[s])}`;return i+"}"}(n.mapValue):G(61005,{value:n})}function qf(n){switch(Di(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Pp(n);return e?16+qf(e):16;case 5:return 2*n.stringValue.length;case 6:return Nr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+qf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Si(r.fields,(o,s)=>{i+=o.length+qf(s)}),i}(n.mapValue);default:throw G(13486,{value:n})}}function dI(n){return!!n&&"integerValue"in n}function $w(n){return!!n&&"arrayValue"in n}function oM(n){return!!n&&"nullValue"in n}function sM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gf(n){return!!n&&"mapValue"in n}function aP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Uw])===null||t===void 0?void 0:t.stringValue)===Bw}function Mu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Si(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sP}var Dae={mapValue:{fields:{[Uw]:{stringValue:Bw},[aa]:{arrayValue:{}}}}};var Wt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Mu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Si(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Mu(this.value))}};function uP(n){let e=[];return Si(n.fields,(t,r)=>{let i=new Kt([t]);if(Gf(r)){let o=uP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new on(e)}var Sn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ne.min(),ne.min(),ne.min(),Wt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ne.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ne.min(),ne.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ne.min(),ne.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var la=class{constructor(e,t){this.position=e,this.inclusive=t}};function aM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),t.key):r=ca(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zn(n.position[t],e.position[t]))return!1;return!0}var da=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Qz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var np=class{},Ke=class n extends np{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new fI(e,t,r):t==="array-contains"?new mI(e,r):t==="in"?new yI(e,r):t==="not-in"?new vI(e,r):t==="array-contains-any"?new _I(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new pI(e,r):new gI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ca(t,this.value)):t!==null&&Di(this.value)===Di(t)&&this.matchesComparison(ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Jn=class n extends np{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return lP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function lP(n){return n.op==="and"}function dP(n){return Yz(n)&&lP(n)}function Yz(n){for(let e of n.filters)if(e instanceof Jn)return!1;return!0}function hI(n){if(n instanceof Ke)return n.field.canonicalString()+n.op.toString()+ua(n.value);if(dP(n))return n.filters.map(e=>hI(e)).join(",");{let e=n.filters.map(t=>hI(t)).join(",");return`${n.op}(${e})`}}function hP(n,e){return n instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Zn(r.value,i.value)}(n,e):n instanceof Jn?function(r,i){return i instanceof Jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&hP(s,i.filters[a]),!0):!1}(n,e):void G(19439)}function fP(n){return n instanceof Ke?function(t){return`${t.field.canonicalString()} ${t.op} ${ua(t.value)}`}(n):n instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(fP).join(" ,")+"}"}(n):"Filter"}var fI=class extends Ke{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){let t=W.comparator(e.key,this.key);return this.matchesComparison(t)}},pI=class extends Ke{constructor(e,t){super(e,"in",t),this.keys=pP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},gI=class extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=pP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function pP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}var mI=class extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return $w(t)&&Vu(t.arrayValue,this.value)}},yI=class extends Ke{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Vu(this.value.arrayValue,t)}},vI=class extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Vu(this.value.arrayValue,t)}},_I=class extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!$w(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vu(this.value.arrayValue,r))}};var EI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function uM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new EI(n,e,t,r,i,o,s)}function Hw(n){let e=X(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>hI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Mp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ua(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ua(r)).join(",")),e.Ie=t}return e.Ie}function zw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Qz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cM(n.startAt,e.startAt)&&cM(n.endAt,e.endAt)}function II(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ha=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function Zz(n,e,t,r,i,o,s,a){return new ha(n,e,t,r,i,o,s,a)}function xp(n){return new ha(n)}function lM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Jz(n){return n.collectionGroup!==null}function Pu(n){let e=X(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new tt(Kt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new da(o,r))}),t.has(Kt.keyField().canonicalString())||e.Ee.push(new da(Kt.keyField(),r))}return e.Ee}function Kn(n){let e=X(n);return e.de||(e.de=Xz(e,Pu(n))),e.de}function Xz(n,e){if(n.limitType==="F")return uM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new da(i.field,o)});let t=n.endAt?new la(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new la(n.startAt.position,n.startAt.inclusive):null;return uM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function wI(n,e,t){return new ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kp(n,e){return zw(Kn(n),Kn(e))&&n.limitType===e.limitType}function gP(n){return`${Hw(Kn(n))}|lt:${n.limitType}`}function Xs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>fP(i)).join(", ")}]`),Mp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ua(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ua(i)).join(",")),`Target(${r})`}(Kn(n))}; limitType=${n.limitType})`}function Op(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Pu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=aM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Pu(r),i)||r.endAt&&!function(s,a,u){let l=aM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Pu(r),i))}(n,e)}function eq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mP(n){return(e,t)=>{let r=!1;for(let i of Pu(n)){let o=tq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function tq(n,e,t){let r=n.field.isKeyField()?W.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ca(u,l):G(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:n.dir})}}var Mr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return tP(this.inner)}size(){return this.innerSize}};var nq=new Oe(W.comparator);function Pr(){return nq}var yP=new Oe(W.comparator);function Nu(...n){let e=yP;for(let t of n)e=e.insert(t.key,t);return e}function vP(n){let e=yP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ro(){return xu()}function _P(){return xu()}function xu(){return new Mr(n=>n.toString(),(n,e)=>n.isEqual(e))}var rq=new Oe(W.comparator),iq=new tt(W.comparator);function le(...n){let e=iq;for(let t of n)e=e.add(t);return e}var oq=new tt(se);function sq(){return oq}function qw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function EP(n){return{integerValue:""+n}}function aq(n,e){return Oz(e)?EP(e):qw(n,e)}var fa=class{constructor(){this._=void 0}};function cq(n,e,t){return n instanceof pa?function(i,o){let s={fields:{[rP]:{stringValue:nP},[oP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jw(o)&&(o=Pp(o)),o&&(s.fields[iP]=o),{mapValue:s}}(t,e):n instanceof ko?wP(n,e):n instanceof Oo?TP(n,e):function(i,o){let s=IP(i,o),a=dM(s)+dM(i.Re);return dI(s)&&dI(i.Re)?EP(a):qw(i.serializer,a)}(n,e)}function uq(n,e,t){return n instanceof ko?wP(n,e):n instanceof Oo?TP(n,e):t}function IP(n,e){return n instanceof ga?function(r){return dI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var pa=class extends fa{},ko=class extends fa{constructor(e){super(),this.elements=e}};function wP(n,e){let t=DP(e);for(let r of n.elements)t.some(i=>Zn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Oo=class extends fa{constructor(e){super(),this.elements=e}};function TP(n,e){let t=DP(e);for(let r of n.elements)t=t.filter(i=>!Zn(i,r));return{arrayValue:{values:t}}}var ga=class extends fa{constructor(e,t){super(),this.serializer=e,this.Re=t}};function dM(n){return be(n.integerValue||n.doubleValue)}function DP(n){return $w(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function lq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ko&&i instanceof ko||r instanceof Oo&&i instanceof Oo?sa(r.elements,i.elements,Zn):r instanceof ga&&i instanceof ga?Zn(r.Re,i.Re):r instanceof pa&&i instanceof pa}(n.transform,e.transform)}var TI=class{constructor(e,t){this.version=e,this.transformResults=t}},Qn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ma=class{};function bP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ju(n.key,Qn.none()):new Fo(n.key,n.data,Qn.none());{let t=n.data,r=Wt.empty(),i=new tt(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Xn(n.key,r,new on(i.toArray()),Qn.none())}}function dq(n,e,t){n instanceof Fo?function(i,o,s){let a=i.value.clone(),u=fM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Xn?function(i,o,s){if(!Wf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=fM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(CP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function ku(n,e,t,r){return n instanceof Fo?function(o,s,a,u){if(!Wf(o.precondition,s))return a;let l=o.value.clone(),h=pM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xn?function(o,s,a,u){if(!Wf(o.precondition,s))return a;let l=pM(o.fieldTransforms,u,s),h=s.data;return h.setAll(CP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Wf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function hq(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=IP(r.transform,i||null);o!=null&&(t===null&&(t=Wt.empty()),t.set(r.field,o))}return t||null}function hM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sa(r,i,(o,s)=>lq(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Fo=class extends ma{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Xn=class extends ma{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function CP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function fM(n,e,t){let r=new Map;_e(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,uq(s,a,t[i]))}return r}function pM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,cq(o,s,e))}return r}var ju=class extends ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},DI=class extends ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var bI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&dq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ku(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ku(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=_P();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=bP(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(t,r)=>hM(t,r))&&sa(this.baseMutations,e.baseMutations,(t,r)=>hM(t,r))}},CI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){_e(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return rq}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var SI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var AI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var $e,fe;function fq(n){switch(n){case P.OK:return G(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return G(15467,{code:n})}}function SP(n){if(n===void 0)return Ar("GRPC error has no .code"),P.UNKNOWN;switch(n){case $e.OK:return P.OK;case $e.CANCELLED:return P.CANCELLED;case $e.UNKNOWN:return P.UNKNOWN;case $e.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case $e.INTERNAL:return P.INTERNAL;case $e.UNAVAILABLE:return P.UNAVAILABLE;case $e.UNAUTHENTICATED:return P.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case $e.NOT_FOUND:return P.NOT_FOUND;case $e.ALREADY_EXISTS:return P.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return P.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case $e.ABORTED:return P.ABORTED;case $e.OUT_OF_RANGE:return P.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return P.UNIMPLEMENTED;case $e.DATA_LOSS:return P.DATA_LOSS;default:return G(39323,{code:n})}}(fe=$e||($e={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var gM=null;var pq=new Cr([4294967295,4294967295],0);function mM(n){let e=UM().encode(n),t=new zE;return t.update(e),new Uint8Array(t.digest())}function yM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Cr([t,r],0),new Cr([i,o],0)]}var RI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new No(`Invalid padding: ${t}`);if(r<0)throw new No(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new No(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Cr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Cr.fromNumber(r)));return i.compare(pq)===1&&(i=new Cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=mM(e),[r,i]=yM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=mM(e),[r,i]=yM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},No=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var rp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ne.min(),i,new Oe(se),Pr(),le())}},Uu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,le(),le(),le())}};var ra=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},ip=class{constructor(e,t){this.targetId=e,this.Ce=t}},op=class{constructor(e,t,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},sp=class{constructor(){this.Fe=0,this.Me=vM(),this.xe=mt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=le(),t=le(),r=le();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:o})}}),new Uu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=vM()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,_e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},NI=class{constructor(e){this.ze=e,this.je=new Map,this.He=Pr(),this.Je=Hf(),this.Ye=Hf(),this.Ze=new Oe(se)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(II(o))if(r===0){let s=new W(o.path);this.tt(t,s,Sn.newNoDocument(s,ne.min()))}else _e(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}gM?.ht(function(h,p,g,y,C){var N,R,O,K,B,ge;let nt={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},me=p.unchangedNames;return me&&(nt.bloomFilter={applied:C===0,hashCount:(N=me?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(K=(O=(R=me?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&K!==void 0?K:0,padding:(ge=(B=me?.bits)===null||B===void 0?void 0:B.padding)!==null&&ge!==void 0?ge:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),nt}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Nr(r).toUint8Array()}catch(u){if(u instanceof Xf)return oa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new RI(s,i,o)}catch(u){return oa(u instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&II(a.target)){let u=new W(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,Sn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=le();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new rp(e,t,this.Ze,this.He,r);return this.He=Pr(),this.Je=Hf(),this.Ye=Hf(),this.Ze=new Oe(se),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new sp,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new tt(se),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new tt(se),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new sp),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Hf(){return new Oe(W.comparator)}function vM(){return new Oe(W.comparator)}var gq={asc:"ASCENDING",desc:"DESCENDING"},mq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yq={and:"AND",or:"OR"},MI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function PI(n,e){return n.useProto3Json||Mp(e)?e:{value:e}}function ap(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vq(n,e){return ap(n,e.toTimestamp())}function Yn(n){return _e(!!n,49232),ne.fromTimestamp(function(t){let r=Rr(t);return new ct(r.seconds,r.nanos)}(n))}function Gw(n,e){return xI(n,e).canonicalString()}function xI(n,e){let t=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RP(n){let e=ke.fromString(n);return _e(kP(e),10190,{key:e.toString()}),e}function kI(n,e){return Gw(n.databaseId,e.path)}function YE(n,e){let t=RP(e);if(t.get(1)!==n.databaseId.projectId)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(MP(t))}function NP(n,e){return Gw(n.databaseId,e)}function _q(n){let e=RP(n);return e.length===4?ke.emptyPath():MP(e)}function OI(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MP(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _M(n,e,t){return{name:kI(n,e),fields:t.value.mapValue.fields}}function Eq(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(_e(h===void 0||typeof h=="string",58123),mt.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),mt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:SP(l.code);return new H(h,l.message||"")}(s);t=new op(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=YE(n,r.document.name),o=Yn(r.document.updateTime),s=r.document.createTime?Yn(r.document.createTime):ne.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=Sn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ra(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=YE(n,r.document),o=r.readTime?Yn(r.readTime):ne.min(),s=Sn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ra([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=YE(n,r.document),o=r.removedTargetIds||[];t=new ra([],o,i,null)}else{if(!("filter"in e))return G(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new AI(i,o),a=r.targetId;t=new ip(a,s)}}return t}function Iq(n,e){let t;if(e instanceof Fo)t={update:_M(n,e.key,e.value)};else if(e instanceof ju)t={delete:kI(n,e.key)};else if(e instanceof Xn)t={update:_M(n,e.key,e.data),updateMask:Nq(e.fieldMask)};else{if(!(e instanceof DI))return G(16599,{ft:e.type});t={verify:kI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof pa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ko)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ga)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw G(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:vq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G(27497)}(n,e.precondition)),t}function wq(n,e){return n&&n.length>0?(_e(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Yn(i.updateTime):Yn(o);return s.isEqual(ne.min())&&(s=Yn(o)),new TI(s,i.transformResults||[])}(t,e))):[]}function Tq(n,e){return{documents:[NP(n,e.path)]}}function Dq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=NP(n,i);let o=function(l){if(l.length!==0)return xP(Jn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:ea(g.field),direction:Sq(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=PI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function bq(n){let e=_q(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){_e(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=PP(p);return g instanceof Jn&&dP(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(C){return new da(ta(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Mp(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new la(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new la(y,g)}(t.endAt)),Zz(e,i,s,o,a,"F",u,l)}function Cq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PP(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ta(t.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ta(t.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ta(t.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ta(t.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ke.create(ta(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(r=>PP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}}(t.compositeFilter.op))}(n):G(30097,{filter:n})}function Sq(n){return gq[n]}function Aq(n){return mq[n]}function Rq(n){return yq[n]}function ea(n){return{fieldPath:n.canonicalString()}}function ta(n){return Kt.fromServerFormat(n.fieldPath)}function xP(n){return n instanceof Ke?function(t){if(t.op==="=="){if(sM(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NAN"}};if(oM(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sM(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NAN"}};if(oM(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(t.field),op:Aq(t.op),value:t.value}}}(n):n instanceof Jn?function(t){let r=t.getFilters().map(i=>xP(i));return r.length===1?r[0]:{compositeFilter:{op:Rq(t.op),filters:r}}}(n):G(54877,{filter:n})}function Nq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Bu=class n{constructor(e,t,r,i,o=ne.min(),s=ne.min(),a=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var FI=class{constructor(e){this.wt=e}};function Mq(n){let e=bq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wI(e,e.limit,"L"):e}var cp=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Fu(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Rr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Nr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?cP(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):aP(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):G(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=aa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(be(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),W.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};cp.Wt=new cp;var LI=class{constructor(){this.Cn=new VI}addToCollectionParentIndex(e,t){return this.Cn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(xo.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},VI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new tt(ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(ke.comparator)).toArray()}};var bae=new Uint8Array(0);var EM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OP=41943040,rn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(OP,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);var $u=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var IM="LruGarbageCollector",Pq=1048576;function wM([n,e],[t,r]){let i=se(n,t);return i===0?se(e,r):i}var jI=class{constructor(e){this.Er=e,this.buffer=new tt(wM),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();wM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},UI=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){U(IM,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){wa(t)?U(IM,"Ignoring IndexedDB error during garbage collection: ",t):yield Ia(t)}yield this.mr(3e5)}))}},BI=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(Lw.le);let r=new jI(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(EM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EM):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Js()<=ce.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function xq(n,e){return new BI(n,e)}var $I=class{constructor(){this.changes=new Mr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var HI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var zI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ku(r.mutation,i,on.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){let i=Ro();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Nu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ro();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Pr(),s=xu(),a=function(){return xu()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Xn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ku(h.mutation,l,h.mutation.getFieldMask(),ct.now())):s.set(l.key,on.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new HI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=xu(),i=new Oe((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||on.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=_P();h.forEach(g=>{if(!o.has(g)){let y=bP(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jz(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(Ro()),a=Ou,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:vP(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Nu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,g){return new ha(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Sn.newInvalidDocument(h)))});let a=Nu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ku(h.mutation,l,on.empty(),ct.now()),Op(t,l)&&(a=a.insert(u,l))}),a})}};var qI=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return x.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Yn(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:Mq(i.bundledQuery),readTime:Yn(i.readTime)}}(t)),x.resolve()}};var GI=class{constructor(){this.overlays=new Oe(W.comparator),this.Qr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ro();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Ro(),o=t.length+1,s=new W(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Oe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ro(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ro(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new SI(t,r));let o=this.Qr.get(t);o===void 0&&(o=le(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var WI=class{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Hu=class{constructor(){this.$r=new tt(He.Ur),this.Kr=new tt(He.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new He(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new He(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new W(new ke([])),r=new He(t,e),i=new He(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new W(new ke([])),r=new He(t,e),i=new He(t,e+1),o=le();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new He(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return W.comparator(e.key,t.key)||se(e.Zr,t.Zr)}static Wr(e,t){return se(e.Zr,t.Zr)||W.comparator(e.key,t.key)}};var KI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new tt(He.Ur)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new bI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new He(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?Vw:this.nr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new He(t,0),i=new He(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tt(se);return t.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new He(new W(o),0),a=new tt(se);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),x.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){_e(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(t.mutations,i=>{let o=new He(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new He(t,0),i=this.Xr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var QI=class{constructor(e){this.ii=e,this.docs=function(){return new Oe(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let r=Pr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Sn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Pr(),s=t.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Pz(Mz(h),r)<=0||(i.has(h.key)||Op(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G(9500)}si(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new YI(this)}getSize(e){return x.resolve(this.size)}},YI=class extends $I{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var ZI=class{constructor(e){this.persistence=e,this.oi=new Mr(t=>Hw(t),zw),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this._i=0,this.ai=new Hu,this.targetCount=0,this.ui=$u.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),x.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new $u(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Tr(t),x.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ai.containsKey(t))}};var up=class{constructor(e,t){this.ci={},this.overlays={},this.li=new Lw(0),this.hi=!1,this.hi=!0,this.Pi=new WI,this.referenceDelegate=e(this),this.Ti=new ZI(this),this.indexManager=new LI,this.remoteDocumentCache=function(i){return new QI(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new FI(t),this.Ei=new qI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new KI(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new JI(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},JI=class extends cI{constructor(e){super(),this.currentSequenceNumber=e}},XI=class n{constructor(e){this.persistence=e,this.Vi=new Hu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw G(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{let i=W.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ne.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return x.or([()=>x.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},lp=class n{constructor(e,t){this.persistence=e,this.yi=new Mr(r=>Fz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=xq(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return x.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qf(e.data.value)),t}Dr(e,t,r){return x.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var ew=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=le(),i=le();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var tw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var nw=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _R()?8:kz(Je())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new tw;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Js()<=ce.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Xs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(Js()<=ce.DEBUG&&U("QueryEngine","Query:",Xs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Js()<=ce.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Xs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(t))):x.resolve())}ws(e,t){if(lM(t))return x.resolve(null);let r=Kn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=wI(t,null,"F"),r=Kn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,a);return this.Cs(t,l,s,u.readTime)?this.ws(e,wI(t,null,"F")):this.Fs(e,l,t,u)}))})))}bs(e,t,r,i){return lM(t)||i.isEqual(ne.min())?x.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?x.resolve(null):(Js()<=ce.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xs(t)),this.Fs(e,s,t,Nz(i,Ou)).next(a=>a))})}vs(e,t){let r=new tt(mP(e));return t.forEach((i,o)=>{Op(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Js()<=ce.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Xs(t)),this.ys.getDocumentsMatchingQuery(e,t,xo.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Ww="LocalStore",kq=3e8,rw=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Oe(se),this.Os=new Mr(o=>Hw(o),zw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function Oq(n,e,t,r){return new rw(n,e,t,r)}function FP(n,e){return _(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Fq(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=x.resolve();return g.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);_e(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function LP(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Lq(n,e){let t=X(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(mt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,O){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=kq?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(g,y,h)&&a.push(t.Ti.updateTargetData(o,y))});let u=Pr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Vq(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(ne.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function Vq(n,e,t){let r=le(),i=le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Pr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(Ww,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function jq(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Vw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Uq(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Bu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function iw(n,e,t){return _(this,null,function*(){let r=X(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!wa(s))throw s;U(Ww,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function TM(n,e,t){let r=X(n),i=ne.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=X(u),g=p.Os.get(h);return g!==void 0?x.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,Kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:ne.min(),t?o:le())).next(a=>(Bq(r,eq(e),a),{documents:a,$s:o})))}function Bq(n,e,t){let r=n.Ns.get(e)||ne.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var dp=class{constructor(){this.activeTargetIds=sq()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ow=class{constructor(){this.xo=new dp,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new dp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var sw=class{No(e){}shutdown(){}};var DM="ConnectivityMonitor",hp=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){U(DM,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){U(DM,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var zf=null;function aw(){return zf===null?zf=function(){return 268435456+Math.round(2147483648*Math.random())}():zf++,"0x"+zf.toString(16)}var ZE="RestConnection",$q={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},cw=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===ep?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=aw(),a=this.jo(e,t.toUriEncodedString());U(ZE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=hi(l);return this.Jo(e,a,u,r,h).then(p=>(U(ZE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw oa(ZE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=$q[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var uw=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var gt="WebChannelConnection",lw=class extends cw{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=aw();return new Promise((a,u)=>{let l=new qE;l.setWithCredentials(!0),l.listenOnce(GE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ru.NO_ERROR:let p=l.getResponseJson();U(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ru.TIMEOUT:U(gt,`RPC '${e}' ${s} timed out`),u(new H(P.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:let g=l.getStatus();if(U(gt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let N=function(O){let K=O.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(K)>=0?K:P.UNKNOWN}(C.status);u(new H(N,C.message))}else u(new H(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new H(P.UNAVAILABLE,"Connection failed."));break;default:G(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{U(gt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(gt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=aw(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=QE(),a=KE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(gt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let g=!1,y=!1,C=new uw({Zo:R=>{y?U(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(U(gt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),U(gt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),N=(R,O,K)=>{R.listen(O,B=>{try{K(B)}catch(ge){setTimeout(()=>{throw ge},0)}})};return N(p,Zs.EventType.OPEN,()=>{y||(U(gt,`RPC '${e}' stream ${i} transport opened.`),C.__())}),N(p,Zs.EventType.CLOSE,()=>{y||(y=!0,U(gt,`RPC '${e}' stream ${i} transport closed`),C.u_(),this.d_(p))}),N(p,Zs.EventType.ERROR,R=>{y||(y=!0,oa(gt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.u_(new H(P.UNAVAILABLE,"The operation could not be completed")))}),N(p,Zs.EventType.MESSAGE,R=>{var O;if(!y){let K=R.data[0];_e(!!K,16349);let B=K,ge=B?.error||((O=B[0])===null||O===void 0?void 0:O.error);if(ge){U(gt,`RPC '${e}' stream ${i} received error:`,ge);let nt=ge.status,me=function(I){let w=$e[I];if(w!==void 0)return SP(w)}(nt),T=ge.message;me===void 0&&(me=P.INTERNAL,T="Unknown error status: "+nt+" with message "+ge.message),y=!0,C.u_(new H(me,T)),p.close()}else U(gt,`RPC '${e}' stream ${i} received:`,K),C.c_(K)}}),N(a,WE.STAT_EVENT,R=>{R.stat===Bf.PROXY?U(gt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Bf.NOPROXY&&U(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function JE(){return typeof document<"u"?document:null}function Fp(n){return new MI(n,!0)}var fp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var bM="PersistentStream",pp=class{constructor(e,t,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new fp(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new H(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return U(bM,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(U(bM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},dw=class extends pp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=Eq(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Yn(s.readTime):ne.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=OI(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=II(u)?{documents:Tq(o,u)}:{query:Dq(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=AP(o,s.resumeToken);let l=PI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=ap(o,s.snapshotVersion.toTimestamp());let l=PI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Cq(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=OI(this.serializer),t.removeTarget=e,this.Q_(t)}},hw=class extends pp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=wq(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=OI(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Iq(this.serializer,r))};this.Q_(t)}};var fw=class{},pw=class extends fw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,xI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(P.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,xI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(P.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},gw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ar(t),this.ua=!1):U("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Lo="RemoteStore",mw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Vo(this)&&(U(Lo,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=X(u);l.da.add(4),yield Ku(l),l.Va.set("Unknown"),l.da.delete(4),yield Lp(l)})}(this))}))}),this.Va=new gw(r,i)}};function Lp(n){return _(this,null,function*(){if(Vo(n))for(let e of n.Aa)yield e(!0)})}function Ku(n){return _(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function VP(n,e){let t=X(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Zw(t)?Yw(t):Ta(t).N_()&&Qw(t,e))}function Kw(n,e){let t=X(n),r=Ta(t);t.Ea.delete(e),r.N_()&&jP(t,e),t.Ea.size===0&&(r.N_()?r.k_():Vo(t)&&t.Va.set("Unknown"))}function Qw(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ta(n).Z_(e)}function jP(n,e){n.ma.Ke(e),Ta(n).X_(e)}function Yw(n){n.ma=new NI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ta(n).start(),n.Va.ca()}function Zw(n){return Vo(n)&&!Ta(n).O_()&&n.Ea.size>0}function Vo(n){return X(n).da.size===0}function UP(n){n.ma=void 0}function Hq(n){return _(this,null,function*(){n.Va.set("Online")})}function zq(n){return _(this,null,function*(){n.Ea.forEach((e,t)=>{Qw(n,e)})})}function qq(n,e){return _(this,null,function*(){UP(n),Zw(n)?(n.Va.Pa(e),Yw(n)):n.Va.set("Unknown")})}function Gq(n,e,t){return _(this,null,function*(){if(n.Va.set("Online"),e instanceof op&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){U(Lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gp(n,r)}else if(e instanceof ra?n.ma.Xe(e):e instanceof ip?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ne.min()))try{let r=yield LP(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(mt.EMPTY_BYTE_STRING,h.snapshotVersion)),jP(o,u);let p=new Bu(h.target,u,l,h.sequenceNumber);Qw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){U(Lo,"Failed to raise snapshot:",r),yield gp(n,r)}})}function gp(n,e,t){return _(this,null,function*(){if(!wa(e))throw e;n.da.add(1),yield Ku(n),n.Va.set("Offline"),t||(t=()=>LP(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){U(Lo,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield Lp(n)}))})}function BP(n,e){return e().catch(t=>gp(n,t,e))}function Vp(n){return _(this,null,function*(){let e=X(n),t=bi(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Vw;for(;Wq(e);)try{let i=yield jq(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,Kq(e,i)}catch(i){yield gp(e,i)}$P(e)&&HP(e)})}function Wq(n){return Vo(n)&&n.Ia.length<10}function Kq(n,e){n.Ia.push(e);let t=bi(n);t.N_()&&t.ea&&t.ta(e.mutations)}function $P(n){return Vo(n)&&!bi(n).O_()&&n.Ia.length>0}function HP(n){bi(n).start()}function Qq(n){return _(this,null,function*(){bi(n).ia()})}function Yq(n){return _(this,null,function*(){let e=bi(n);for(let t of n.Ia)e.ta(t.mutations)})}function Zq(n,e,t){return _(this,null,function*(){let r=n.Ia.shift(),i=CI.from(r,e,t);yield BP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Vp(n)})}function Jq(n,e){return _(this,null,function*(){e&&bi(n).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return fq(s)&&s!==P.ABORTED}(i.code)){let o=r.Ia.shift();bi(r).L_(),yield BP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Vp(r)}})}(n,e)),$P(n)&&HP(n)})}function CM(n,e){return _(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),U(Lo,"RemoteStore received new credentials");let r=Vo(t);t.da.add(3),yield Ku(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield Lp(t)})}function Xq(n,e){return _(this,null,function*(){let t=X(n);e?(t.da.delete(2),yield Lp(t)):e||(t.da.add(2),yield Ku(t),t.Va.set("Unknown"))})}function Ta(n){return n.fa||(n.fa=function(t,r,i){let o=X(t);return o.oa(),new dw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:Hq.bind(null,n),n_:zq.bind(null,n),i_:qq.bind(null,n),Y_:Gq.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.fa.L_(),Zw(n)?Yw(n):n.Va.set("Unknown")):(yield n.fa.stop(),UP(n))}))),n.fa}function bi(n){return n.ga||(n.ga=function(t,r,i){let o=X(t);return o.oa(),new hw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:Qq.bind(null,n),i_:Jq.bind(null,n),na:Yq.bind(null,n),ra:Zq.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.ga.L_(),yield Vp(n)):(yield n.ga.stop(),n.Ia.length>0&&(U(Lo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var yw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Jw(n,e){if(Ar("AsyncQueue",`${e}: ${n}`),wa(n))return new H(P.UNAVAILABLE,`${e}: ${n}`);throw n}var mp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=Nu(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var yp=class{constructor(){this.pa=new Oe(W.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):G(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},ya=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,mp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var vw=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},_w=class{constructor(){this.queries=SM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=SM(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new H(P.ABORTED,"Firestore shutting down"))}};function SM(){return new Mr(n=>gP(n),kp)}function zP(n,e){return _(this,null,function*(){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new vw,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Jw(s,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&Xw(t)})}function qP(n,e){return _(this,null,function*(){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function e3(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&Xw(t)}function t3(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function Xw(n){n.Ca.forEach(e=>{e.next()})}var Ew,AM;(AM=Ew||(Ew={})).xa="default",AM.Cache="cache";var vp=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ew.Cache}};var _p=class{constructor(e){this.key=e}},Ep=class{constructor(e){this.key=e}},Iw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=le(),this.mutatedKeys=le(),this.Za=mP(e),this.Xa=new mp(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new yp,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Op(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.ru(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{Vt:R})}};return N(y)-N(C)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new ya(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new yp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=le(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new Ep(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new _p(r))}),t}au(e){this.Ha=e.$s,this.Ya=le();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ya.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},eT="SyncEngine",ww=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Tw=class{constructor(e){this.key=e,this.cu=!1}},Dw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Mr(a=>gP(a),kp),this.Pu=new Map,this.Tu=new Set,this.Iu=new Oe(W.comparator),this.Eu=new Map,this.du=new Hu,this.Au={},this.Ru=new Map,this.Vu=$u.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function n3(n,e,t=!0){return _(this,null,function*(){let r=ZP(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield GP(r,e,t,!0),i})}function r3(n,e){return _(this,null,function*(){let t=ZP(n);yield GP(t,e,!0,!1)})}function GP(n,e,t,r){return _(this,null,function*(){let i=yield Uq(n.localStore,Kn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield i3(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&VP(n.remoteStore,i),a})}function i3(n,e,t,r,i){return _(this,null,function*(){n.fu=(p,g,y)=>function(N,R,O,K){return _(this,null,function*(){let B=R.view.tu(O);B.Cs&&(B=yield TM(N.localStore,R.query,!1).then(({documents:T})=>R.view.tu(T,B)));let ge=K&&K.targetChanges.get(R.targetId),nt=K&&K.targetMismatches.get(R.targetId)!=null,me=R.view.applyChanges(B,N.isPrimaryClient,ge,nt);return NM(N,R.targetId,me.ou),me.snapshot})}(n,p,g,y);let o=yield TM(n.localStore,e,!0),s=new Iw(e,o.$s),a=s.tu(o.documents),u=Uu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);NM(n,t,l.ou);let h=new ww(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function o3(n,e,t){return _(this,null,function*(){let r=X(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!kp(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield iw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Kw(r.remoteStore,i.targetId),bw(r,i.targetId)}).catch(Ia))):(bw(r,i.targetId),yield iw(r.localStore,i.targetId,!0))})}function s3(n,e){return _(this,null,function*(){let t=X(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Kw(t.remoteStore,r.targetId))})}function a3(n,e,t){return _(this,null,function*(){let r=p3(n);try{let i=yield function(s,a){let u=X(s),l=ct.now(),h=a.reduce((y,C)=>y.add(C.key),le()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Pr(),N=le();return u.Bs.getEntries(y,h).next(R=>{C=R,C.forEach((O,K)=>{K.isValidDocument()||(N=N.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let O=[];for(let K of a){let B=hq(K,p.get(K.key).overlayedDocument);B!=null&&O.push(new Xn(K.key,B,uP(B.value.mapValue),Qn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(R=>{g=R;let O=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,O)})}).then(()=>({batchId:g.batchId,changes:vP(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new Oe(se)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Qu(r,i.changes),yield Vp(r.remoteStore)}catch(i){let o=Jw(i,"Failed to persist write");t.reject(o)}})}function WP(n,e){return _(this,null,function*(){let t=X(n);try{let r=yield Lq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?_e(s.cu,14607):i.removedDocuments.size>0&&(_e(s.cu,42227),s.cu=!1))}),yield Qu(t,r,e)}catch(r){yield Ia(r)}})}function RM(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(l=!0)}),l&&Xw(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function c3(n,e,t){return _(this,null,function*(){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Oe(W.comparator);s=s.insert(o,Sn.newNoDocument(o,ne.min()));let a=le().add(o),u=new rp(ne.min(),new Map,new Oe(se),s,a);yield WP(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),tT(r)}else yield iw(r.localStore,e,!1).then(()=>bw(r,e,t)).catch(Ia)})}function u3(n,e){return _(this,null,function*(){let t=X(n),r=e.batch.batchId;try{let i=yield Fq(t.localStore,e);QP(t,r,null),KP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Qu(t,i)}catch(i){yield Ia(i)}})}function l3(n,e,t){return _(this,null,function*(){let r=X(n);try{let i=yield function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(_e(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);QP(r,e,t),KP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Qu(r,i)}catch(i){yield Ia(i)}})}function KP(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function QP(n,e,t){let r=X(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function bw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||YP(n,r)})}function YP(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(Kw(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),tT(n))}function NM(n,e,t){for(let r of t)r instanceof _p?(n.du.addReference(r.key,e),d3(n,r)):r instanceof Ep?(U(eT,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||YP(n,r.key)):G(19791,{pu:r})}function d3(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(U(eT,"New document in limbo: "+t),n.Tu.add(r),tT(n))}function tT(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new W(ke.fromString(e)),r=n.Vu.next();n.Eu.set(r,new Tw(t)),n.Iu=n.Iu.insert(t,r),VP(n.remoteStore,new Bu(Kn(xp(t.path)),r,"TargetPurposeLimboResolution",Lw.le))}}function Qu(n,e,t){return _(this,null,function*(){let r=X(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=ew.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return _(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.ds,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>x.forEach(g.As,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!wa(p))throw p;U(Ww,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.xs.get(g),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.xs=h.xs.insert(g,N)}}})}(r.localStore,o))})}function h3(n,e){return _(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){U(eT,"User change. New user:",e.toKey());let r=yield FP(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new H(P.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qu(t,r.ks)}})}function f3(n,e){let t=X(n),r=t.Eu.get(e);if(r&&r.cu)return le().add(r.key);{let i=le(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function ZP(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c3.bind(null,e),e.lu.Y_=e3.bind(null,e.eventManager),e.lu.gu=t3.bind(null,e.eventManager),e}function p3(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l3.bind(null,e),e}var JP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Fp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return Oq(this.persistence,new nw,t.initialUser,this.serializer)}Su(t){return new up(XI.fi,this.serializer)}bu(t){return new ow}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Cw=class extends JP{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){_e(this.persistence.referenceDelegate instanceof lp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new UI(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new up(r=>lp.fi(r,t),this.serializer)}};var g3=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h3.bind(null,this.syncEngine),yield Xq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new _w}()}createDatastore(t){let r=Fp(t.databaseInfo.databaseId),i=function(s){return new lw(s)}(t.databaseInfo);return function(s,a,u,l){return new pw(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new mw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>RM(this.syncEngine,r,0),function(){return hp.C()?new hp:new sw}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new Dw(o,s,a,u,l,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=X(o);U(Lo,"RemoteStore shutting down."),s.da.add(5),yield Ku(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Ip=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ci="FirestoreClient",Sw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=Yf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){U(Ci,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(Ci,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Jw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function XE(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(Ci,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield FP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function MM(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield m3(n);U(Ci,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>CM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>CM(e.remoteStore,i)),n._onlineComponents=e})}function m3(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(Ci,"Using user provided OfflineComponentProvider");try{yield XE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;oa("Error using user provided cache. Falling back to memory cache: "+t),yield XE(n,new JP)}}else U(Ci,"Using default OfflineComponentProvider"),yield XE(n,new Cw(void 0));return n._offlineComponents})}function XP(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(Ci,"Using user provided OnlineComponentProvider"),yield MM(n,n._uninitializedComponentsProvider._online)):(U(Ci,"Using default OnlineComponentProvider"),yield MM(n,new g3))),n._onlineComponents})}function y3(n){return XP(n).then(e=>e.syncEngine)}function Aw(n){return _(this,null,function*(){let e=yield XP(n),t=e.eventManager;return t.onListen=n3.bind(null,e.syncEngine),t.onUnlisten=o3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=r3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=s3.bind(null,e.syncEngine),t})}function v3(n,e,t={}){let r=new Gn;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Ip({next:g=>{h.xu(),s.enqueueAndForget(()=>qP(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new H(P.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new H(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new vp(xp(a.path),h,{includeMetadataChanges:!0,Qa:!0});return zP(o,p)}(yield Aw(n),n.asyncQueue,e,t,r)})),r.promise}function ex(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var PM=new Map;function tx(n,e,t){if(!t)throw new H(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _3(n,e,t,r){if(e===!0&&r===!0)throw new H(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xM(n){if(!W.isDocumentKey(n))throw new H(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kM(n){if(W.isDocumentKey(n))throw new H(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nT(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G(12329,{type:typeof n})}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=nT(n);throw new H(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var nx="firestore.googleapis.com",OM=!0,wp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nx,this.ssl=OM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:OM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pq)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ex((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},va=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eI;switch(r.type){case"firstParty":return new iI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=PM.get(t);r&&(U("ComponentProvider","Removing Datastore"),PM.delete(t),r.terminate())}(this),Promise.resolve()}};function rx(n,e,t,r={}){var i;n=sn(n,va);let o=hi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(pf(`https://${u}`),gf("Firestore",!0)),s.host!==nx&&s.host!==u&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Bn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=et.MOCK_USER;else{h=fR(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new H(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new et(g)}n._authCredentials=new tI(new Kf(h,p))}}var Tp=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ct=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ti=class n extends Tp{constructor(e,t,r){super(e,t,xp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new W(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function ix(n,e,...t){if(n=je(n),tx("collection","path",e),n instanceof va){let r=ke.fromString(e,...t);return kM(r),new Ti(n,null,r)}{if(!(n instanceof Ct||n instanceof Ti))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return kM(r),new Ti(n.firestore,null,r)}}function rT(n,e,...t){if(n=je(n),arguments.length===1&&(e=Yf.newId()),tx("doc","path",e),n instanceof va){let r=ke.fromString(e,...t);return xM(r),new Ct(n,null,new W(r))}{if(!(n instanceof Ct||n instanceof Ti))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return xM(r),new Ct(n.firestore,n instanceof Ti?n.converter:null,new W(r))}}var FM="AsyncQueue",Dp=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new fp(this,"async_queue_retry"),this.rc=()=>{let r=JE();r&&U(FM,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=JE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=JE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new Gn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!wa(e))throw e;U(FM,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ar("INTERNAL UNHANDLED ERROR: ",LM(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=yw.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&G(47125,{cc:LM(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function LM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function VM(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var er=class extends va{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Dp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Dp(e),this._firestoreClient=void 0,yield e}})}};function ox(n,e){let t=typeof n=="object"?n:Io(),r=typeof n=="string"?n:e||ep,i=Gs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hR("firestore");o&&rx(i,...o)}return i}function iT(n){if(n._terminated)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||E3(n),n._firestoreClient}function E3(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new uI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ex(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Sw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var zu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(mt.fromBase64String(e))}catch(t){throw new H(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var _a=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qu=class{constructor(e){this._methodName=e}};var Gu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}};var Wu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var I3=/^__.*__$/,Rw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fo(e,this.data,t,this.fieldTransforms)}},bp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function sx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ic:n})}}var Nw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Sp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(sx(this.Ic)&&I3.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},Mw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Fp(e)}bc(e,t,r,i=!1){return new Nw({Ic:e,methodName:t,wc:r,path:Kt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function oT(n){let e=n._freezeSettings(),t=Fp(n._databaseId);return new Mw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ax(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);sT("Data must be an object, but it was:",s,r);let a=cx(r,s),u,l;if(o.merge)u=new on(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=Pw(e,p,t);if(!s.contains(g))throw new H(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);lx(h,g)||h.push(g)}u=new on(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Rw(new Wt(a),u,l)}var Cp=class n extends qu{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function w3(n,e,t,r){let i=n.bc(1,e,t);sT("Data must be an object, but it was:",i,r);let o=[],s=Wt.empty();Si(r,(u,l)=>{let h=aT(e,u,t);l=je(l);let p=i.mc(h);if(l instanceof Cp)o.push(h);else{let g=jp(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new on(o);return new bp(s,a,i.fieldTransforms)}function T3(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[Pw(e,r,t)],u=[i];if(o.length%2!=0)throw new H(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Pw(e,o[g])),u.push(o[g+1]);let l=[],h=Wt.empty();for(let g=a.length-1;g>=0;--g)if(!lx(l,a[g])){let y=a[g],C=u[g];C=je(C);let N=s.mc(y);if(C instanceof Cp)l.push(y);else{let R=jp(C,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new on(l);return new bp(h,p,s.fieldTransforms)}function jp(n,e){if(ux(n=je(n)))return sT("Unsupported field value:",e,n),cx(n,e);if(n instanceof qu)return function(r,i){if(!sx(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=jp(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ct.fromDate(r);return{timestampValue:ap(i.serializer,o)}}if(r instanceof ct){let o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(i.serializer,o)}}if(r instanceof Gu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zu)return{bytesValue:AP(i.serializer,r._byteString)};if(r instanceof Ct){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wu)return function(s,a){return{mapValue:{fields:{[Uw]:{stringValue:Bw},[aa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return qw(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${nT(r)}`)}(n,e)}function cx(n,e){let t={};return tP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(n,(r,i)=>{let o=jp(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ux(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof Gu||n instanceof zu||n instanceof Ct||n instanceof qu||n instanceof Wu)}function sT(n,e,t){if(!ux(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=nT(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function Pw(n,e,t){if((e=je(e))instanceof _a)return e._internalPath;if(typeof e=="string")return aT(n,e);throw Sp("Field path arguments must be of type string or ",n,!1,void 0,t)}var D3=new RegExp("[~\\*/\\[\\]]");function aT(n,e,t){if(e.search(D3)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _a(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(P.INVALID_ARGUMENT,a+n+u)}function lx(n,e){return n.some(t=>t.isEqual(e))}var Ap=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new xw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(dx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},xw=class extends Ap{data(){return super.data()}};function dx(n,e){return typeof e=="string"?aT(n,e):e instanceof _a?e._internalPath:e._delegate._internalPath}function b3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kw=class{convertValue(e,t="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Si(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[aa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>be(s.doubleValue));return new Wu(o)}convertGeoPoint(e){return new Gu(be(e.latitude),be(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Pp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){let t=Rr(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);_e(kP(r),9688,{name:e});let i=new tp(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(t)||Ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function hx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Mo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Rp=class extends Ap{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ia(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(dx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ia=class extends Rp{data(e={}){return super.data(e)}},Ow=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ia(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ia(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ia(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:C3(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function C3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:n})}}function fx(n){n=sn(n,Ct);let e=sn(n.firestore,er);return v3(iT(e),n._key).then(t=>mx(e,n,t))}var Np=class extends kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}};function px(n,e,t){n=sn(n,Ct);let r=sn(n.firestore,er),i=hx(n.converter,e,t);return Up(r,[ax(oT(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Qn.none())])}function gx(n,e,t,...r){n=sn(n,Ct);let i=sn(n.firestore,er),o=oT(i),s;return s=typeof(e=je(e))=="string"||e instanceof _a?T3(o,"updateDoc",n._key,e,t,r):w3(o,"updateDoc",n._key,e),Up(i,[s.toMutation(n._key,Qn.exists(!0))])}function cT(n){return Up(sn(n.firestore,er),[new ju(n._key,Qn.none())])}function uT(n,e){let t=sn(n.firestore,er),r=rT(n),i=hx(n.converter,e);return Up(t,[ax(oT(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function lT(n,...e){var t,r,i;n=je(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||VM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(VM(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Ct)l=sn(n.firestore,er),h=xp(n._key.path),u={next:p=>{e[s]&&e[s](mx(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=sn(n,Tp);l=sn(p.firestore,er),h=p._query;let g=new Np(l);u={next:y=>{e[s]&&e[s](new Ow(l,g,p,y))},error:e[s+1],complete:e[s+2]},b3(n._query)}return function(g,y,C,N){let R=new Ip(N),O=new vp(y,R,C);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return zP(yield Aw(g),O)})),()=>{R.xu(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return qP(yield Aw(g),O)}))}}(iT(l),h,a,u)}function Up(n,e){return function(r,i){let o=new Gn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return a3(yield y3(r),i,o)})),o.promise}(iT(n),e)}function mx(n,e,t){let r=t.docs.get(e._key),i=new Np(n);return new Rp(n,i,e._key,r,new Mo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ea=i})(pi),bn(new bt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new er(new nI(r.getProvider("auth-internal")),new oI(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tp(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),xe(QN,YN,e),xe(QN,YN,"esm2017")})();var Bp=function(){return Bp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Bp.apply(this,arguments)};var R3={includeMetadataChanges:!1};function dT(n,e){return e===void 0&&(e=R3),new J(function(t){var r=lT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function yx(n){return dT(n,{includeMetadataChanges:!0})}function vx(n,e){return e===void 0&&(e={}),yx(n).pipe(Y(function(t){return hT(t,e)}))}function hT(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Bp(Bp({},r),(t={},t[e.idField]=n.id,t))}function _x(n){return dT(n,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}function Ex(n,e){return e===void 0&&(e={}),_x(n).pipe(Y(function(t){return t.map(function(r){return hT(r,e)})}))}var xr=class{constructor(e){return e}},Ix="firestore",fT=class{constructor(){return Ks(Ix)}};var pT=new L("angularfire2.firestore-instances");function N3(n,e){let t=mu(Ix,n,e);return t&&new xr(t)}function M3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new xr(r)}}var P3={provide:fT,deps:[[new Mt,pT]]},x3={provide:xr,useFactory:N3,deps:[[new Mt,pT],wr]};function $ce(n,...e){return xe("angularfire",gi.full,"fst"),Vt([x3,P3,{provide:pT,useFactory:M3(n),multi:!0,deps:[ye,Ne,mi,To,[new Mt,Au],[new Mt,Qs],...e]}])}var wx=Xe(Ex,!0);var Tx=Xe(vx,!0);var gT=Xe(ix,!0,2);var Ai=Xe(rT,!0,2);var Dx=Xe(fx,!0);var Hce=Xe(ox,!0);var bx=Xe(px,!0,2);var mT=Xe(gx,!0,2);var Lx=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(z(yn),z(Tt))};static \u0275dir=Se({type:n})}return n})(),TT=(()=>{class n extends Lx{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ti(n)))(i||n)}})();static \u0275dir=Se({type:n,features:[en]})}return n})(),tl=new L("");var k3={provide:tl,useExisting:ln(()=>Yp),multi:!0};function O3(){let n=nn()?nn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var F3=new L(""),Yp=(()=>{class n extends Lx{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!O3())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(z(yn),z(Tt),z(F3,8))};static \u0275dir=Se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&vn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ii([k3]),en]})}return n})();function DT(n){return n==null||bT(n)===0}function bT(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var CT=new L(""),ST=new L(""),L3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Sx=class{static min(e){return V3(e)}static max(e){return j3(e)}static required(e){return U3(e)}static requiredTrue(e){return B3(e)}static email(e){return $3(e)}static minLength(e){return H3(e)}static maxLength(e){return z3(e)}static pattern(e){return q3(e)}static nullValidator(e){return Vx()}static compose(e){return zx(e)}static composeAsync(e){return Gx(e)}};function V3(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function j3(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function U3(n){return DT(n.value)?{required:!0}:null}function B3(n){return n.value===!0?null:{required:!0}}function $3(n){return DT(n.value)||L3.test(n.value)?null:{email:!0}}function H3(n){return e=>{let t=e.value?.length??bT(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function z3(n){return e=>{let t=e.value?.length??bT(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function q3(n){if(!n)return Vx;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(DT(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Vx(n){return null}function jx(n){return n!=null}function Ux(n){return yr(n)?Ie(n):n}function Bx(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function $x(n,e){return e.map(t=>t(n))}function G3(n){return!n.validate}function Hx(n){return n.map(e=>G3(e)?e:t=>e.validate(t))}function zx(n){if(!n)return null;let e=n.filter(jx);return e.length==0?null:function(t){return Bx($x(t,e))}}function qx(n){return n!=null?zx(Hx(n)):null}function Gx(n){if(!n)return null;let e=n.filter(jx);return e.length==0?null:function(t){let r=$x(t,e).map(Ux);return Qg(r).pipe(Y(Bx))}}function Wx(n){return n!=null?Gx(Hx(n)):null}function Ax(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Kx(n){return n._rawValidators}function Qx(n){return n._rawAsyncValidators}function yT(n){return n?Array.isArray(n)?n:[n]:[]}function Hp(n,e){return Array.isArray(n)?n.includes(e):n===e}function Rx(n,e){let t=yT(e);return yT(n).forEach(i=>{Hp(t,i)||t.push(i)}),t}function Nx(n,e){return yT(e).filter(t=>!Hp(n,t))}var zp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},jo=class extends zp{name;get formDirective(){return null}get path(){return null}},Uo=class extends zp{_parent=null;name=null;valueAccessor=null},qp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},W3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sue=ee(k({},W3),{"[class.ng-submitted]":"isSubmitted"}),Yx=(()=>{class n extends qp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(Uo,2))};static \u0275dir=Se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Mc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[en]})}return n})(),aue=(()=>{class n extends qp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(jo,10))};static \u0275dir=Se({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Mc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[en]})}return n})();var Yu="VALID",$p="INVALID",Da="PENDING",Zu="DISABLED",Ri=class{},Gp=class extends Ri{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ju=class extends Ri{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Xu=class extends Ri{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ba=class extends Ri{status;source;constructor(e,t){super(),this.status=e,this.source=t}},vT=class extends Ri{source;constructor(e){super(),this.source=e}},_T=class extends Ri{source;constructor(e){super(),this.source=e}};function AT(n){return(Zp(n)?n.validators:n)||null}function K3(n){return Array.isArray(n)?qx(n):n||null}function RT(n,e){return(Zp(e)?e.asyncValidators:n)||null}function Q3(n){return Array.isArray(n)?Wx(n):n||null}function Zp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Zx(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function Jx(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var Ca=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xt(this.statusReactive)}set status(e){xt(()=>this.statusReactive.set(e))}_status=Ss(()=>this.statusReactive());statusReactive=xn(void 0);get valid(){return this.status===Yu}get invalid(){return this.status===$p}get pending(){return this.status==Da}get disabled(){return this.status===Zu}get enabled(){return this.status!==Zu}errors;get pristine(){return xt(this.pristineReactive)}set pristine(e){xt(()=>this.pristineReactive.set(e))}_pristine=Ss(()=>this.pristineReactive());pristineReactive=xn(!0);get dirty(){return!this.pristine}get touched(){return xt(this.touchedReactive)}set touched(e){xt(()=>this.touchedReactive.set(e))}_touched=Ss(()=>this.touchedReactive());touchedReactive=xn(!1);get untouched(){return!this.touched}_events=new Fe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Rx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Rx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Nx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Nx(e,this._rawAsyncValidators))}hasValidator(e){return Hp(this._rawValidators,e)}hasAsyncValidator(e){return Hp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ju(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ju(!0,r))}markAsPending(e={}){this.status=Da;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ba(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zu,this.errors=null,this._forEachChild(i=>{i.disable(ee(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gp(this.value,r)),this._events.next(new ba(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yu,this._forEachChild(r=>{r.enable(ee(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yu||this.status===Da)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gp(this.value,t)),this._events.next(new ba(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zu:Yu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Da,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=Ux(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ba(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?Zu:this.errors?$p:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Da)?Da:this._anyControlsHaveStatus($p)?$p:Yu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ju(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Xu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=K3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Q3(this._rawAsyncValidators)}},Wp=class extends Ca{constructor(e,t,r){super(AT(t),RT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Jx(this,!0,e),Object.keys(e).forEach(r=>{Zx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ET=class extends Wp{};var Jp=new L("",{providedIn:"root",factory:()=>Xp}),Xp="always";function Xx(n,e){return[...e.path,n]}function IT(n,e,t=Xp){NT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Z3(n,e),X3(n,e),J3(n,e),Y3(n,e)}function Mx(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Kp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Y3(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function NT(n,e){let t=Kx(n);e.validator!==null?n.setValidators(Ax(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Qx(n);e.asyncValidator!==null?n.setAsyncValidators(Ax(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Kp(e._rawValidators,i),Kp(e._rawAsyncValidators,i)}function Qp(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Kx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=Qx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Kp(e._rawValidators,r),Kp(e._rawAsyncValidators,r),t}function Z3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ek(n,e)})}function J3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ek(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ek(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function X3(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function eG(n,e){n==null,NT(n,e)}function tG(n,e){return Qp(n,e)}function tk(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function nG(n){return Object.getPrototypeOf(n.constructor)===TT}function rG(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function nk(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Yp?t=o:nG(o)?r=o:i=o}),i||r||t||null}function iG(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Px(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function xx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var el=class extends Ca{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(AT(t),RT(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(xx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Px(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Px(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var oG=n=>n instanceof el;var sG={provide:Uo,useExisting:ln(()=>MT)},kx=Promise.resolve(),MT=(()=>{class n extends Uo{_changeDetectorRef;callSetDisabledState;control=new el;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Pe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=nk(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),tk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){IT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){kx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&uo(r);kx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Xx(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(z(jo,9),z(CT,10),z(ST,10),z(tl,10),z(vr,8),z(Jp,8))};static \u0275dir=Se({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ii([sG]),en,gn]})}return n})();var uue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Se({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var rk=new L("");var aG={provide:jo,useExisting:ln(()=>cG)},cG=(()=>{class n extends jo{callSetDisabledState;get submitted(){return xt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ss(()=>this._submittedReactive());_submittedReactive=xn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Pe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return IT(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Mx(t.control||null,t,!1),iG(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),rG(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new vT(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new _T(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Mx(r||null,t),oG(i)&&(IT(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);eG(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&tG(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NT(this.form,this),this._oldForm&&Qp(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(z(CT,10),z(ST,10),z(Jp,8))};static \u0275dir=Se({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&vn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ii([aG]),en,gn]})}return n})();var uG={provide:Uo,useExisting:ln(()=>lG)},lG=(()=>{class n extends Uo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Pe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=nk(this,o)}ngOnChanges(t){this._added||this._setUpControl(),tk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Xx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(z(jo,13),z(CT,10),z(ST,10),z(tl,10),z(rk,8))};static \u0275dir=Se({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ii([uG]),en,gn]})}return n})();var dG={provide:tl,useExisting:ln(()=>eg),multi:!0};function ik(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function hG(n){return n.split(":")[0]}var eg=(()=>{class n extends TT{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=ik(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=hG(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ti(n)))(i||n)}})();static \u0275dir=Se({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&vn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ii([dG]),en]})}return n})(),ok=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ik(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(z(Tt),z(yn),z(eg,9))};static \u0275dir=Se({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),fG={provide:tl,useExisting:ln(()=>sk),multi:!0};function Ox(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function pG(n){return n.split(":")[0]}var sk=(()=>{class n extends TT{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=pG(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ti(n)))(i||n)}})();static \u0275dir=Se({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&vn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ii([fG]),en]})}return n})(),ak=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Ox(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ox(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(z(Tt),z(yn),z(sk,9))};static \u0275dir=Se({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var ck=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=Nt({})}return n})(),wT=class extends Ca{constructor(e,t,r){super(AT(t),RT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Jx(this,!1,e),e.forEach((r,i)=>{Zx(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Fx(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var lue=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return Fx(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Wp(i,o)}record(t,r=null){let i=this._reduceControls(t);return new ET(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Fx(r)?o=r:(o.validators=r,o.asyncValidators=i),new el(t,ee(k({},o),{nonNullable:!0}))):new el(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new wT(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof el)return t;if(t instanceof Ca)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jp,useValue:t.callSetDisabledState??Xp}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=Nt({imports:[ck]})}return n})(),due=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rk,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Jp,useValue:t.callSetDisabledState??Xp}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=Nt({imports:[ck]})}return n})();var tg=class n{constructor(e){this.firestore=e}getPlantas(){let e=gT(this.firestore,"plantas");return wx(e,{idField:"id"})}addPlanta(e){let t=gT(this.firestore,"plantas");return uT(t,e)}getPlantaById(e){let t=Ai(this.firestore,`plantas/${e}`);return Tx(t,{idField:"id"})}actualizarPlanta(e,t){let r=Ai(this.firestore,"plantas",e);return mT(r,t)}deletePlanta(e){let t=Ai(this.firestore,"plantas",e);return cT(t)}updatePlanta(e,t){let r=Ai(this.firestore,"plantas",e);return mT(r,t)}static \u0275fac=function(t){return new(t||n)($(xr))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var ng=class n{constructor(e,t){this.auth=e;this.firestore=t;zN(this.auth,r=>_(this,null,function*(){if(r)try{let i=Ai(this.firestore,"usuarios",r.uid),o=yield Dx(i),s=o.exists()?o.data():{};r.rol=s.rol||"visitante"}catch(i){console.error("Error obteniendo rol del usuario:",i)}this.userSubject.next(r)}))}userSubject=new qe(null);user$=this.userSubject.asObservable();login(e,t){return qN(this.auth,e,t)}register(e,t){return HE(this.auth,e,t)}logout(){return GN(this.auth)}get currentUser(){return this.auth.currentUser}registerConRol(e,t,r="usuario"){return HE(this.auth,e,t).then(i=>{let o=Ai(this.firestore,"usuarios",i.user.uid);return bx(o,{email:e,rol:r})})}static \u0275fac=function(t){return new(t||n)($(Ao),$(xr))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var vG=n=>["/plantas",n],_G=n=>["/plantas/editar",n];function EG(n,e){if(n&1&&(Ze(0,"option",9),_n(1),Ge()),n&2){let t=e.$implicit;tn("value",t),Pt(),Pc(t)}}function IG(n,e){if(n&1&&Ds(0,"img",14),n&2){let t=ao().$implicit;tn("alt",_v(t.nombre))("src",t.imagenUrl,sh)}}function wG(n,e){if(n&1){let t=pv();Ze(0,"button",18),vn("click",function(){Ed(t);let i=ao(2).$implicit,o=ao();return Id(o.eliminarPlanta(i.id))}),_n(1," Eliminar "),Ge()}}function TG(n,e){if(n&1&&(Ze(0,"div",15)(1,"a",11)(2,"button",16),_n(3,"Editar"),Ge()(),ri(4,wG,2,0,"button",17),Ge()),n&2){let t=ao().$implicit;Pt(),tn("routerLink",gh(2,_G,t.id)),Pt(3),tn("ngIf",t.id)}}function DG(n,e){if(n&1&&(Ze(0,"div",10)(1,"a",11),ri(2,IG,1,3,"img",12),Ge(),Ze(3,"h3"),_n(4),Ge(),ri(5,TG,5,4,"div",13),Ev(6,"async"),Ge()),n&2){let t=e.$implicit,r=ao();Pt(),tn("routerLink",gh(6,vG,t.id)),Pt(),tn("ngIf",t.imagenUrl),Pt(2),Pc(t.nombre),Pt(),tn("ngIf",Iv(6,4,r.rol$)==="admin")}}var lk=class n{constructor(e,t){this.plantasService=e;this.auth=t}plantas=[];terminoBusqueda="";filtroRegion="";ordenAlfabetico="";rol$;ngOnInit(){this.rol$=this.auth.user$.pipe(Y(e=>e?.rol||"visitante")),this.plantasService.getPlantas().subscribe(e=>{this.plantas=e})}eliminarPlanta(e){if(!e){alert("\u274C ID de la planta no v\xE1lido");return}confirm("\xBFEst\xE1s seguro de eliminar esta planta?")&&this.plantasService.deletePlanta(e).then(()=>alert("\u2705 Planta eliminada")).catch(r=>console.error("Error al eliminar:",r))}get regionesUnicas(){let e=this.plantas.map(t=>t.region);return Array.from(new Set(e))}get plantasFiltradas(){let e=this.plantas.filter(t=>{let r=t.nombre.toLowerCase().includes(this.terminoBusqueda.toLowerCase())||t.usos.toLowerCase().includes(this.terminoBusqueda.toLowerCase())||t.region.toLowerCase().includes(this.terminoBusqueda.toLowerCase()),i=this.filtroRegion===""||t.region===this.filtroRegion;return r&&i});return this.ordenAlfabetico==="asc"?e=e.sort((t,r)=>t.nombre.localeCompare(r.nombre)):this.ordenAlfabetico==="desc"&&(e=e.sort((t,r)=>r.nombre.localeCompare(t.nombre))),e}static \u0275fac=function(t){return new(t||n)(z(tg),z(ng))};static \u0275cmp=Sc({type:n,selectors:[["app-plantas"]],decls:17,vars:5,consts:[[1,"filtros-container"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","asc"],["value","desc"],["type","text","placeholder","\u{1F50D} Buscar planta...",1,"input-busqueda",3,"ngModelChange","ngModel"],[1,"grid"],["class","card",4,"ngFor","ngForOf"],[3,"value"],[1,"card"],[3,"routerLink"],[3,"src","alt",4,"ngIf"],["class","actions",4,"ngIf"],[3,"src","alt"],[1,"actions"],[1,"btn-editar"],["class","btn-eliminar",3,"click",4,"ngIf"],[1,"btn-eliminar",3,"click"]],template:function(t,r){t&1&&(Ze(0,"h2"),_n(1,"\u{1F33F} Lista de Plantas Medicinales"),Ge(),Ze(2,"div",0)(3,"select",1),Cs("ngModelChange",function(o){return xc(r.filtroRegion,o)||(r.filtroRegion=o),o}),Ze(4,"option",2),_n(5,"\u{1F30E} Todas las regiones"),Ge(),ri(6,EG,2,2,"option",3),Ge(),Ze(7,"select",1),Cs("ngModelChange",function(o){return xc(r.ordenAlfabetico,o)||(r.ordenAlfabetico=o),o}),Ze(8,"option",2),_n(9,"\u{1F524} Sin orden"),Ge(),Ze(10,"option",4),_n(11,"A-Z"),Ge(),Ze(12,"option",5),_n(13,"Z-A"),Ge()(),Ze(14,"input",6),Cs("ngModelChange",function(o){return xc(r.terminoBusqueda,o)||(r.terminoBusqueda=o),o}),Ge()(),Ze(15,"div",7),ri(16,DG,7,8,"div",8),Ge()),t&2&&(Pt(3),bs("ngModel",r.filtroRegion),Pt(3),tn("ngForOf",r.regionesUnicas),Pt(),bs("ngModel",r.ordenAlfabetico),Pt(7),bs("ngModel",r.terminoBusqueda),Pt(2),tn("ngForOf",r.plantasFiltradas))},dependencies:[Ch,bh,Ov,Fv,b_,Hs,uk,ok,ak,Yp,eg,Yx,MT],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;padding:20px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 4px 8px #00000014;overflow:hidden;transition:transform .2s;padding:10px;text-align:center}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:140px;object-fit:cover;border-radius:6px}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin:10px 0 5px;color:#2e7d32}.btn-eliminar[_ngcontent-%COMP%]{background-color:#d32f2f;color:#fff;border:none;padding:5px 10px;border-radius:6px;font-size:13px;cursor:pointer;transition:background-color .2s;font-family:Pacifico,cursive}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#b71c1c}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-weight:700;font-size:16px;border-radius:8px;width:100px;font-family:Pacifico,cursive}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:10px}.btn-editar[_ngcontent-%COMP%]{background-color:#388e3c;color:#fff;border:none;padding:6px 12px;border-radius:6px;font-size:13px;cursor:pointer;transition:background-color .2s;font-family:Pacifico,cursive}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#2e7d32}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:background-color .2s,transform .2s}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.filtros-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;margin-bottom:20px;padding:0 20px;gap:10px;font-family:Pacifico,cursive}.filtros-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ccc;border-radius:6px;font-size:14px;width:200px;box-shadow:0 1px 3px #0000000d;font-family:Pacifico,cursive}.filtros-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ccc;border-radius:6px;font-size:14px;width:250px;box-shadow:0 1px 3px #0000000d;margin-left:auto}.filtros-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filtros-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50;box-shadow:0 0 4px #4caf5066}.btn-eliminar[_ngcontent-%COMP%], .btn-editar[_ngcontent-%COMP%], .btn-sesion[_ngcontent-%COMP%], .cerrar-sesion[_ngcontent-%COMP%]{cursor:pointer;font-family:Pacifico,cursive}.input-busqueda[_ngcontent-%COMP%]{padding:10px 15px;font-size:30px;border:2px solid #2e7d32;border-radius:8px;outline:none;box-shadow:0 2px 6px #0000001a;transition:border-color .3s ease,box-shadow .3s ease;flex:1;max-width:300px;font-family:Pacifico,cursive}"]})};export{Y as a,ar as b,j as c,Nt as d,$ as e,M as f,bb as g,Ed as h,Id as i,sh as j,Pt as k,z as l,Sc as m,Bt as n,ri as o,tn as p,Ze as q,Ge as r,Ds as s,pv as t,vn as u,ao as v,_n as w,Pc as x,vv as y,_v as z,LV as A,Ev as B,Iv as C,Ov as D,Fv as E,Ch as F,L2 as G,t0 as H,hj as I,Un as J,g_ as K,Tn as L,Hs as M,$U as N,qU as O,b_ as P,Boe as Q,$oe as R,sae as S,aae as T,$ce as U,Hce as V,ng as W,Yp as X,Sx as Y,Yx as Z,aue as _,uue as $,cG as aa,lG as ba,lue as ca,uk as da,due as ea,tg as fa,lk as ga};
